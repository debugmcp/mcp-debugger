# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/utils/egg_link.py
@source-hash: d0578f6685182afe
@generated: 2026-02-09T18:01:22Z

## Primary Purpose
Utility module for locating Python .egg-link files in the filesystem. Provides two search strategies for finding development installs of packages that use .egg-link files to point to their source locations.

## Key Functions

### `_egg_link_names(raw_name: str) -> List[str]` (L18-30)
- **Purpose**: Generates possible .egg-link filenames for a package
- **Logic**: Returns both normalized name (pkg_resources safe_name style) and raw name variants
- **Rationale**: Handles setuptools 69+ change in .egg-link naming convention
- **Returns**: List of two filename variants: sanitized and raw package names

### `egg_link_path_from_sys_path(raw_name: str) -> Optional[str]` (L33-43)
- **Purpose**: Searches for .egg-link files by walking through sys.path directories
- **Algorithm**: Iterates through all sys.path entries, checking for both filename variants
- **Returns**: First matching .egg-link file path or None

### `egg_link_path_from_location(raw_name: str) -> Optional[str]` (L46-80)
- **Purpose**: Location-aware .egg-link search using pip's site resolution logic
- **Strategy**: Uses different search orders based on virtual environment context:
  - Non-virtualenv: user_site → site_packages
  - No-global virtualenv: site_packages only
  - Global virtualenv: site_packages → user_site
- **Returns**: First matching .egg-link file path or None

## Dependencies
- `pip._internal.locations`: Provides `site_packages` and `user_site` paths
- `pip._internal.utils.virtualenv`: Virtual environment detection utilities
- Standard library: `os`, `re`, `sys`

## Architectural Patterns
- **Dual search strategy**: Both sys.path traversal and location-specific lookup
- **Filename normalization**: Handles multiple .egg-link naming conventions
- **Environment-aware logic**: Different behaviors for virtualenv configurations
- **Fallback mechanisms**: Multiple search locations with priority ordering

## Critical Invariants
- .egg-link files are plain text files containing package source paths
- Search order matters for cases where multiple .egg-link files exist
- Virtual environment context determines which site directories to search
- Both normalized and raw package names must be checked for compatibility
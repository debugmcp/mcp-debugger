# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/commands/download.py
@source-hash: d2a0749f2b3a6443
@generated: 2026-02-09T18:01:07Z

**Primary Purpose:**
Implements pip's download command functionality to download Python packages without installing them. Downloads packages from PyPI, VCS repositories, local directories, or archives to a specified destination directory.

**Key Classes:**
- `DownloadCommand` (L18-146): Main command class inheriting from RequirementCommand. Handles package downloading operations without installation.

**Key Methods:**
- `add_options()` (L38-76): Configures command-line options including destination directory (-d/--dest), constraints, requirements, binary preferences, and target Python options.
- `run()` (L78-146): Core execution method decorated with @with_cleanup. Orchestrates the download process including option validation, session setup, dependency resolution, and file downloads.

**Key Dependencies:**
- `RequirementCommand`: Base class providing requirement handling infrastructure
- `cmdoptions`: Command-line option definitions and utilities
- `get_build_tracker()`: Build process tracking
- `TempDirectory`: Temporary directory management
- `make_target_python()`: Target Python version configuration

**Architecture Patterns:**
- Command pattern implementation with options configuration and run execution
- Context manager usage for resource cleanup (@with_cleanup decorator, TempDirectory)
- Dependency injection pattern for finder, preparer, and resolver components

**Key Process Flow:**
1. Configure options and validate download directory (L79-87)
2. Create session and package finder (L89-97)
3. Set up build tracker and temporary directory (L99-105)
4. Parse requirements and create preparer/resolver (L107-128)
5. Resolve dependencies and download packages (L132-141)
6. Report successful downloads (L143-145)

**Critical Configuration:**
- `options.ignore_installed = True` (L79): Forces download regardless of installed packages
- `options.editables = []` (L82): Disables editable installs for download command
- Uses current directory as default destination (L63)
- Creates globally managed temporary directory for build operations (L101-105)

**Output Handling:**
Downloads packages to specified directory and reports successful downloads via `write_output()` (L144).
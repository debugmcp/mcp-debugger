# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/utils/appdirs.py
@source-hash: b3081c4ca3a6ddd6
@generated: 2026-02-09T18:01:18Z

## Purpose and Responsibility

This file provides a compatibility wrapper around the vendored `platformdirs` (previously `appdirs`) module to maintain backward compatibility with pip's existing codebase. It serves as an abstraction layer that will eventually be phased out as pip migrates to direct `platformdirs` usage.

## Key Functions

### `user_cache_dir(appname: str) -> str` (L16-17)
Returns user cache directory path by delegating to `platformdirs.user_cache_dir()` with `appauthor=False`.

### `_macos_user_config_dir(appname: str, roaming: bool = True) -> str` (L20-31)
macOS-specific helper function that implements fallback logic:
- First attempts to use `~/Application Support/{appname}` if directory exists (L22-24)
- Falls back to Linux-like `~/.config/{appname}` path structure (L26-31)

### `user_config_dir(appname: str, roaming: bool = True) -> str` (L34-38)
Platform-aware user configuration directory resolver:
- Uses custom macOS logic via `_macos_user_config_dir()` on Darwin (L35-36)
- Delegates to `platformdirs.user_config_dir()` for other platforms (L38)

### `site_config_dirs(appname: str) -> List[str]` (L43-52)
Returns platform-specific system configuration directory paths:
- macOS: Uses `site_data_dir()` with multipath (L44-45)
- Windows: Returns single directory from `site_config_dir()` (L47-49)
- Unix-like: Splits multipath result and appends `/etc` (L51-52)

## Dependencies

- `pip._vendor.platformdirs` as `_appdirs` (L13) - Core directory resolution functionality
- Standard library: `os`, `sys`, `typing.List` (L9-11)

## Architectural Patterns

- **Wrapper Pattern**: Encapsulates `platformdirs` with pip-specific parameter defaults (`appauthor=False`)
- **Platform Abstraction**: Uses `sys.platform` checks to handle OS-specific directory conventions
- **Fallback Strategy**: macOS config directory implements graceful degradation from native to cross-platform paths

## Critical Constraints

- All functions consistently pass `appauthor=False` to underlying `platformdirs` calls
- macOS configuration directory fallback depends on directory existence checks
- Unix site config always includes `/etc` as final fallback directory
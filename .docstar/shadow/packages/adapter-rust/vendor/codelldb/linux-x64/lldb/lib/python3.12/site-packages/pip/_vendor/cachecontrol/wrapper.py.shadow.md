# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/cachecontrol/wrapper.py
@source-hash: 86c19cee0f101904
@generated: 2026-02-09T18:01:19Z

**Primary Purpose:** Factory function for adding HTTP caching capabilities to `requests.Session` objects using the CacheControl library.

**Core Functionality:**
- `CacheControl()` function (L20-43): Main entry point that wraps a requests Session with caching middleware
  - Takes a Session object and optional caching configuration parameters
  - Creates and mounts a CacheControlAdapter to handle HTTP and HTTPS requests
  - Returns the enhanced Session with caching capabilities

**Key Parameters:**
- `sess`: The requests.Session to enhance with caching
- `cache`: Storage backend (defaults to DictCache if None)
- `cache_etags`: Boolean flag for ETag caching support
- `serializer`: Custom response serialization strategy
- `heuristic`: Cache freshness heuristics
- `controller_class`: Custom cache controller implementation
- `adapter_class`: Custom adapter implementation (defaults to CacheControlAdapter)
- `cacheable_methods`: HTTP methods eligible for caching

**Dependencies:**
- `CacheControlAdapter` from `adapter` module: HTTP adapter providing caching logic
- `DictCache` from `cache` module: Default in-memory cache implementation
- Type imports for requests Session and various CacheControl components

**Architecture Pattern:**
Implements the Adapter pattern by mounting a caching adapter to both HTTP and HTTPS protocols on the Session object. The function serves as a convenient factory that handles adapter instantiation and configuration with sensible defaults.

**Return Value:**
Returns the same Session object passed in, but now enhanced with caching capabilities for all HTTP/HTTPS requests.
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/req/req_set.py
@source-hash: 8f77ac1b4b3a4b3a
@generated: 2026-02-09T18:01:18Z

**Purpose & Responsibility**
Provides the `RequirementSet` class that manages collections of pip installation requirements, separating named packages from unnamed requirements and handling requirement lookups with canonical name normalization.

**Core Class: RequirementSet (L12-82)**
Central container for managing pip installation requirements during dependency resolution.

**Key Attributes:**
- `requirements` (L16): OrderedDict mapping canonical package names to InstallRequirement objects
- `check_supported_wheels` (L17): Boolean flag controlling wheel compatibility validation
- `unnamed_requirements` (L19): List of InstallRequirement objects without package names (e.g., local paths, URLs)

**Primary Methods:**
- `__init__()` (L13-19): Initializes empty requirement collections with optional wheel checking
- `add_named_requirement()` (L45-49): Adds requirements with package names using canonical name normalization
- `add_unnamed_requirement()` (L41-43): Adds requirements without names (asserts name is None)
- `has_requirement()` (L51-57): Checks if named requirement exists and is not a constraint-only requirement
- `get_requirement()` (L59-65): Retrieves requirement by name, raises KeyError if not found
- `all_requirements` property (L67-69): Returns combined list of all named and unnamed requirements
- `requirements_to_install` property (L72-82): Filters requirements that need installation (excludes constraints and satisfied requirements)

**String Representations:**
- `__str__()` (L21-26): Returns space-separated requirement strings, excluding transitive dependencies
- `__repr__()` (L28-39): Provides detailed object representation with requirement count

**Key Dependencies:**
- `pip._vendor.packaging.utils.canonicalize_name`: Normalizes package names for consistent lookup
- `pip._internal.req.req_install.InstallRequirement`: Core requirement object type
- `collections.OrderedDict`: Maintains insertion order for requirements

**Architectural Patterns:**
- Separation of named vs unnamed requirements enables different handling strategies
- Canonical name normalization ensures consistent package identification
- Property-based filtering provides clean interface for different requirement subsets

**Critical Invariants:**
- Named requirements must have non-None names (enforced by assertions)
- Unnamed requirements must have None names (enforced by assertions) 
- Package name lookups always use canonical normalization
- Constraint-only requirements are excluded from installation filtering
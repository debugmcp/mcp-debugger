# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/prompt.py
@source-hash: c1d3a7d97f174c92
@generated: 2026-02-09T18:01:49Z

## Rich Terminal Prompt System

Interactive user input utilities for Rich terminal library, providing typed prompt classes with validation and formatting.

### Core Components

**Exception Classes (L11-28)**
- `PromptError` (L11): Base exception for prompt-related errors
- `InvalidResponse` (L15): Raised when user input fails validation, implements `__rich__()` for formatted error display

**Base Prompt Framework**
- `PromptBase[PromptType]` (L30-284): Generic base class implementing core prompt loop logic
  - Supports password input, choice validation, default values, and custom styling
  - Key methods:
    - `ask()` (L75-141): Class method factory for one-shot prompts
    - `make_prompt()` (L154-183): Builds formatted prompt text with choices/defaults
    - `process_response()` (L217-238): Converts/validates raw input to target type
    - `__call__()` (L262-283): Main prompt loop with retry on validation errors
  - Configurable error messages and prompt styling via class attributes

**Concrete Prompt Classes**
- `Prompt` (L286-296): Returns string input
- `IntPrompt` (L298-308): Returns integer with numeric validation
- `FloatPrompt` (L310-320): Returns float with numeric validation  
- `Confirm` (L322-346): Boolean y/n prompt with custom rendering logic

### Key Patterns

**Type Safety**: Uses generics and overloads to provide proper return type hints based on whether default is provided

**Validation Chain**: Input → `process_response()` → type conversion → choice validation → return or retry

**Rich Integration**: Leverages Rich's Text objects for styled prompt rendering and Console for input/output

**Hook System**: `pre_prompt()` (L249) and `on_validate_error()` (L240) provide extension points

### Dependencies
- Rich console system for styled I/O
- Standard typing module for generic type support

### Usage Pattern
```python
# Direct instantiation with loop
prompt = Prompt("Enter name:", choices=["alice", "bob"])
result = prompt()

# One-shot class method
name = Prompt.ask("Enter name:", default="anonymous")
```
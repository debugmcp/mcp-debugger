# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/text.py
@source-hash: e6b437cef36b8395
@generated: 2026-02-09T18:02:02Z

## Purpose
A rich text library component that handles styled text with formatting, alignment, and wrapping capabilities. Part of the Rich terminal formatting library used by pip.

## Key Classes

### Span (L46-115)
NamedTuple representing a styled text region with start/end indices and associated style.
- `split(offset)` (L62): Splits span at offset into two spans
- `move(offset)` (L75): Shifts span position by offset
- `right_crop(offset)` (L87): Crops span at given position
- `extend(cells)` (L101): Extends span length by cell count

### Text (L117-1330)
Main class for styled text manipulation with extensive formatting capabilities.

#### Core Properties
- `_text` (L156): Internal text storage as list
- `_spans` (L163): Style spans applied to text regions  
- `_length` (L164): Cached text length
- `plain` property (L402): Returns text without formatting

#### Factory Methods
- `from_markup(text, style)` (L258): Creates Text from console markup
- `from_ansi(text, style)` (L293): Creates Text from ANSI escape codes
- `styled(text, style)` (L331): Creates pre-styled Text instance
- `assemble(*parts)` (L356): Combines text parts with optional styles

#### Text Manipulation
- `append(text, style)` (L962): Adds text with optional styling
- `append_text(text)` (L1006): Optimized append for Text instances
- `append_tokens(tokens)` (L1028): Appends styled token sequence
- `stylize(style, start, end)` (L456): Applies style to text range
- `stylize_before(style, start, end)` (L482): Applies style with higher priority

#### Layout & Formatting
- `wrap(console, width)` (L1198): Word wraps text to specified width
- `truncate(max_width, overflow, pad)` (L857): Truncates text with overflow handling
- `align(align, width, character)` (L942): Aligns text within specified width
- `pad(count, character)` (L898): Adds padding around text
- `split(separator)` (L1059): Splits text preserving styles
- `divide(offsets)` (L1103): Divides text at specific positions

#### Rendering
- `__rich_console__(console, options)` (L686): Rich protocol console rendering
- `render(console, end)` (L717): Converts to Segment objects for display
- `markup` property (L229): Generates console markup representation

#### Advanced Features
- `highlight_regex(pattern, style)` (L592): Highlights regex matches
- `highlight_words(words, style)` (L630): Highlights specific words
- `expand_tabs(tab_size)` (L815): Converts tabs to spaces
- `detect_indentation()` (L1262): Auto-detects code indentation
- `with_indent_guides(indent_size, character, style)` (L1283): Adds visual indent guides

## Key Dependencies
- Rich console system (Console, ConsoleOptions)
- Style system for text formatting
- Segment rendering for output
- Cell measurement for width calculations
- Control code stripping for sanitization

## Architecture Notes
- Uses span-based styling system for efficient style application
- Implements Rich console protocol for seamless integration
- Supports both string and Text concatenation
- Maintains style information through text transformations
- Optimized rendering with style caching and span merging

## Critical Invariants
- Text content is always sanitized (control codes stripped)
- Spans must not extend beyond text boundaries
- Length tracking must remain consistent with actual text
- Style spans are maintained during all text operations
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/commands/freeze.py
@source-hash: daa8d0ac7f4a5a2e
@generated: 2026-02-09T18:01:06Z

## Purpose
Implements the `pip freeze` command that outputs installed packages in requirements.txt format. Generates a reproducible snapshot of the current Python environment's installed packages.

## Key Components

### Helper Functions
- `_should_suppress_build_backends() (L12-13)`: Returns True for Python < 3.12, used to conditionally exclude build backend packages
- `_dev_pkgs() (L16-22)`: Returns set of development packages to exclude by default ("pip", and conditionally "setuptools", "distribute", "wheel" for older Python)

### Main Command Class
- `FreezeCommand (L25-108)`: CLI command class inheriting from base Command
  - `usage (L32-33)`: Command usage string
  - `log_streams (L34)`: Configures logging to stderr
  - `add_options() (L36-86)`: Defines CLI options including:
    - `-r/--requirement`: Use specific requirements file ordering
    - `-l/--local`: Exclude globally installed packages in virtualenv
    - `--user`: Only show user-site packages  
    - `--all`: Include normally excluded dev packages
    - `--exclude-editable`: Exclude editable installs
  - `run() (L88-108)`: Main execution logic that:
    1. Builds skip set from stdlib packages and dev packages
    2. Adds user exclusions to skip set
    3. Calls freeze() operation with all options
    4. Outputs each line to stdout

## Dependencies
- `pip._internal.operations.freeze.freeze`: Core freezing functionality
- `pip._internal.utils.compat.stdlib_pkgs`: Standard library package list
- `pip._internal.cli.cmdoptions`: Reusable CLI option definitions

## Architecture Notes
- Follows pip's command pattern with separate option setup and execution phases
- Uses version-specific logic to handle package exclusions across Python versions
- Delegates actual package discovery and formatting to freeze operation
- Maintains backward compatibility for build backend handling
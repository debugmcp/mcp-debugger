# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/wait.py
@source-hash: dc57012680838329
@generated: 2026-02-09T18:01:59Z

## Primary Purpose
Implements various wait/backoff strategies for retry mechanisms in the Tenacity library. Provides a hierarchy of wait strategies with different timing behaviors for controlling delays between retry attempts.

## Architecture
All strategies inherit from abstract base class `wait_base` (L27-42), implementing the strategy pattern. Each strategy must implement `__call__(retry_state)` returning wait time in seconds. Supports strategy composition through `__add__` and `__radd__` operators.

## Key Classes

### Core Base Class
- `wait_base` (L27-42): Abstract base class defining wait strategy interface
  - `__call__()` (L31): Abstract method returning wait time in seconds
  - `__add__()` (L34): Combines strategies via `wait_combine`
  - `__radd__()` (L37): Enables `sum()` function usage with strategies

### Basic Wait Strategies
- `wait_fixed` (L47-54): Fixed delay between retries
  - Uses `_utils.to_seconds()` for time unit conversion (L51)
- `wait_none` (L57-61): No delay (inherits from `wait_fixed` with 0 seconds)
- `wait_random` (L64-72): Random delay between min/max bounds
  - Uses `random.random()` for uniform distribution (L72)

### Composition Strategies  
- `wait_combine` (L75-83): Sums multiple wait strategies
  - `__call__()` sums all strategy results (L82)
- `wait_chain` (L85-107): Uses different strategies based on attempt number
  - Switches to final strategy when attempts exceed chain length (L105-106)

### Progressive Wait Strategies
- `wait_incrementing` (L110-129): Linear increase per attempt
  - Formula: `start + (increment * (attempt - 1))` capped at max (L128)
- `wait_exponential` (L132-163): Fixed exponential backoff
  - Formula: `multiplier * exp_base^(attempt-1)` with overflow protection (L158-162)
- `wait_random_exponential` (L166-194): Jittered exponential backoff
  - Inherits from `wait_exponential`, adds uniform randomization (L193-194)
- `wait_exponential_jitter` (L197-228): Google Cloud-style exponential with jitter
  - Formula: `initial * exp_base^(attempt-1) + random_jitter` (L224-225)

## Dependencies
- `abc`: Abstract base class support
- `random`: Random number generation for jittered strategies  
- `typing`: Type hints including forward reference to `RetryCallState`
- `pip._vendor.tenacity._utils`: Time unit conversion utilities

## Type System
- `WaitBaseT` (L44): Union type for wait strategies or callable functions
- All strategies accept `RetryCallState` parameter and return `float` seconds
- Time parameters use `_utils.time_unit_type` for flexible unit specification

## Key Patterns
- Strategy pattern: Pluggable wait behaviors via common interface
- Operator overloading: `+` operator for strategy combination
- Defensive programming: Overflow protection in exponential strategies
- Composition over inheritance: Multiple strategies can be combined
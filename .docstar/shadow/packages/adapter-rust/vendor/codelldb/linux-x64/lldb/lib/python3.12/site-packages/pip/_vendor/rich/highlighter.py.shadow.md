# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/highlighter.py
@source-hash: e9902351c3610516
@generated: 2026-02-09T18:01:51Z

## Primary Purpose
Text highlighting framework for the Rich library, providing syntax highlighting capabilities through regex-based pattern matching. Implements abstract base classes and concrete highlighters for code representation, JSON, and ISO8601 datetime formats.

## Core Architecture

### Abstract Base Class
- **Highlighter (L17-48)**: Abstract base defining the highlighting interface
  - `__call__(L20-39)`: Main entry point accepting str or Text, returns highlighted Text
  - `highlight(L41-47)`: Abstract method for in-place highlighting implementation

### Concrete Highlighters

#### Basic Implementations
- **NullHighlighter (L50-59)**: No-op highlighter for disabling highlighting entirely
- **RegexHighlighter (L61-78)**: Base class for regex-based highlighting
  - `highlights`: List of regex patterns to apply
  - `base_style`: Style prefix for all matches
  - Uses Text.highlight_regex() for pattern application

#### Specialized Highlighters
- **ReprHighlighter (L80-104)**: Highlights Python `__repr__` output with comprehensive patterns
  - Supports: XML tags, attributes, brackets, IP addresses (IPv4/IPv6), UUIDs, MAC addresses
  - Python literals: booleans, None, numbers, complex numbers, strings, paths, URLs
  - Base style: "repr."

- **JSONHighlighter (L106-141)**: JSON syntax highlighting with key detection
  - Extends RegexHighlighter with additional key highlighting logic
  - `JSON_STR` constant for string pattern matching
  - Custom `highlight()` method adds "json.key" styling to JSON object keys
  - Base style: "json."

- **ISO8601Highlighter (L143-198)**: Comprehensive ISO8601 datetime pattern matching
  - Extensive regex collection covering dates, times, weeks, timezones
  - Supports calendar dates, ordinal dates, week dates, XML Schema formats
  - Base style: "iso8601."

## Key Dependencies
- `re`: Pattern matching engine
- `typing`: Type annotations
- `.text.Span, Text`: Rich text objects for styling

## Utility Functions
- **_combine_regex (L8-14)**: Combines multiple regex patterns with OR operator

## Design Patterns
- Abstract Factory: Highlighter base class defines interface
- Template Method: RegexHighlighter provides framework, subclasses define patterns
- Strategy: Different highlighters for different content types

## Critical Invariants
- All highlighters must implement `highlight(text: Text) -> None`
- Text highlighting is performed in-place on Text objects
- Regex patterns use named groups for semantic styling
- Style names follow dot notation (e.g., "repr.bool_true", "json.key")

## Test/Demo Code
Lines 201-232 contain demonstration code showing various highlighting examples including paths, numbers, IP addresses, and JSON output.
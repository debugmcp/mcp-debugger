# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/before.py
@source-hash: 748644f609814df7
@generated: 2026-02-09T18:01:50Z

## Purpose
Provides "before" callback strategies for retry operations in the tenacity library. These callbacks execute before each retry attempt to perform actions like logging or no-op behavior.

## Key Components

### Functions

- **`before_nothing`** (L27-28): No-op callback that takes a `RetryCallState` parameter and performs no action. Used as a default strategy when no pre-retry behavior is needed.

- **`before_log`** (L31-46): Factory function that creates a logging callback for retry attempts. Takes a logger instance and log level, returns a closure that logs retry attempt information including function name and ordinal attempt number.

  - **Inner `log_it`** (L34-44): The actual callback closure that performs the logging. Handles edge case where `retry_state.fn` might be None (L35-37) and uses `_utils.get_callback_name()` to extract function name and `_utils.to_ordinal()` for attempt numbering.

## Dependencies
- `typing`: Type hints and TYPE_CHECKING conditional imports
- `pip._vendor.tenacity._utils`: Utility functions for callback name extraction and ordinal number formatting
- `logging` (TYPE_CHECKING only): Logger interface for the logging strategy
- `RetryCallState` (TYPE_CHECKING only): State object containing retry attempt information

## Design Patterns
- **Strategy Pattern**: Different before-call behaviors implemented as separate functions
- **Factory Pattern**: `before_log` creates configured callback instances
- **Closure Pattern**: `log_it` captures logger and log_level from outer scope

## Type Safety
Uses forward references with string literals for type hints to avoid circular imports, leveraging `typing.TYPE_CHECKING` for import-time-only dependencies.
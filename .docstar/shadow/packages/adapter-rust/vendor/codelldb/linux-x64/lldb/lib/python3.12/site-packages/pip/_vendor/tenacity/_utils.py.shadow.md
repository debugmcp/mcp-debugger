# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/_utils.py
@source-hash: b9bb3a6bbb318f72
@generated: 2026-02-09T18:01:50Z

## Purpose
Utility functions and constants for the Tenacity retry library. Provides helper functions for ordinal number formatting, callback name resolution, and time unit conversion.

## Key Components

### Constants
- **MAX_WAIT** (L24): Maximum wait time constant set to `sys.maxsize / 2`, used as an upper bound for retry delays

### Functions

**find_ordinal(pos_num: int) -> str** (L27-40)
- Returns ordinal suffix ("st", "nd", "rd", "th") for a given positive integer
- Handles special cases for 0, 1-3, 4-20, and uses recursive modulo for larger numbers
- Follows English ordinal number rules per Wikipedia reference

**to_ordinal(pos_num: int) -> str** (L43-44) 
- Combines integer with its ordinal suffix (e.g., "1st", "2nd", "3rd")
- Simple wrapper around find_ordinal()

**get_callback_name(cb: Callable) -> str** (L47-69)
- Extracts fully-qualified name from callable objects for debugging/logging
- Attempts to use `__qualname__` first, falls back to `__name__`, then `repr()`
- Prepends module name if available (handles Sphinx edge case where module can be None)
- Gracefully handles AttributeError exceptions throughout

**to_seconds(time_unit: time_unit_type) -> float** (L75-76)
- Normalizes time units to seconds (float)
- Accepts int, float, or timedelta objects
- Uses timedelta.total_seconds() method when applicable

### Type Definitions
- **time_unit_type** (L72): Union type alias for `int | float | timedelta`

## Dependencies
- `sys`: For maxsize constant
- `typing`: For type hints and Callable
- `datetime.timedelta`: For time unit conversion

## Architectural Notes
- Pure utility module with no state or complex dependencies
- Defensive programming pattern with extensive exception handling
- Type hints throughout for better IDE support and documentation
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/unix.py
@source-hash: 09c8bd5aab77e5d0
@generated: 2026-02-09T18:01:37Z

**Primary Purpose:** Implements Unix/Linux-specific platform directory resolution following XDG Base Directory Specification.

**Core Class:**
- `Unix (L23-236)`: Concrete implementation of PlatformDirsABC for Unix systems
  - Inherits from `PlatformDirsABC` (imported from `.api`)
  - Provides XDG-compliant directory paths with environment variable override support
  - Handles both single-path and multipath scenarios via `multipath` attribute

**Key Directory Properties:**

*User-specific directories:*
- `user_data_dir (L37-45)`: `~/.local/share/$appname/$version` or `$XDG_DATA_HOME/$appname/$version`
- `user_config_dir (L68-76)`: `~/.config/$appname/$version` or `$XDG_CONFIG_HOME/$appname/$version`
- `user_cache_dir (L99-107)`: `~/.cache/$appname/$version` or `$XDG_CACHE_HOME/$appname/$version`
- `user_state_dir (L115-123)`: `~/.local/state/$appname/$version` or `$XDG_STATE_HOME/$appname/$version`
- `user_log_dir (L126-132)`: Same as state_dir, optionally with `/log` suffix when opinionated
- `user_runtime_dir (L165-182)`: `/run/user/$(id -u)/$appname/$version` with BSD fallback logic

*Media directories (L135-162):*
- `user_documents_dir`, `user_downloads_dir`, `user_pictures_dir`, `user_videos_dir`, `user_music_dir`, `user_desktop_dir`
- All delegate to `_get_user_media_dir()` with XDG environment variable and fallback path

*Site-wide directories:*
- `site_data_dir (L55-65)`: `/usr/local/share:/usr/share` or `$XDG_DATA_DIRS` (multipath-aware)
- `site_config_dir (L86-96)`: `/etc/xdg` or `$XDG_CONFIG_DIRS` (multipath-aware)
- `site_cache_dir (L110-112)`: `/var/cache/$appname/$version`
- `site_runtime_dir (L185-204)`: `/run/$appname/$version` with BSD-specific handling

**Helper Methods:**
- `_site_data_dirs (L48-52)`: Returns list of site data directories
- `_site_config_dirs (L79-83)`: Returns list of site config directories  
- `_first_item_as_path_if_multipath (L221-225)`: Extracts first path from multipath string
- `iter_config_dirs (L227-230)`: Generator yielding all config directories
- `iter_data_dirs (L232-235)`: Generator yielding all data directories

**Utility Functions:**
- `_get_user_media_dir (L238-245)`: Resolves XDG user directory with fallback
- `_get_user_dirs_folder (L248-270)`: Parses `user-dirs.dirs` config file using ConfigParser
- Platform-specific `getuid()` handling (L13-20): Raises error on Windows, imports from os on Unix

**Dependencies:**
- Standard library: `os`, `sys`, `configparser.ConfigParser`, `pathlib.Path`
- Internal: `.api.PlatformDirsABC`

**Architectural Patterns:**
- XDG Base Directory Specification compliance
- Environment variable precedence over defaults
- Multipath support with path separator joining
- Platform detection for BSD-specific runtime directory logic
- Lazy property evaluation for directory resolution
- Configuration file parsing for user directory customization
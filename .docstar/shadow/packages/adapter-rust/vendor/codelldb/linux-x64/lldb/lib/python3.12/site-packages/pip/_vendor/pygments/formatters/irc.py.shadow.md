# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/formatters/irc.py
@source-hash: 129fa6f23777be81
@generated: 2026-02-09T17:57:57Z

## Purpose

Pygments formatter for IRC color output. Converts syntax-highlighted tokens to IRC color codes and formatting sequences for display in IRC clients.

## Key Components

**IRCFormatter (L97-154)**: Main formatter class inheriting from Pygments Formatter base class.
- `__init__` (L122-128): Configures background theme (light/dark), custom colorscheme, and line numbering
- `format_unencoded` (L135-154): Core formatting logic that processes token stream and applies IRC color formatting
- `_write_lineno` (L130-133): Helper for optional line number output

**Color Configuration**:
- `IRC_COLORS` (L22-51): Token-to-color mapping dictionary with light/dark background variants
- `IRC_COLOR_MAP` (L54-74): Color name to IRC numeric code mapping (0-15)
- `ircformat` (L76-94): Utility function converting color names to IRC control sequences

## Dependencies

- `pip._vendor.pygments.formatter.Formatter`: Base formatter class
- `pip._vendor.pygments.token`: Token type constants for syntax highlighting
- `pip._vendor.pygments.util.get_choice_opt`: Option validation utility

## Architecture Patterns

**Token Hierarchy Traversal**: Format method walks up token type hierarchy until finding color mapping (L140-142)
**Line-by-Line Processing**: Handles newlines specially to maintain line numbering and formatting boundaries (L145-152)
**Control Character Encoding**: Uses IRC control sequences (\x02 for bold, \x1D for italic, \x03 for color)

## Key Constraints

- Limited to 16 IRC colors with ANSI compatibility aliases
- No support for underline (\x1F) or background colors
- Line numbering resets per format call via instance variable `_lineno`
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/utils.py
@source-hash: 3407585309e500ea
@generated: 2026-02-09T18:01:32Z

## Purpose
Python packaging utilities for name/version normalization and filename parsing. Part of pip's vendored packaging library providing standardized handling of distribution names, versions, and package filenames according to Python packaging standards (PEP 427, PEP 440, PEP 503).

## Key Types and Classes
- **NormalizedName** (L14): NewType for canonicalized distribution names
- **BuildTag** (L13): Union type for wheel build tags - either empty tuple or (int, str) pair
- **InvalidName** (L17-20): Exception for invalid distribution names
- **InvalidWheelFilename** (L23-26): Exception for malformed wheel filenames  
- **InvalidSdistFilename** (L29-32): Exception for malformed source distribution filenames

## Core Functions

### Name Processing
- **canonicalize_name()** (L45-50): Converts distribution names to normalized form per PEP 503. Replaces runs of `[-_.]` with single hyphens, lowercases. Optional validation against regex pattern.
- **is_normalized_name()** (L53-54): Validates if name is already in normalized form using `_normalized_regex`

### Version Processing  
- **canonicalize_version()** (L57-102): Normalizes Version objects or version strings. Handles epoch, release segments, pre/post/dev releases, and local versions. Strips trailing `.0` components by default.

### Filename Parsing
- **parse_wheel_filename()** (L105-145): Parses wheel filenames into components (name, version, build tag, platform tags). Validates `.whl` extension, correct dash count (4-5), project name format. Returns tuple of parsed components.
- **parse_sdist_filename()** (L148-174): Parses source distribution filenames (`.tar.gz`/`.zip`) into name and version components. Uses rightmost dash as name/version separator.

## Regular Expressions
- **_validate_regex** (L36-37): Validates distribution names per core metadata spec
- **_canonicalize_regex** (L39): Matches sequences of `[-_.]` for normalization  
- **_normalized_regex** (L40): Validates normalized name format
- **_build_tag_regex** (L42): Parses build tags (digit + optional suffix)

## Dependencies
Imports `Version`, `InvalidVersion` from `.version` and `Tag`, `parse_tag` from `.tags` modules. Uses standard `re` and `typing` libraries.

## Architecture Notes
- Follows PEP standards strictly for compatibility
- Uses NewType for type safety on normalized names
- Comprehensive validation with descriptive error messages
- Handles legacy versions gracefully in canonicalization
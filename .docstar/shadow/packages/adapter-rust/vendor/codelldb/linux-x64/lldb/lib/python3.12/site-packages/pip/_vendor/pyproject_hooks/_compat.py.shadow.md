# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_compat.py
@source-hash: 6f2e9ebeb627aa48
@generated: 2026-02-09T18:01:30Z

## Primary Purpose
Compatibility shim providing unified access to TOML parsing functionality across Python versions. Handles the transition from third-party `tomli` to built-in `tomllib` introduced in Python 3.11.

## Key Components

**Version-conditional import logic (L5-8):**
- Python 3.11+: Uses built-in `tomllib` module (L6)
- Python <3.11: Falls back to vendored `tomli` library aliased as `tomllib` (L8)

**Public API (L1):**
- Exports only `tomllib` to provide consistent interface regardless of Python version

## Architecture Pattern
Classic compatibility layer using version detection to abstract away API differences between Python versions. The `tomllib` name maintains consistency with the standard library naming convention while providing backward compatibility.

## Dependencies
- `sys` for version detection (L3)
- `tomllib` (Python 3.11+ built-in)
- `pip._vendor.tomli` (fallback for older Python versions)

## Usage Context
Part of pip's vendored pyproject-hooks package, enabling TOML parsing in build environments with varying Python versions. Critical for parsing `pyproject.toml` files across the supported Python version range.
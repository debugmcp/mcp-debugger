# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/operations/freeze.py
@source-hash: 579f72132092cff6
@generated: 2026-02-09T18:01:17Z

**Primary Purpose**: Core pip freeze functionality that generates requirement specifications for installed packages, supporting both regular and editable installations with requirement file processing.

**Key Components**:

- `freeze()` (L26-145): Main generator function that produces frozen requirement strings
  - Scans installed distributions via `get_environment().iter_installed_distributions()`
  - Processes optional requirement files to filter and order output
  - Handles pip options passthrough (index URLs, trusted hosts, etc.)
  - Tracks duplicate requirements across files for warnings
  - Parameters: `requirement` (files), `local_only`, `user_only`, `paths`, `isolated`, `exclude_editable`, `skip`

- `FrozenRequirement` class (L223-258): Represents a frozen package requirement
  - `__init__()` (L224-235): Stores name, canonical name, requirement string, editable flag, comments
  - `from_dist()` classmethod (L237-252): Factory method creating instances from BaseDistribution
  - `__str__()` (L254-258): Formats as requirement string with optional `-e` prefix and comments

- `_EditableInfo` NamedTuple (L21-23): Container for editable requirement data with requirement string and comment list

- `_get_editable_info()` (L157-220): Extracts VCS information for editable installations
  - Detects VCS backend via `vcs.get_backend_for_dir()`
  - Handles various error cases: no VCS, no remote, invalid remote, bad command
  - Returns appropriate requirement format and descriptive comments

- `_format_as_name_version()` (L147-154): Formats distribution as name==version string, handling invalid versions with `===` fallback

**Key Dependencies**:
- `pip._internal.metadata.get_environment()`: Environment scanning
- `pip._vendor.packaging.utils.canonicalize_name()`: Name normalization
- `pip._internal.vcs`: VCS backend detection and operations
- `pip._internal.req.constructors`: Requirement parsing utilities

**Architecture Patterns**:
- Generator-based streaming output for memory efficiency
- Factory pattern for FrozenRequirement creation
- Comprehensive error handling with graceful degradation for VCS operations
- Dual-mode operation: standalone freeze vs. requirement-file-guided freeze

**Critical Behaviors**:
- Maintains installation order when no requirement files provided
- Preserves pip options from requirement files in output
- Canonical name matching for requirement resolution
- VCS URL extraction with fallback to local paths for editable installs
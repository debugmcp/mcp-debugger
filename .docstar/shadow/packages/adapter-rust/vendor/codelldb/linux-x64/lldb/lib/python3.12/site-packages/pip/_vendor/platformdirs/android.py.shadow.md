# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/android.py
@source-hash: 06a22c027230fba6
@generated: 2026-02-09T18:01:36Z

Android platform directory implementation for the platformdirs library. Provides Android-specific path resolution for application data, configuration, cache, and user directories.

## Primary Components

**Android Class (L14-117)**: Concrete implementation of PlatformDirsABC for Android platform. Provides properties for various directory types following Android filesystem conventions.

### Key Directory Properties:
- `user_data_dir` (L24-26): Returns `/data/user/<userid>/<packagename>/files/<AppName>`
- `user_config_dir` (L34-39): Returns `/data/user/<userid>/<packagename>/shared_prefs/<AppName>`  
- `user_cache_dir` (L47-49): Returns `/data/user/<userid>/<packagename>/cache/<AppName>`
- `user_log_dir` (L62-70): Cache dir with optional "log" subdirectory if opinionated
- `user_runtime_dir` (L103-111): Cache dir with optional "tmp" subdirectory if opinionated

### User Media Directories:
- `user_documents_dir` (L73-75): External documents folder
- `user_downloads_dir` (L78-80): External downloads folder  
- `user_pictures_dir` (L83-85): External pictures folder
- `user_videos_dir` (L88-90): External DCIM/Camera folder
- `user_music_dir` (L93-95): External music folder
- `user_desktop_dir` (L98-100): Hardcoded `/storage/emulated/0/Desktop`

### Site Directory Aliases:
All site_* properties (L29-31, L42-44, L52-54, L114-116) return the same paths as their user_* counterparts, as Android doesn't distinguish between user and system-wide app directories.

## Helper Functions

**_android_folder() (L119-137)**: LRU-cached function that determines the Android app base directory. Uses two strategies:
1. PyJNIus Android API calls to get context.getFilesDir()
2. Fallback regex pattern matching on sys.path for `/data/(data|user/\d+)/(.+)/files`

**Media Folder Functions (L140-217)**: Set of LRU-cached functions for external storage directories:
- `_android_documents_folder()` (L141-153)
- `_android_downloads_folder()` (L156-169) 
- `_android_pictures_folder()` (L172-185)
- `_android_videos_folder()` (L188-201)
- `_android_music_folder()` (L204-217)

Each uses PyJNIus to call Android Environment APIs with fallback to hardcoded `/storage/emulated/0/*` paths.

## Dependencies

- `os`, `re`, `sys`: Standard library modules
- `functools.lru_cache`: For caching expensive Android API calls
- `typing.cast`: For type hints
- `.api.PlatformDirsABC`: Parent abstract class
- `jnius` (optional): PyJNIus for Android API access

## Architecture Notes

- All functions gracefully fallback to hardcoded paths if PyJNIus/Android APIs fail
- LRU caching prevents repeated expensive Android system calls
- Follows Android storage best practices with separate files/shared_prefs/cache directories
- External storage paths use standard Android conventions (/storage/emulated/0/*)
- Opinionated behavior adds subdirectories for logs and runtime files
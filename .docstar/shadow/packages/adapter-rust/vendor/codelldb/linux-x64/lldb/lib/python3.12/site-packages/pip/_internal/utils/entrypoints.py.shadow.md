# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/utils/entrypoints.py
@source-hash: 62584b4d1976a070
@generated: 2026-02-09T18:01:19Z

## Primary Purpose
Provides entrypoint management utilities for pip, handling legacy wrapper compatibility and determining optimal pip invocation methods across different environments.

## Key Components

### Constants & Configuration (L10-20)
- `_EXECUTABLE_NAMES` (L10-14): List of pip executable names including version-specific variants (`pip`, `pip3`, `pip3.12`)
- Windows-specific extensions handling (L15-20): Adds `.exe` variants for Windows compatibility

### Core Functions

#### `_wrapper()` (L23-43)
Central entrypoint wrapper for legacy pip scripts. Issues deprecation warnings and redirects to modern `main()` function. Used to maintain backward compatibility while warning users about outdated invocation methods.

#### `get_best_invocation_for_this_pip()` (L46-70)
Determines optimal pip invocation method for current environment:
- Checks if pip executables are in PATH and match current environment (L51-67)
- Falls back to `python -m pip` invocation (L70)
- Platform-aware binary directory resolution (`Scripts` vs `bin`)

#### `get_best_invocation_for_this_python()` (L73-84)
Finds best way to invoke current Python interpreter:
- Attempts to use basename if it resolves to current executable (L78-81)
- Falls back to full executable path (L84)

## Dependencies
- `pip._internal.cli.main.main`: Core pip functionality
- `pip._internal.utils.compat.WINDOWS`: Platform detection
- Standard library: `itertools`, `os`, `shutil`, `sys`

## Architectural Patterns
- **Legacy Compatibility**: Maintains old entrypoints while warning users
- **Environment Detection**: Cross-platform path and executable resolution
- **Fallback Strategy**: Graceful degradation from preferred to guaranteed invocation methods
- **PATH Resolution**: Uses `shutil.which()` and `os.path.samefile()` for reliable executable matching

## Critical Invariants
- Must provide working pip invocation regardless of environment complexity
- Legacy wrappers always issue deprecation warnings before delegation
- Platform-specific behavior handled through `WINDOWS` flag
- Executable matching requires both existence and file identity verification
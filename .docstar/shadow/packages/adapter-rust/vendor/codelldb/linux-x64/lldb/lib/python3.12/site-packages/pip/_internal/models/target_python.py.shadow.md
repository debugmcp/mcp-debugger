# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/models/target_python.py
@source-hash: d97687dab679645f
@generated: 2026-02-09T18:01:15Z

## Purpose
Encapsulates properties of a target Python interpreter for package installation, download, and wheel compatibility checking. Core component of pip's package resolution system that determines which package formats are compatible with a specific Python environment.

## Key Components

### TargetPython Class (L10-121)
Primary class that models a target Python interpreter's characteristics and generates compatibility tags.

**Attributes (L16-25):**
- `_given_py_version_info`: Original version info provided by user
- `abis`, `implementation`, `platforms`: Target environment specifications  
- `py_version`, `py_version_info`: Normalized version information
- `_valid_tags`, `_valid_tags_set`: Cached compatibility tags (list and set forms)

**Constructor (L27-66):**
- Accepts optional platform list, Python version tuple, ABI list, and implementation name
- Normalizes version info using `normalize_version_info()` (L54)
- Defaults to current system's `sys.version_info[:3]` if no version specified (L52)
- Initializes tag caches to None for lazy evaluation

**Key Methods:**
- `format_given()` (L68-86): Creates display string of non-None target attributes
- `get_sorted_tags()` (L88-111): Returns PEP 425 compatibility tags in preference order, with lazy caching
- `get_unsorted_tags()` (L113-121): Returns same tags as unordered set for performance-critical operations

## Dependencies
- `pip._vendor.packaging.tags.Tag`: PEP 425 tag representation
- `pip._internal.utils.compatibility_tags.get_supported()`: Core tag generation logic
- `pip._internal.utils.compatibility_tags.version_info_to_nodot()`: Version formatting
- `pip._internal.utils.misc.normalize_version_info()`: Version tuple normalization

## Architecture Notes
- Uses `__slots__` for memory efficiency (L16-25)
- Implements lazy evaluation pattern for expensive tag computation
- Maintains both sorted list and set representations of tags for different use cases
- Preserves original user input (`_given_py_version_info`) separate from normalized version for display purposes

## Critical Behavior
- Tag generation respects the distinction between user-provided version info and system defaults
- Caching ensures tag computation happens only once per instance
- Version handling supports 1-3 element tuples with proper normalization
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/vcs/subversion.py
@source-hash: 75d4ee80706a1f35
@generated: 2026-02-09T18:01:30Z

**Purpose**: Subversion (SVN) version control adapter for pip package installation. Implements SVN-specific operations for cloning, updating, and extracting metadata from SVN repositories.

**Core Class**: 
- `Subversion(VersionControl)` (L30-323): Main SVN adapter implementing version control operations

**Key Configuration** (L31-34):
- `name`: "svn" 
- `dirname`: ".svn" (SVN metadata directory)
- `repo_name`: "checkout"
- `schemes`: Supports svn+ssh, svn+http, svn+https, svn+svn, svn+file protocols

**Critical Methods**:

**Metadata Extraction**:
- `get_revision(location)` (L44-71): Walks directory tree to find maximum SVN revision across all controlled files
- `_get_svn_url_rev(location)` (L132-180): Core parser for SVN metadata supporting legacy entries format, XML format, and modern `svn info --xml`
- `get_remote_url(location)` (L108-130): Traverses up directory tree to find SVN project root

**Authentication Handling**:
- `get_netloc_and_auth(netloc, scheme)` (L73-86): Extracts auth info for --username/--password options (except SSH)
- `get_url_rev_and_auth(url)` (L88-94): Handles svn+ssh:// URL scheme normalization
- `make_rev_args(username, password)` (L96-106): Builds authentication command arguments

**Version Management**:
- `get_vcs_version()` (L229-247): Cached SVN client version detection
- `call_vcs_version()` (L201-227): Parses `svn --version` output for version tuples
- `get_remote_call_options()` (L249-278): Version-dependent interactive/non-interactive mode handling

**Repository Operations**:
- `fetch_new(dest, url, rev_options, verbosity)` (L280-302): Initial checkout with verbosity control
- `switch(dest, url, rev_options)` (L304-312): Switch working copy to different URL/branch
- `update(dest, url, rev_options)` (L314-321): Update existing working copy

**Regex Patterns** (L24-27): 
- `_svn_xml_url_re`: Extracts URLs from XML entries
- `_svn_rev_re`: Parses revision numbers from XML
- `_svn_info_xml_*_re`: Modern XML info parsing

**Dependencies**: 
- Core pip utilities (misc, subprocess)
- Base VersionControl framework
- Standard library (os, re, logging)

**Architectural Notes**:
- Handles multiple SVN metadata formats (legacy entries, XML, modern info)
- Version-aware interactive mode handling (SVN 1.8+ vs older)
- Authentication method varies by transport (SSH vs HTTP/HTTPS)
- Graceful degradation for missing/corrupt SVN metadata
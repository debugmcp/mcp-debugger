# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/formatters/other.py
@source-hash: 80fc6493905d0335
@generated: 2026-02-09T17:57:55Z

## Purpose
Provides utility formatters for Pygments syntax highlighting: plain text output, raw token serialization, and test case generation. Part of pip's vendored Pygments package for syntax highlighting without external dependencies.

## Key Components

### NullFormatter (L19-34)
- **Purpose**: Strips all formatting and outputs plain text
- **Aliases**: 'text', 'null'
- **Key Method**: `format()` (L27-33) - streams raw token values with optional encoding
- **Use Case**: Converting highlighted code back to plain text

### RawTokenFormatter (L36-117)  
- **Purpose**: Serializes tokens to tab-separated format for storage/transport
- **Format**: `tokentype<TAB>repr(tokenstring)\n`
- **Aliases**: 'raw', 'tokens' 
- **Key Features**:
  - Compression support (gz/bz2) via `compress` option (L68-69)
  - Error highlighting with `error_color` option (L70-78)
  - Binary output requirement (L82-85)
  - Encoding hardcoded to ASCII (L67)
- **Key Method**: `format()` (L80-116) - handles compression setup and token serialization

### TestcaseFormatter (L130-161)
- **Purpose**: Generates Python test cases from token streams  
- **Output**: Formatted as `assert list(lexer.get_tokens(fragment)) == tokens`
- **Encoding**: Restricted to None or UTF-8 only (L141-142)
- **Templates**: Uses `TESTCASE_BEFORE/AFTER` constants (L119-127)

## Dependencies
- `pip._vendor.pygments.formatter.Formatter` - Base class
- `pip._vendor.pygments.util.get_choice_opt` - Option validation
- `pip._vendor.pygments.token.Token` - Token type definitions  
- `pip._vendor.pygments.console.colorize` - Terminal color support

## Architecture Notes
- All formatters inherit from `Formatter` base class
- Uses vendored Pygments to avoid external dependencies in pip
- RawTokenFormatter designed for round-trip compatibility with RawTokenLexer
- Error handling includes type checking for binary output requirements
- Lazy import pattern for compression modules (gz/bz2)
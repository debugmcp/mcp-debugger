# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/distlib/scripts.py
@source-hash: f3f80ff49effb653
@generated: 2026-02-09T18:01:35Z

## Purpose and Responsibility
This module provides functionality for creating and installing Python script wrappers and executables. It's part of distlib, a Python packaging utilities library, and handles the generation of entry point scripts, launcher executables for Windows, and proper shebang handling across platforms.

## Key Classes and Functions

### ScriptMaker (L91-456)
Primary class responsible for script creation and installation:
- **Constructor (L100-116)**: Configures source/target directories, launcher options, file operations
- **_get_shebang (L185-255)**: Constructs appropriate shebang lines with platform-specific handling
- **_build_shebang (L154-183)**: Builds shebangs with length/space constraints, uses shell wrapper for complex cases
- **_write_script (L269-327)**: Writes scripts to disk, handles Windows launcher integration and .deleteme logic
- **make (L438-455)**: Public API to create single script from specification or file copy
- **make_multiple (L457-466)**: Public API to create multiple scripts from list of specifications

### Core Script Generation
- **_get_script_text (L257-261)**: Generates Python script content from entry point specification using SCRIPT_TEMPLATE
- **_make_script (L343-357)**: Creates new script from entry point with proper shebang and extension
- **_copy_script (L359-408)**: Copies existing script file with shebang adjustment if needed

### Platform-Specific Support
- **enquote_executable (L71-84)**: Handles executable path quoting, especially for paths with spaces
- **_get_alternate_executable (L121-126)**: Converts python to pythonw for GUI applications on Windows
- **_get_launcher (L423-434)**: Retrieves Windows executable launcher based on architecture (32/64-bit, ARM)
- **_fix_jython_executable (L142-152)**: Jython-specific executable handling (Java platform only)

## Important Dependencies and Relationships
- Imports from `.compat`, `.resources`, `.util` modules for cross-platform compatibility
- Uses `WRAPPERS` dict (L64-68) - pre-loaded Windows launcher executables from package resources
- Integrates with `FileOperator` for file system operations with dry-run support
- Relies on `get_export_entry()` to parse entry point specifications

## Notable Patterns and Architecture
- **Resource Pre-loading (L52-68)**: All Windows launcher executables loaded at module import to avoid issues during pip updates
- **Cross-platform Abstraction**: Extensive platform detection and adaptation (Windows/POSIX/Java/Jython)
- **Shebang Complexity**: Sophisticated shebang generation handling length limits, spaces, and encoding constraints
- **Error Recovery**: `.deleteme` logic for Windows executable replacement when files are in use
- **Template-based Generation**: Uses SCRIPT_TEMPLATE for consistent entry point script structure

## Critical Invariants and Constraints
- Shebang must be UTF-8 decodable and compatible with script encoding
- Windows launcher integration requires specific executable wrapper binaries
- Script variants support Python version suffixes (X, X.Y patterns)
- Maximum shebang length: 127 chars (Linux), 512 chars (macOS)
- Executable paths with spaces require proper quoting on all platforms
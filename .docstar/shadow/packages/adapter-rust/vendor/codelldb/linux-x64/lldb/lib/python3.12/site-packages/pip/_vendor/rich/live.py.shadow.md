# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/live.py
@source-hash: bd4727255d8b3122
@generated: 2026-02-09T18:01:55Z

## Purpose
Provides the `Live` class for creating auto-updating terminal displays that can render dynamic content (progress bars, tables, etc.) with real-time refresh capabilities. Supports both terminal and Jupyter notebook environments with stdout/stderr redirection and alternate screen modes.

## Key Classes and Functions

### `_RefreshThread` (L16-33)
Background daemon thread that periodically calls `refresh()` on a `Live` instance at configurable intervals. Uses `Event` for clean shutdown coordination.

### `Live` (L35-268) 
Main class for live-updating terminal displays. Inherits from `JupyterMixin` and `RenderHook`.

**Key Methods:**
- `__init__` (L51-89): Configures refresh rate, console target, screen mode, I/O redirection, and overflow handling
- `start()` (L104-132): Begins live rendering, enables alternate screen mode if requested, starts refresh thread, handles I/O redirection
- `stop()` (L134-164): Cleanly shuts down live display, restores I/O streams, cursor visibility, and screen mode
- `update()` (L206-218): Updates the displayed renderable content with optional immediate refresh
- `refresh()` (L220-247): Core rendering logic - handles Jupyter widgets, terminal control sequences, and final output for non-interactive environments
- `process_renderables()` (L249-268): Hook method that prepares renderables for display, handles cursor positioning and overflow

**Key Properties:**
- `is_started` (L92-94): Boolean indicating if live display is active
- `renderable` (L196-204): Returns current renderable, wrapped in Screen if alternate screen mode is active
- `get_renderable()` (L96-102): Resolves renderable from either callable or direct assignment

## Core Dependencies
- `Console`: Primary rendering target and terminal interface
- `LiveRender`: Handles actual rendering and cursor positioning logic  
- `FileProxy`: Enables stdout/stderr redirection through the console
- `Screen`: Wraps renderables for alternate screen mode
- Threading primitives (`RLock`, `Thread`, `Event`) for concurrency safety

## Architecture Patterns
- **Context Manager**: Supports `with` statement for automatic start/stop lifecycle
- **Thread-Safe**: Uses `RLock` to coordinate between refresh thread and main thread operations
- **Hook Pattern**: Implements `RenderHook` to intercept and modify console output
- **Strategy Pattern**: Configurable overflow handling and renderable resolution

## Critical Invariants
- Refresh rate must be > 0 (validated at L65)
- Thread safety maintained via `_lock` for all state modifications
- I/O redirection properly restored even on exceptions during start
- Alternate screen mode and cursor visibility always restored on stop
- Transient mode automatically enabled when screen mode is used (L80)

## Demo Code (L271-375)
Comprehensive example showing live updating exchange rate table with random data generation and periodic console logging to demonstrate I/O redirection capabilities.
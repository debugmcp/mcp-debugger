# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/cli/progress_bars.py
@source-hash: 35e75223c839fbaf
@generated: 2026-02-09T18:01:05Z

## Primary Purpose
Progress bar factory and rendering module for pip downloads, providing both rich terminal UI and raw text progress displays.

## Key Components

**Type Alias (L21)**
- `DownloadProgressRenderer`: Type alias for callables that wrap byte iterables with progress tracking

**Core Functions**

**`_rich_progress_bar()` (L24-58)**
- Rich terminal progress bar implementation using pip's vendored rich library
- Creates different column layouts based on whether size is known:
  - Unknown size (L32-40): spinner + file size + speed + elapsed time
  - Known size (L42-50): progress bar + download stats + ETA
- Yields chunks while updating progress with 30 fps refresh rate
- Respects terminal indentation via `get_indentation()`

**`_raw_progress_bar()` (L60-80)**
- Simple text-based progress fallback for non-rich terminals
- Rate-limited stdout writing (0.25s intervals via `RateLimiter`)
- Tracks current/total bytes and writes "Progress X of Y" format
- Always writes final progress when complete

**`get_download_progress_renderer()` (L82-94)**
- Factory function returning appropriate progress renderer based on `bar_type`
- Returns partial functions with pre-configured parameters:
  - `"on"`: Rich progress bar with size parameter
  - `"raw"`: Raw text progress bar
  - Other: No-op iterator (passthrough)

## Dependencies
- `pip._vendor.rich.progress`: Terminal UI components for rich progress bars
- `pip._internal.cli.spinners.RateLimiter`: Rate limiting for raw progress updates
- `pip._internal.utils.logging.get_indentation`: Terminal indentation context

## Architecture Patterns
- Factory pattern for progress renderer selection
- Generator-based streaming with progress side effects
- Conditional UI complexity based on size availability
- Partial function application for renderer configuration
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/filter.py
@source-hash: 8f968b33d6bdc12c
@generated: 2026-02-09T18:01:30Z

**Purpose**: Core filtering infrastructure for Pygments syntax highlighter, providing mechanisms to transform token streams through composable filters.

**Key Components**:

- `apply_filters()` (L12-22): Sequentially applies multiple filters to a token stream using generator chaining. Takes stream, filters iterable, and optional lexer context. Uses internal `_apply()` helper to yield from each filter's output.

- `simplefilter()` decorator (L25-38): Converts functions into filter classes by dynamically creating subclasses of `FunctionFilter`. Preserves function metadata (`__name__`, `__module__`, `__doc__`) and stores original function as `function` attribute.

- `Filter` base class (L41-52): Abstract base for all filters. Stores initialization options and defines required `filter(lexer, stream)` method that subclasses must implement. Method raises `NotImplementedError`.

- `FunctionFilter` class (L54-71): Concrete filter implementation used by `simplefilter` decorator. Validates that `function` attribute exists during initialization, then delegates filtering to the bound function by calling `self.function(lexer, stream, self.options)`.

**Architecture Patterns**:
- Generator-based streaming for memory efficiency
- Decorator pattern for easy filter creation from functions  
- Template method pattern in base Filter class
- Dynamic class creation in simplefilter decorator

**Dependencies**: None beyond Python stdlib

**Token Stream Protocol**: Filters expect streams yielding `(ttype, value)` tuples and must preserve this format

**Usage Flow**: Functions decorated with `@simplefilter` become filter classes → instantiated filters collected → passed to `apply_filters()` for sequential processing
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/requirements.py
@source-hash: 818c9148075bac8c
@generated: 2026-02-09T18:01:32Z

## Purpose
Python package requirement parsing module that implements PEP 508 specification for dependency requirements. Converts requirement strings (e.g., "requests>=2.0[security]; python_version>='3.6'") into structured objects with parsed components.

## Key Components

### InvalidRequirement Exception (L15-18)
ValueError subclass raised for malformed requirement strings that don't conform to PEP 508.

### Requirement Class (L21-91)
Primary class for parsing and representing package requirements.

**Constructor** `__init__(requirement_string: str)` (L34-47):
- Parses requirement string using `_parse_requirement()` from `_parser` module
- Catches `ParserSyntaxError` and re-raises as `InvalidRequirement`
- Extracts and stores: name, url, extras, specifier, marker
- Special handling for markers using `_normalize_extra_values()`

**Key Attributes**:
- `name: str` - Package name
- `url: str | None` - Optional URL for VCS/direct installs
- `extras: set[str]` - Optional features (e.g., [dev,test])
- `specifier: SpecifierSet` - Version constraints
- `marker: Marker | None` - Environment markers

**String Representation** `_iter_parts()` (L49-65):
Internal generator that yields requirement parts in canonical order: name, extras, specifier, URL, marker.

**Magic Methods**:
- `__str__()` (L67-68): Reconstructs requirement string from parts
- `__repr__()` (L70-71): Debug representation
- `__hash__()` (L73-79): Hash based on canonicalized name and parts
- `__eq__()` (L81-91): Equality comparison using canonicalized names and all components

## Dependencies
- `_parser.parse_requirement` - Core parsing logic
- `_tokenizer.ParserSyntaxError` - Parser exception
- `markers.Marker, _normalize_extra_values` - Environment marker handling  
- `specifiers.SpecifierSet` - Version constraint handling
- `utils.canonicalize_name` - Name normalization for comparison

## Architecture Notes
- Immutable design - all attributes set in constructor
- Uses canonical name comparison for equality/hashing to handle case variations
- Separates parsing (in `_parser`) from representation (this class)
- Handles optional components gracefully (url, extras, marker can be None/empty)
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/cachecontrol/_cmd.py
@source-hash: 8a2b2dd84a7326f0
@generated: 2026-02-09T18:01:23Z

**Primary Purpose**: Command-line utility for testing HTTP caching functionality using the cachecontrol library. Provides a simple CLI tool to verify cache behavior by making an HTTP request, storing the response in cache, and testing retrieval.

**Key Functions**:
- `setup_logging()` (L22-25): Configures debug-level logging with StreamHandler for the cachecontrol logger
- `get_session()` (L28-37): Creates a requests.Session with CacheControlAdapter mounted on both HTTP and HTTPS protocols. Uses DictCache (in-memory) with ETags enabled. Attaches controller reference to session object for later access
- `get_args()` (L40-43): Simple ArgumentParser setup accepting a single URL argument for cache testing
- `main()` (L46-66): Entry point that orchestrates the cache test workflow: fetches URL, enables logging, manually caches the response, then verifies cache hit

**Dependencies**:
- External: `requests` library for HTTP operations
- Internal: `CacheControlAdapter`, `DictCache`, and `logger` from pip's vendored cachecontrol package
- Standard library: `logging`, `argparse`

**Architecture Notes**:
- Uses vendored pip dependencies (`pip._vendor.*`) indicating this is part of pip's bundled libraries
- Manual cache testing approach rather than relying on automatic cache behavior
- Type annotations with TYPE_CHECKING guard for development-time type checking without runtime imports

**Critical Behavior**:
- Logging is enabled AFTER the initial request (L54), meaning the first request won't be logged
- Uses `resp.raw` for caching (L60) rather than the processed response
- Cache controller is accessed via dynamically added attribute with type ignore comments (L36, L58)
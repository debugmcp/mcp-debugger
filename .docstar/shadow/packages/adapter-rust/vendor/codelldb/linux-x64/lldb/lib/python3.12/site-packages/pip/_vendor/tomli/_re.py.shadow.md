# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/tomli/_re.py
@source-hash: 75b8e0e428594f6d
@generated: 2026-02-09T18:01:57Z

**Primary Purpose**: Provides regular expressions and parsing functions for TOML number, date, time, and datetime values. This module handles the conversion from string matches to appropriate Python datetime/numeric objects.

**Key Regular Expressions**:
- `RE_NUMBER` (L19-37): Comprehensive regex for TOML numbers supporting hex (0x), binary (0b), octal (0o), decimal integers, and floats with optional underscores, fractional parts, and scientific notation
- `RE_LOCALTIME` (L38): Matches time format HH:MM:SS with optional microseconds up to 6 digits
- `RE_DATETIME` (L39-49): Matches ISO 8601 datetime format with optional time component and timezone offset (Z or Â±HH:MM)

**Core Functions**:
- `match_to_datetime(match)` (L52-84): Converts RE_DATETIME match groups to `datetime` or `date` objects, handling timezone parsing and validation
- `match_to_localtime(match)` (L98-101): Converts RE_LOCALTIME match to `time` object with microsecond precision
- `match_to_number(match, parse_float)` (L104-107): Converts RE_NUMBER match to int or float, using custom float parser for decimal numbers
- `cached_tz(hour_str, minute_str, sign_str)` (L87-95): LRU-cached timezone factory for offset parsing

**Dependencies**:
- `datetime` module for temporal types
- `functools.lru_cache` for timezone caching optimization
- `_types.ParseFloat` protocol for pluggable float parsing
- Standard `re` module for regex compilation

**Architecture Notes**:
- Uses verbose regex compilation for maintainable complex patterns
- Employs `functools.lru_cache` on timezone creation to avoid redundant `timezone` object instantiation
- Separates regex compilation from parsing logic for clean separation of concerns
- Supports TOML-specific number formats including underscore separators and multiple bases
- Handles both local and timezone-aware datetime parsing

**Critical Invariants**:
- Microseconds are always normalized to 6 digits via `.ljust(6, "0")`
- Integer parsing uses base 0 to auto-detect number format (hex/bin/oct/dec)
- Returns `date` for date-only matches, `datetime` for datetime matches
- Timezone offset signs are properly applied to both hours and minutes
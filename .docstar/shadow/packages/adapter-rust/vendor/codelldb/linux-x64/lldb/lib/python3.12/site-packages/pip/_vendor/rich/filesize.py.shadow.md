# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/filesize.py
@source-hash: f5f4cb00f080c079
@generated: 2026-02-09T18:01:44Z

**Purpose:** Utility module for converting file sizes to human-readable string representations using decimal (SI) prefixes. Part of the Rich library's pip vendor bundle, originally borrowed from PyFilesystem2.

**Key Functions:**

- `_to_str` (L19-41): Core formatting function that converts byte sizes to readable strings with appropriate units. Handles special cases for 1 byte and sizes < base, then iteratively finds the largest appropriate unit. Uses format strings with configurable precision and separator.

- `pick_unit_and_suffix` (L44-50): Utility function that determines the appropriate unit divisor and suffix string for a given size. Returns tuple of (unit, suffix) by iterating through suffix list until finding the right scale.

- `decimal` (L53-89): Public API function for SI/decimal conversion (powers of 1000). Uses suffixes kB through YB and base 1000. Provides keyword-only parameters for precision and separator customization.

**Dependencies:** 
- Standard library typing module for type hints
- No external dependencies

**Architecture Notes:**
- Module exports only `decimal` function despite implementing a general conversion framework
- Uses base 1000 with SI prefixes (kB, MB, GB, etc.) following storage industry conventions
- Comprehensive docstring with examples and parameter documentation
- Type-annotated for better IDE/tooling support

**Key Constraints:**
- Size parameter must be integer (bytes)
- Precision affects decimal places in output formatting
- Separator allows customization between number and unit
- Special handling for edge cases (1 byte, sizes under base)
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/distlib/util.py
@source-hash: 5d2ce7c448bf8b74
@generated: 2026-02-09T18:01:54Z

This is a comprehensive utilities module for the `distlib` Python package distribution library, providing essential functionality for package management, file operations, and system interactions.

## Primary Purpose
Core utilities supporting Python package distribution operations including requirement parsing (PEP 508), file system operations, archive handling, network communications, and platform detection.

## Key Components

### Requirement Parsing (L46-278)
- **PEP 508 Requirement Parser**: Implements full PEP 508 specification for parsing Python package requirements
- `parse_requirement(req)` (L147-277): Main parser function returning Container with name, extras, constraints, marker, url, requirement attributes
- `parse_marker(marker_string)` (L56-144): Parses environment markers into expression trees with op/lhs/rhs structure
- Regex patterns for identifiers, versions, operators, and string chunks (L46-53)

### File Operations (L498-689)
- **FileOperator class** (L498-689): Comprehensive file system operations with dry-run support
  - Recording capabilities for tracking files written and directories created
  - `copy_file()`, `copy_stream()`, `write_binary_file()`, `write_text_file()` methods
  - `byte_compile()` with Python 3.7+ hashed invalidation support
  - `ensure_dir()`, `ensure_removed()` with rollback/commit functionality
  - Permission management via `set_mode()` and `set_executable_mode`

### Archive Handling (L1249-1328)
- `unarchive()` (L1249-1315): Universal archive extraction supporting zip, tar, tgz, tbz, whl formats
- Path traversal protection with security checks
- `zip_dir()` (L1317-1328): Directory compression to BytesIO

### Caching System (L985-1027)
- **Cache class** (L985-1027): File system resource caching for shared libraries and wheels
- `clear()` method for cache cleanup with error handling

### Export Entry Points (L706-770)
- **ExportEntry class** (L706-732): Represents setuptools entry points
- `get_export_entry()` (L741-770): Parses entry point specifications with flags support
- Entry point regex parsing (L734-738)

### Configuration Management (L1705-1759)
- **Configurator class** (L1705-1759): JSON-based configuration with custom object instantiation
- Support for inc:// protocol for configuration inclusion
- `configure_custom()` method for dynamic object creation from config

### Network & Security (L1476-1622)
- **HTTPSConnection/HTTPSHandler** (L1484-1551): SSL certificate verification and domain matching
- **Transport/SafeTransport** (L1572-1604): XML-RPC with timeout support
- Credential parsing utilities (L836-849)

### Platform Detection (L1928-2025)
- `get_host_platform()` (L1928-2009): Cross-platform identification following distutils conventions
- `get_platform()` (L2019-2025): Windows cross-compilation support via VSCMD_ARG_TGT_ARCH

### Progress Tracking (L1338-1426)
- **Progress class** (L1338-1426): Progress bar implementation with ETA calculation and speed metrics

### Event System (L1029-1098)
- **EventMixin class** (L1029-1098): Publish/subscribe pattern using collections.deque
- Thread-safe event handling with exception isolation

### Dependency Resolution (L1103-1238)
- **Sequencer class** (L1103-1238): Topological sorting for dependency graphs
- Strongly connected components detection using Tarjan's algorithm (L1177-1226)

### CSV Handling (L1631-1698)
- **CSVReader/CSVWriter classes** (L1656-1698): Unicode-aware CSV processing for Python 2/3 compatibility

### Subprocess Management (L1761-1808)
- **SubprocessMixin** (L1761-1808): Subprocess execution with progress callbacks and threading

### Utility Functions
- `convert_path()` (L471-495): Unix-style path conversion
- `split_filename()` (L874-896): Extract name/version/python version from filenames
- `normalize_name()` (L1810-1813): PEP 503 package name normalization
- `iglob()` (L1437-1474): Extended glob with `**` and `{opt1,opt2}` support
- Virtual environment detection (L306-313)
- Process umask handling (L851-854)

### External Dependencies
Imports from `.compat` module for cross-version compatibility, uses standard library modules extensively for file operations, networking, compression, and system interactions.
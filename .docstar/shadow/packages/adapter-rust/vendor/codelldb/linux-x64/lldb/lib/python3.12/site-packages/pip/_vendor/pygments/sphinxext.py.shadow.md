# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/sphinxext.py
@source-hash: 5c81f107030c3366
@generated: 2026-02-09T18:01:35Z

**Primary Purpose**: Sphinx extension that automatically generates documentation for Pygments lexers, formatters, and filters by introspecting their metadata and creating reStructuredText directives.

**Core Architecture**:
- Single directive `PygmentsDoc` (L58-235) that dispatches to different documentation generators
- Template-based RST generation using predefined format strings (L20-55)
- Integration with Sphinx's document parsing pipeline via `nested_parse_with_titles` (L83)

**Key Components**:

**PygmentsDoc Directive Class** (L58-235):
- `run()` (L69-86): Main entry point, routes to appropriate documentation method based on argument
- `document_lexers_overview()` (L88-146): Generates tabular overview of all lexers with names, extensions, aliases, and class references
- `document_lexers()` (L148-205): Creates detailed documentation for each lexer including docstrings and optional code examples
- `document_formatters()` (L207-223): Documents formatter classes with their metadata
- `document_filters()` (L225-235): Documents filter classes by name and docstring

**Template Constants** (L20-55):
- `MODULEDOC`, `LEXERDOC`, `FMTERDOC`, `FILTERDOC`: RST templates for different component types

**Key Features**:
- Automatic dependency tracking via `self.filenames` (L70, 84-85)
- Example code integration from test files (L168-183)
- Byte string handling for Python 2/3 compatibility (L165-166, 193-194, 217-218, 232-233)
- Special character escaping for RST format (L110, 188, 221)

**Dependencies**:
- Sphinx framework (docutils, sphinx.util.nodes)
- Pygments internal mappings (_mapping.LEXERS, formatters.FORMATTERS, filters.FILTERS)
- File system access for example files via pathlib

**Setup Function** (L238-239): Registers the directive with Sphinx as 'pygmentsdoc'

**Usage Pattern**: Directive accepts single argument ('lexers', 'formatters', 'filters', 'lexers_overview') to determine documentation type to generate.
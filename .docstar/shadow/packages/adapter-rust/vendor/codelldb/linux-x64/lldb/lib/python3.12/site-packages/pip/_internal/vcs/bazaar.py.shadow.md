# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/vcs/bazaar.py
@source-hash: 10a4ad71068aa4db
@generated: 2026-02-09T18:01:25Z

**Primary Purpose**: Implements Bazaar VCS adapter for pip's version control system, enabling pip to install packages from Bazaar repositories.

**Core Architecture**: 
- `Bazaar` class (L18-109) extends `VersionControl` base class
- Registered with pip's VCS registry via `vcs.register(Bazaar)` (L112)
- Supports multiple Bazaar URL schemes: bzr+http/https/ssh/sftp/ftp/lp/file (L22-30)

**Key Configuration**:
- `name = "bzr"` (L19) - VCS identifier
- `dirname = ".bzr"` (L20) - Repository metadata directory
- `repo_name = "branch"` (L21) - Human-readable repository type

**Core Operations**:

**Repository Management**:
- `fetch_new()` (L36-55): Initial checkout with lightweight branch creation, verbosity-aware logging
- `switch()` (L57-58): Branch switching via `bzr switch`
- `update()` (L60-71): Pull latest changes, handles legacy standalone branch conversion

**Metadata Extraction**:
- `get_remote_url()` (L82-94): Parses `bzr info` output to extract remote URL, handles local vs remote repositories
- `get_revision()` (L97-104): Returns current revision number via `bzr revno`
- `get_url_rev_and_auth()` (L74-79): URL parsing with SSH scheme hotfix (prepends "bzr+" to ssh:// URLs)

**Utility Methods**:
- `get_base_rev_args()` (L33-34): Static method returning revision flag format `["-r", rev]`
- `is_commit_id_equal()` (L107-109): Always returns False, forcing version checks

**Dependencies**:
- `pip._internal.vcs.versioncontrol`: Base VCS framework
- `pip._internal.utils.subprocess.make_command`: Command construction
- `pip._internal.utils.urls.path_to_url`: Path-to-URL conversion

**Notable Patterns**:
- Verbosity mapping in `fetch_new()`: 0→quiet, 1→normal, 2+→verbose flags
- Legacy compatibility: Converts standalone branches to checkouts in `update()`
- SSH URL normalization: Ensures "bzr+" prefix for SSH schemes
- Error handling: Raises `RemoteNotFoundError` when remote URL detection fails
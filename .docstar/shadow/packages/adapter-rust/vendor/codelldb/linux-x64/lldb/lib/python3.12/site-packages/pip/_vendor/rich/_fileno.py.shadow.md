# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/_fileno.py
@source-hash: 1d66713f90b66a33
@generated: 2026-02-09T18:01:36Z

**Primary Purpose:** Utility module for safely extracting file descriptors from file-like objects while handling poorly implemented file-like interfaces.

**Key Functions:**
- `get_fileno()` (L6-24): Safe wrapper around `fileno()` method that returns file descriptor integer or None on failure

**Functionality:**
The module provides defensive programming against broken file-like object implementations. The `get_fileno()` function:
1. Uses `getattr()` to check for `fileno` method existence (L15)
2. Attempts to call `fileno()` within try-catch block (L17-18)
3. Catches all exceptions (not just OSError as documented) due to poorly implemented file-like objects (L19-23)
4. Returns None for any failure case (L23-24)

**Dependencies:**
- Standard library: `typing.IO`, `typing.Callable` for type annotations
- Uses `__future__.annotations` for forward compatibility

**Design Patterns:**
- Defensive programming: Broad exception handling to accommodate broken implementations
- Graceful degradation: Returns None instead of propagating exceptions
- Type safety: Full type annotations with union types (`int | None`)

**Critical Constraints:**
- Must handle any exception type, not just OSError, due to real-world file-like object implementations
- Provides fallback behavior for objects without `fileno` attribute
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/formatters/svg.py
@source-hash: 75038d5b2a5bcdfb
@generated: 2026-02-09T17:57:58Z

## SVG Formatter for Pygments Syntax Highlighting

Provides SVG output formatting for syntax-highlighted code as part of the Pygments library. Converts tokenized source code into Scalable Vector Graphics format with inline styling.

### Core Components

**SvgFormatter (L29-188)**: Main formatter class extending Pygments' base Formatter. Converts token streams into SVG documents with `<text>` and `<tspan>` elements for syntax highlighting.

**Key Methods**:
- `__init__(L93-112)`: Configures formatter options including font settings, positioning, line numbering, and whitespace handling
- `format_unencoded(L114-171)`: Core formatting logic that processes token stream and writes SVG output
- `_get_style(L173-188)`: Converts Pygments style tokens to SVG attributes with caching

**Utility Functions**:
- `escape_html(L18-24)`: HTML entity escaping for SVG text content

### Configuration Options

Supports extensive customization:
- **Layout**: `xoffset`, `yoffset`, `ystep` for positioning
- **Typography**: `fontfamily`, `fontsize` for text rendering  
- **Line numbers**: `linenos`, `linenostart`, `linenostep`, `linenowidth`
- **Output control**: `nowrap` for bare SVG elements vs full document
- **Whitespace**: `spacehack` for non-breaking space conversion

### Architecture Notes

- Uses token-based rendering where each code token becomes a styled `<tspan>` element
- Handles multi-line tokens by splitting on newlines and creating separate `<text>` elements
- Implements style caching via `_stylecache` to avoid redundant style calculations
- Supports both standalone SVG fragments and complete XML documents with DOCTYPE

### Dependencies

- `pip._vendor.pygments.formatter.Formatter`: Base formatter class
- `pip._vendor.pygments.token.Comment`: Token type for line number styling
- `pip._vendor.pygments.util`: Option parsing utilities (`get_bool_opt`, `get_int_opt`)

### Output Format

Generates SVG with structure:
```svg
<svg><g font-family="..." font-size="...">
  <text x="..." y="..." xml:space="preserve">
    <tspan fill="..." font-weight="...">token_content</tspan>
  </text>
</g></svg>
```
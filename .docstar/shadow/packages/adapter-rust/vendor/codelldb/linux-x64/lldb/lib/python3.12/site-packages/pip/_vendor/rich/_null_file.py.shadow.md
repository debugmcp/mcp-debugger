# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/_null_file.py
@source-hash: b4649793fbfe2199
@generated: 2026-02-09T18:01:43Z

## Purpose and Responsibility

Provides a null object implementation of a file-like interface that silently discards all operations and returns safe defaults. Used in the Rich library for cases where file output is disabled or redirected to nowhere.

## Key Classes and Functions

**NullFile (L5-67)**: Complete implementation of `IO[str]` interface that performs no-ops for all file operations. All read operations return empty values, all write operations are silently discarded, and all status queries return safe defaults.

Key method behaviors:
- Read methods (`read`, `readline`, `readlines` L12-22): Always return empty strings/lists
- Write methods (`write`, `writelines` L39-40, L59-60): Accept input but discard it, return 0
- Status methods (`isatty`, `readable`, `writable`, `seekable` L9-37): Return `False` except for position queries which return 0
- Context manager support (`__enter__`, `__exit__` L48-57): Properly implements protocol
- Iterator protocol (`__iter__`, `__next__` L42-46): Returns iterator over single empty string
- File descriptor (`fileno` L65-66): Returns -1 (invalid fd)

**NULL_FILE (L69)**: Singleton instance ready for use across the application.

## Dependencies and Relationships

- Implements `typing.IO[str]` interface completely
- Uses `types.TracebackType` for context manager protocol
- Part of Rich library's output redirection system

## Architectural Patterns

- **Null Object Pattern**: Eliminates need for null checks when file operations may be disabled
- **Complete Interface Implementation**: Every method of `IO[str]` is implemented to prevent AttributeError
- **Singleton Pattern**: Single reusable instance via `NULL_FILE` constant

## Critical Constraints

- All operations are safe no-ops - no exceptions raised
- Maintains API compatibility with real file objects
- Iterator always yields exactly one empty string (prevents infinite loops)
- File descriptor -1 indicates invalid/null file handle
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/repr.py
@source-hash: e4c64966638d802e
@generated: 2026-02-09T18:01:56Z

## Purpose

Provides automatic `__repr__` generation for classes through the `@auto` and `@rich_repr` decorators. The system leverages a `__rich_repr__` method that yields representation data, then automatically creates string representations in either function-call style `Class(args)` or angular style `<Class args>`.

## Key Components

### Type Aliases (L19-20)
- `Result`/`RichReprResult`: Defines the expected return type for `__rich_repr__` methods - an iterable of values, tuples with 1-3 elements representing positional args, keyword args, or keyword args with defaults

### ReprError Exception (L23-24)
Custom exception raised when automatic repr generation fails

### Core Decorator Functions

**`auto()` (L37-101)**
- Main decorator that adds `__repr__` method to classes
- Two usage patterns: `@auto` (direct) or `@auto(angular=True)` (with options)
- Creates `auto_repr()` (L43-66): Processes `__rich_repr__` output into string format
- Creates `auto_rich_repr()` (L68-86): Auto-generates `__rich_repr__` from class `__init__` signature when not present
- Handles tuple parsing: single values, key-value pairs, key-value-default triplets
- Supports angular (`<Class args>`) vs function-call (`Class(args)`) formatting

**`rich_repr()` (L114-120)**
- Convenience alias that delegates to `auto()` with same signature and behavior

## Implementation Details

### Repr Generation Logic (L49-62)
- Iterates through `__rich_repr__()` yield values
- Single tuples become positional args
- 2+ element tuples: `(key, value, default)` - omits output if value equals default
- Non-tuple values treated as positional args

### Auto-Generation from `__init__` (L71-82)
- Inspects class constructor signature using `inspect.signature()`
- Maps parameter kinds to appropriate repr formats:
  - `POSITIONAL_ONLY`: yields attribute value directly  
  - `POSITIONAL_OR_KEYWORD`/`KEYWORD_ONLY`: yields `(name, value, default)` tuple

### Decorator Pattern Implementation (L98-101)
Supports both `@decorator` and `@decorator(args)` syntax using partial function application

## Dependencies
- `inspect`: For signature introspection
- `functools.partial`: For decorator parameter handling
- Standard typing modules for type annotations

## Demo Code (L123-149)
Example usage showing both standard and angular repr formats, with rich console integration for testing different output widths.
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/bar.py
@source-hash: 95d6d51cecca24e9
@generated: 2026-02-09T18:01:43Z

**Purpose:** Implements a visual progress bar component for the Rich terminal formatting library, rendering solid block bars with customizable colors and precise sub-character positioning using Unicode block elements.

**Core Components:**

- **Bar class (L17-93)**: Main renderable component that creates horizontal progress bars with configurable start/end points within a total size range
- **Unicode Block Constants (L12-14)**: Character arrays for sub-character precision rendering
  - `BEGIN_BLOCK_ELEMENTS`: Left-aligned block characters for 1/8 to 7/8 positions
  - `END_BLOCK_ELEMENTS`: Right-aligned block characters for precise bar endings
  - `FULL_BLOCK`: Solid block character for complete segments

**Key Methods:**

- **`__init__` (L29-43)**: Initializes bar with size, begin/end points, optional width, and color styling. Clamps begin/end values to valid ranges
- **`__rich_console__` (L48-84)**: Core rendering logic that converts bar parameters into styled segments using 8th-character precision calculations
- **`__rich_measure__` (L86-93)**: Returns measurement constraints for layout system

**Dependencies:**
- Rich framework components: Console, ConsoleOptions, RenderResult, Segment, Style
- JupyterMixin for notebook compatibility
- Color and Measurement utilities

**Rendering Algorithm (L61-83):**
1. Calculates prefix position in 8ths of character width
2. Determines body length and fractional positioning
3. Constructs bar using combination of spaces, block elements, and full blocks
4. Handles edge case where start/end fall in same character cell (L69-71)

**Key Invariants:**
- Begin value clamped to >= 0 (L40)
- End value clamped to <= size (L41)
- Width respects console maximum width constraints (L51-54)
- Empty bars rendered as spaces when begin >= end (L56-59)
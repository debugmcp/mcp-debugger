# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/theme.py
@source-hash: 6de9452688330345
@generated: 2026-02-09T18:01:55Z

This file implements theme management for the Rich library, providing configurable styling for console output.

## Primary Components

**Theme (L8-73)**: Core theme container that manages named style mappings. Handles style inheritance from DEFAULT_STYLES and supports loading from configuration files.
- `__init__` (L18-28): Initializes with optional custom styles and inheritance flag. Copies DEFAULT_STYLES if inherit=True, then overlays custom styles
- `config` property (L30-36): Generates INI-format configuration string for serialization
- `from_file` classmethod (L38-56): Loads theme from open file handle using configparser, expects "[styles]" section
- `read` classmethod (L58-73): Convenience method to load theme from file path with encoding support

**ThemeStack (L80-110)**: Stack-based theme management for nested styling contexts. Maintains a list of style dictionaries with inheritance support.
- `__init__` (L87-89): Initializes stack with base theme, caches `get` method from current top
- `push_theme` (L91-103): Adds theme to stack, optionally inheriting from current top via dictionary merging
- `pop_theme` (L105-110): Removes top theme, prevents popping base theme (raises ThemeStackError)

**ThemeStackError (L76-77)**: Exception class for theme stack operations.

## Key Dependencies
- `configparser`: For loading themes from INI-format files
- `.default_styles.DEFAULT_STYLES`: Base style definitions
- `.style.Style, StyleType`: Style parsing and type definitions

## Architecture Patterns
- **Inheritance Model**: Themes can inherit from DEFAULT_STYLES and stack layers can inherit from lower layers
- **Stack Pattern**: ThemeStack implements push/pop semantics for temporary style overrides
- **Factory Methods**: Multiple construction paths via `from_file` and `read` classmethods
- **Dynamic Method Binding**: ThemeStack rebinds `get` method on stack changes for performance

## Critical Invariants
- ThemeStack must maintain at least one entry (base theme cannot be popped)
- Style values are normalized to Style objects via `Style.parse()` during theme construction
- Stack operations maintain O(1) access via cached `get` method reference
# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/specifiers.py
@source-hash: 1df1a07cd251bebc
@generated: 2026-02-09T18:01:37Z

## Version Specifier Implementation for Python Packaging

This module provides version specifier parsing and matching functionality following PEP 440, enabling constraints like ">=1.2.3" or "~=2.0,!=2.1" to be evaluated against package versions.

### Core Classes

**BaseSpecifier (L44-97)**: Abstract base class defining the interface for version specifiers with methods for containment checking (`contains()`, `filter()`), prerelease handling (`prereleases` property), and standard object protocols.

**Specifier (L99-625)**: Concrete implementation of a single version specifier (e.g., ">=1.2.3"). Key components:
- Regex patterns for parsing operators and versions (L109-209)
- Operator mapping to method names (L211-220)
- Constructor parses specifier string using regex (L222-246)
- Comparison methods for each operator type (L368-499):
  - `_compare_compatible()` (L368): Implements ~= operator
  - `_compare_equal()` (L388): Handles == with prefix matching support
  - `_compare_not_equal()` (L428): Negation of equal
  - Range operators for <, <=, >, >= (L431-495)
  - `_compare_arbitrary()` (L497): Exact string matching for ===

**SpecifierSet (L690-1009)**: Collection of multiple specifiers with logical AND semantics. Parses comma-separated specifier strings (L697-723), implements set operations via `__and__()` (L782-812), and provides unified containment/filtering interface.

### Key Methods

**contains()**: Core version matching logic
- `Specifier.contains()` (L521-564): Checks single specifier against version
- `SpecifierSet.contains()` (L875-930): Requires ALL specifiers to match

**filter()**: Smart filtering with prerelease fallback behavior per PEP 440
- `Specifier.filter()` (L565-625): Returns prereleases only if no stable versions match
- `SpecifierSet.filter()` (L932-1009): Chains filtering through all specifiers

### Utility Functions

**Version Processing**:
- `_coerce_version()` (L26-30): Ensures input is Version instance
- `_version_split()` (L630-650): Splits version string into comparable components
- `_version_join()` (L652-661): Reconstructs version from components
- `_pad_version()` (L669-688): Zero-pads versions for prefix comparison

**Helper Functions**:
- `_is_not_suffix()` (L663-667): Identifies non-suffix version components
- `_prefix_regex` (L627): Pattern for separating numeric/prerelease parts

### Dependencies & Integration

Imports `Version` from `.version` module and `canonicalize_version` from `.utils`. Uses regex-based parsing with complex patterns supporting all PEP 440 version formats including epochs, prereleases, post-releases, dev releases, and local versions.

### Exception Handling

`InvalidSpecifier` (L32-42): Raised when specifier string cannot be parsed, inherits from ValueError.

### Type System

Defines type aliases for flexible version input (`UnparsedVersion`, `UnparsedVersionVar`) and operator callables (`CallableOperator`) to support both string and Version object inputs throughout the API.
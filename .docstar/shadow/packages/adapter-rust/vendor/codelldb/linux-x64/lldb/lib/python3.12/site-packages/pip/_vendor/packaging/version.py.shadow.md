# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/version.py
@source-hash: c04e2c495945f9dd
@generated: 2026-02-09T18:01:38Z

## Purpose
Implements PEP 440 compliant version parsing and comparison for Python packaging. Provides a robust `Version` class that can parse, normalize, and compare software version strings with support for epochs, pre-releases, post-releases, development releases, and local version identifiers.

## Key Classes and Functions

### Version (L161-452)
Main version handling class that inherits from `_BaseVersion`. Parses version strings using regex and provides comparison capabilities.
- `__init__(L188-224)`: Parses version string using regex, validates format, creates internal `_Version` tuple
- `__str__(L234-265)`: Reconstructs normalized version string from parsed components
- Properties expose version components: `epoch`, `release`, `pre`, `post`, `dev`, `local`, `major`, `minor`, `micro`
- Boolean properties: `is_prerelease`, `is_postrelease`, `is_devrelease`
- `public` and `base_version` properties strip local and pre/post release info respectively

### _BaseVersion (L69-113)
Abstract base class providing comparison operators (`__lt__`, `__le__`, `__eq__`, `__ge__`, `__gt__`, `__ne__`) based on `_key` attribute. All comparisons delegate to tuple comparison of the `_key`.

### _Version (L38-45)
NamedTuple storing parsed version components: `epoch`, `release`, `dev`, `pre`, `post`, `local`.

### parse(L47-56)
Convenience function that creates and returns a `Version` instance from a string.

### InvalidVersion (L59-67)
Exception raised when version string doesn't conform to PEP 440 format.

## Core Utilities

### _parse_letter_version(L454-486)
Normalizes pre-release, post-release, and dev release identifiers. Converts alternative spellings (alpha→a, beta→b, etc.) and handles implicit numbering.

### _parse_local_version(L492-501)
Parses local version segments, splitting on separators and converting numeric parts to integers.

### _cmpkey(L504-562)
Generates comparison key tuple from version components. Implements complex PEP 440 sorting rules:
- Removes trailing zeros from release segments
- Uses Infinity/NegativeInfinity sentinels for proper ordering of missing components
- Special handling for development versions to sort before pre-releases

## Version Pattern
`VERSION_PATTERN` (L148): Exported regex pattern for version matching. Based on internal `_VERSION_PATTERN` (L117-146) which defines comprehensive regex for all PEP 440 version components including optional epoch, release segments, pre/post/dev releases, and local versions.

## Type Definitions
Complex type aliases for comparison key generation (L20-35):
- `LocalType`, `CmpPrePostDevType`, `CmpLocalType`, `CmpKey`
- `VersionComparisonMethod` for comparison functions

## Dependencies
- `_structures` module: Provides `Infinity`, `NegativeInfinity` sentinel objects for comparison ordering
- Standard library: `re`, `itertools`, `typing`

## Architecture Notes
- Uses regex parsing rather than a formal grammar parser for performance
- Comparison implemented via tuple comparison of normalized components
- Extensive use of sentinel values (Infinity objects) to handle optional version components in sorting
- Properties provide multiple views of version data (public, base, individual components)
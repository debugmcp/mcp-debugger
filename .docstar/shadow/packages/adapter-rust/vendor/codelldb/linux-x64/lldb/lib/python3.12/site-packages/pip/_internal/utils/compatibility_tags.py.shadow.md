# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/utils/compatibility_tags.py
@source-hash: c9d8a7f101bc047a
@generated: 2026-02-09T18:01:27Z

## Primary Purpose
Generates PEP 425 compatibility tags for Python packages, handling platform-specific compatibility across different Python implementations, versions, and architectures. Part of pip's internal utilities for package distribution compatibility checking.

## Key Functions

**version_info_to_nodot (L21-23)**
- Converts version tuple to dotless string format (e.g., (3, 8) â†’ "38")
- Only uses first two version components

**_mac_platforms (L26-43)**  
- Processes macOS platform strings using regex pattern `_osx_arch_pat` (L18)
- Extracts architecture components and generates backwards-compatible platform tags
- Handles custom prefixes for legacy compatibility

**_custom_manylinux_platforms (L46-64)**
- Implements manylinux compatibility hierarchy per PEP 571/599
- manylinux2014 includes manylinux2010 and manylinux1 for i686/x86_64
- manylinux2010 includes manylinux1

**_get_custom_platforms (L67-75)**
- Platform dispatcher routing to macOS or manylinux handlers
- Returns platform compatibility list for given architecture

**_expand_allowed_platforms (L78-92)**
- Expands platform list with compatibility variants
- Deduplicates results using set tracking
- Returns None if input platforms is empty

**_get_python_version (L95-99)**
- Parses version string into PythonVersion tuple
- Handles single digit (e.g., "3") and multi-digit versions (e.g., "38")

**_get_custom_interpreter (L102-109)**
- Constructs interpreter string from implementation and version
- Defaults to current interpreter if parameters are None

**get_supported (L112-165)** - Main API
- Generates comprehensive tag list for package compatibility
- Handles CPython vs generic interpreter distinction (L140-156)
- Combines cpython_tags, generic_tags, and compatible_tags
- All parameters optional, defaulting to current environment

## Dependencies
- `pip._vendor.packaging.tags`: Core tagging functionality
- Uses regex for macOS architecture parsing
- Typing annotations for List, Optional, Tuple

## Architecture Notes
- Platform-specific compatibility implemented through separate handler functions
- Backwards compatibility prioritized for legacy manylinux/macOS tags
- CPython receives specialized tag generation path
- Deduplication handled at platform expansion level
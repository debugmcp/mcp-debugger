# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_internal/network/xmlrpc.py
@source-hash: b00c7339a709f8dd
@generated: 2026-02-09T18:01:14Z

## Purpose
Custom XML-RPC transport implementation that integrates pip's HTTP session handling with the standard library's xmlrpc.client framework for communicating with PyPI package indices.

## Key Components

### PipXmlrpcTransport (L21-62)
Custom transport class inheriting from `xmlrpc.client.Transport` that uses pip's `PipSession` for HTTP communication instead of the default urllib implementation.

**Constructor (L26-32):**
- Takes `index_url`, `session` (PipSession), and optional `use_datetime` parameter
- Extracts scheme from index URL for later URL reconstruction
- Stores session reference for making HTTP requests

**request method (L34-62):**
- Core transport method that handles XML-RPC request/response cycle
- Reconstructs full URL from stored scheme, provided host, and handler path (L42-43)
- Makes POST request with XML content-type header using pip's session (L45-51)
- Uses pip's `raise_for_status` utility for error handling (L52)
- Delegates response parsing to parent class (L54)
- Catches `NetworkConnectionError` and logs critical error before re-raising (L55-62)

## Dependencies
- `pip._internal.network.session.PipSession`: HTTP session management
- `pip._internal.network.utils.raise_for_status`: Response error handling
- `pip._internal.exceptions.NetworkConnectionError`: Network error types
- Standard library: `xmlrpc.client`, `urllib.parse`, `logging`

## Architecture Notes
- Adapter pattern: bridges pip's HTTP infrastructure with standard XML-RPC transport interface
- Error handling strategy: converts HTTP errors to XML-RPC transport errors while preserving pip's error context
- URL handling: reconstructs URLs from components to maintain compatibility with XML-RPC client expectations

## Type Annotations
Uses conditional imports for type checking with specialized XML-RPC types (`_HostType`, `_Marshallable`) and buffer types from `_typeshed`.
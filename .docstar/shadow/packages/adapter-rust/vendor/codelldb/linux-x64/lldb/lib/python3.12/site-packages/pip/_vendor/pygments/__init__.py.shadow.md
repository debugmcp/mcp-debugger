# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/__init__.py
@source-hash: 4d5193c67cb8d13a
@generated: 2026-02-09T18:01:33Z

## Primary Purpose
Main entry point module for the Pygments syntax highlighting library, providing a high-level API for lexing, formatting, and highlighting code. This is the public interface that consolidates the core functionality into three simple functions.

## Key Functions

### `lex(code, lexer)` (L35-49)
- **Purpose**: Tokenizes source code using a lexer instance
- **Parameters**: `code` (string), `lexer` (Lexer instance)
- **Returns**: Iterable of tokens via `lexer.get_tokens()`
- **Error Handling**: Catches TypeError to provide helpful error message when class is passed instead of instance

### `format(tokens, formatter, outfile=None)` (L52-74)
- **Purpose**: Formats tokens using a formatter instance
- **Parameters**: `tokens` (iterable), `formatter` (Formatter instance), `outfile` (optional file object)
- **Returns**: Formatted string if no outfile, otherwise writes to outfile
- **I/O Strategy**: Uses BytesIO for encoding-aware formatters, StringIO otherwise
- **Error Handling**: Similar TypeError catching for class vs instance mistakes

### `highlight(code, lexer, formatter, outfile=None)` (L77-82)
- **Purpose**: Complete highlighting pipeline combining lex and format
- **Implementation**: Simple composition of `lex()` and `format()` functions
- **Most commonly used high-level API function**

## Dependencies
- `io.StringIO, BytesIO` (L27): For in-memory file-like objects
- Lazy imports for error handling:
  - `pip._vendor.pygments.lexer.RegexLexer` (L45)
  - `pip._vendor.pygments.formatter.Formatter` (L70)

## Module Metadata
- **Version**: '2.17.2' (L29)
- **Public API**: `['lex', 'format', 'highlight']` (L32)
- **Doc format**: RestructuredText (L30)

## Architectural Patterns
- **Facade Pattern**: Simplifies complex lexer/formatter subsystem into three functions
- **Error Recovery**: Both `lex()` and `format()` include heuristics to detect common usage mistakes (passing classes instead of instances)
- **Flexible Output**: `format()` supports both return-value and file-output modes
- **Lazy Loading**: Error handling imports are deferred to avoid circular dependencies
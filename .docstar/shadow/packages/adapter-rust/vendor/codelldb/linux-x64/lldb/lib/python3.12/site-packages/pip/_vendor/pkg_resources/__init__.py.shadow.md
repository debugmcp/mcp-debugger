# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pkg_resources/__init__.py
@source-hash: 8e0e1d4287d593ef
@generated: 2026-02-09T18:01:56Z

# pkg_resources: Legacy Package Resource Management

**Primary Purpose**: Deprecated package resource management system that provides access to package data, metadata, and entry points. This is a vendored version within pip's codebase that maintains backward compatibility while redirecting users to modern alternatives (importlib.resources, importlib.metadata, packaging).

## Key Components

### Core Management Classes

**WorkingSet (L569-978)**: Central registry managing active distributions on sys.path
- Tracks distributions by key with canonical name mapping (L575-577)
- Resolves dependency conflicts and version requirements (L742-814)
- Provides entry point iteration and requirement resolution
- Handles distribution activation with precedence rules

**Environment (L1000-141)**: Searchable snapshot of available distributions
- Platform/Python version filtering (L1027-1039)
- Distribution discovery and compatibility checking
- Best match resolution for requirements (L1079-1104)

**Distribution (L2593-3027)**: Represents an installed package with metadata
- Lazy loading of version/metadata from PKG-INFO/METADATA files (L2681-2742)
- Entry point parsing and loading (L2894-2908)  
- Dependency mapping with extras support (L2745-2796)
- Platform insertion logic for sys.path management (L2911-2977)

### Resource Provider System

**IResourceProvider/IMetadataProvider (L518-567)**: Protocol interfaces for package data access

**Provider Hierarchy**:
- NullProvider (L1451-1644): Base implementation for PEP 302 loaders
- DefaultProvider (L1680-1710): Filesystem-based resource access
- ZipProvider (L1781-1943): ZIP/egg file resource extraction
- EggProvider (L1660-1678): Virtual filesystem support

### Entry Point System

**EntryPoint (L2446-2576)**: Represents advertised importable objects
- Pattern-based parsing from entry_points.txt (L2507-2514)
- Dynamic loading with requirement resolution (L2469-2505)
- Group-based organization and mapping (L2546-2575)

### Requirement Management

**Requirement (L3132-3177)**: Extended packaging.requirements.Requirement
- Safe name normalization and key generation (L3137-3138)
- Distribution version compatibility checking (L3156-3166)
- Parsing from requirement strings (L3174-3177)

### Exception Hierarchy

**ResolutionError (L276-281)**: Base for dependency resolution failures
- VersionConflict (L283-326): Version compatibility conflicts
- DistributionNotFound (L328-355): Missing package errors
- UnknownExtra (L357-358): Invalid extra feature references

## Critical Functions

### Platform Support
- `get_supported_platform()` (L166-187): macOS version detection and compatibility
- `compatible_platforms()` (L443-489): Cross-platform compatibility checking

### Resource Access
- Global resource functions initialized at L3271-3279 via ResourceManager
- `resource_string/stream/filename()`: Package data access APIs
- Path normalization with caching (L3394-3396)

### Distribution Discovery
- `find_distributions()` (L2042-2046): Path-based distribution scanning
- `find_on_path()` (L2085-2102): Filesystem distribution discovery
- Adapter pattern for different loader types (L3190-3198)

### Namespace Package Support
- `declare_namespace()` (L2296-2336): Legacy namespace package registration
- Handler system for different importer types (L2207-2222)
- Path rebuilding for sys.path order consistency (L2262-2293)

## Architectural Patterns

**Registry Pattern**: Multiple registries for finders, loaders, and namespace handlers
**Adapter Pattern**: Provider factories adapt different loader types to common interface
**Lazy Loading**: Metadata and version info loaded on-demand from filesystem
**State Management**: Global state serialization support (L126-163)

## Critical Invariants

1. Distribution keys are always lowercase normalized names
2. Working set maintains insertion order and precedence rules
3. Resource paths must use forward slashes, never os.sep
4. Version parsing falls back to sanitized versions for compatibility
5. Entry point parsing requires valid module names and group identifiers

## Dependencies

- **packaging**: Version parsing, requirements, markers
- **platformdirs**: Cross-platform cache directory detection  
- **pip._internal.utils._jaraco_text**: Text processing utilities
- Standard library: zipfile, importlib, pkgutil, email.parser

## Migration Notes

This module issues deprecation warnings (L102-107) directing users to modern alternatives. The entire API is considered legacy and maintained only for backward compatibility.
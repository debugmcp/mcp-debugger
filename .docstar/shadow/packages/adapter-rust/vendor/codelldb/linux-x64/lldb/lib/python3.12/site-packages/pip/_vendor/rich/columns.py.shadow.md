# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/columns.py
@source-hash: 1d45f429c326f5db
@generated: 2026-02-09T18:01:47Z

## Purpose
Provides the `Columns` class for arranging Rich renderables in a multi-column layout with flexible formatting options. Part of the Rich terminal formatting library's layout system.

## Key Classes

### Columns (L16-171)
Main class implementing columnar layout for Rich renderables. Inherits from `JupyterMixin` for Jupyter notebook support.

**Constructor (L31-53):**
- `renderables`: Collection of items to display
- `padding`: Cell padding (default `(0, 1)`)
- `width`: Fixed column width or auto-detect
- `expand`: Whether to expand columns to full width
- `equal`: Make all columns equal width
- `column_first`: Fill top-to-bottom vs left-to-right
- `right_to_left`: Reverse column order
- `align`: Text alignment within columns
- `title`: Optional title for the column layout

**Key Methods:**
- `add_renderable()` (L54-60): Appends new renderable to collection
- `__rich_console__()` (L62-171): Core rendering logic implementing Rich protocol

## Core Algorithm

**Measurement Phase (L78-85):** Calculates width requirements for each renderable using `Measurement.get()`. If `equal=True`, normalizes all widths to maximum.

**Layout Calculation (L86-143):** 
- `iter_renderables()` inner function (L86-117) handles item ordering based on `column_first` flag
- Column-first mode: Creates grid matrix, fills top-to-bottom using calculated column lengths
- Row-first mode: Simple sequential ordering
- Automatic column count determination when no fixed width specified

**Table Construction (L119-171):** Uses Rich's `Table.grid()` as underlying implementation, applying padding, alignment (`Align`), and width constraints (`Constrain`) as needed.

## Dependencies
- **Core Rich**: `Console`, `ConsoleOptions`, `RenderResult`, `Table`
- **Layout utilities**: `Align`, `Constrain`, `Padding`, `Measurement` 
- **Standard library**: `defaultdict`, `chain`, `itemgetter`

## Architecture Notes
- Delegates actual rendering to `Table.grid()` rather than implementing custom layout engine
- Supports both fixed-width and adaptive column sizing
- Handles edge cases like odd item counts with padding cells (L115-117)
- Optimizes for terminal width constraints through iterative column count reduction (L128-142)

## Demo Code (L174-187)
Executable example showing directory listing in various column configurations.
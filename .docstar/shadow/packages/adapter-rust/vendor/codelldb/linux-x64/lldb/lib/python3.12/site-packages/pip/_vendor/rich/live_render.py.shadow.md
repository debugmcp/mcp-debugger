# packages/adapter-rust/vendor/codelldb/linux-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/live_render.py
@source-hash: cc9b41e3bd631b38
@generated: 2026-02-09T18:01:47Z

**Purpose**: Implements a renderable wrapper that supports live updating and cursor positioning for terminal-based dynamic content display.

**Core Class**:
- `LiveRender` (L20-112): Main wrapper class that enables dynamic updates to terminal content with proper cursor management

**Key Methods**:
- `__init__` (L28-37): Initializes with renderable content, optional style, and vertical overflow behavior
- `set_renderable` (L39-45): Updates the wrapped renderable content
- `position_cursor` (L47-66): Generates terminal control codes to move cursor to start of rendered content
- `restore_cursor` (L68-80): Generates control codes to clear content and restore cursor position
- `__rich_console__` (L82-112): Rich protocol implementation that handles rendering with overflow management

**Key Features**:
- **Shape Tracking**: Stores rendered dimensions in `_shape` (L37, L106) for cursor positioning
- **Vertical Overflow Handling**: Three modes defined by `VerticalOverflowMethod` (L17):
  - "crop": Truncates content at height limit (L92-94)
  - "ellipsis": Shows "..." indicator when content exceeds height (L95-105)
  - "visible": No overflow handling
- **Terminal Control**: Uses `Control` and `ControlType` for cursor manipulation (L55-65, L76-79)

**Dependencies**:
- Rich console system: `Console`, `ConsoleOptions`, `RenderableType`, `RenderResult`
- Terminal control: `Control`, `ControlType`, `Segment`
- Utility: `loop_last` for iteration, `Text` for ellipsis rendering

**Architecture Pattern**:
Implements Rich's renderable protocol (`__rich_console__`) while adding live update capabilities through cursor positioning. The class acts as a stateful wrapper that tracks rendering dimensions to enable proper terminal cleanup and repositioning.

**Critical Behavior**:
- Shape is recalculated on each render (L88, L106)
- Cursor positioning only works when `_shape` is set
- Ellipsis mode reserves one line for the overflow indicator
- Line segments are yielded individually with newlines between (L109-112)
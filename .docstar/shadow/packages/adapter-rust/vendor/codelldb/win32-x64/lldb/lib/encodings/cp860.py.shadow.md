# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/encodings/cp860.py
@source-hash: 2dfae7e31d3d9aa3
@generated: 2026-02-09T18:10:47Z

This file implements a Python codec for the CP860 character encoding (Portuguese DOS codepage) generated from Microsoft's CP860.TXT specification using gencodec.py.

## Primary Purpose
Provides bidirectional text encoding/decoding between Unicode and CP860 byte sequences, supporting the Portuguese character set used in DOS systems.

## Core Components

### Codec Classes (L9-29)
- `Codec` (L9-15): Base codec with encode/decode methods using charmap operations
- `IncrementalEncoder` (L17-19): Streaming encoder for incremental text processing
- `IncrementalDecoder` (L21-23): Streaming decoder for incremental text processing
- `StreamWriter` (L25-26): File-like writer combining Codec and StreamWriter functionality
- `StreamReader` (L28-29): File-like reader combining Codec and StreamReader functionality

### Registration API (L33-42)
- `getregentry()` (L33-42): Returns CodecInfo object for Python's codec registry, enabling automatic codec discovery via `'cp860'` name

### Character Mapping Data

#### Decoding Map (L46-176)
- `decoding_map` (L46-176): Dictionary mapping CP860 byte values (0x80-0xFF) to Unicode codepoints
- Covers Portuguese accented characters, box drawing symbols, Greek letters, mathematical symbols
- Built from identity mapping for ASCII range (0x00-0x7F) with extensions for high bytes

#### Decoding Table (L180-437)
- `decoding_table` (L180-437): String literal containing all 256 Unicode characters indexed by CP860 byte value
- Direct lookup table for fast byte-to-character conversion
- Includes control characters, ASCII, and Portuguese/symbol extensions

#### Encoding Map (L441-698)
- `encoding_map` (L441-698): Reverse mapping from Unicode codepoints to CP860 byte values
- Identity mapping for ASCII (0x00-0x7F), custom mappings for Portuguese characters and symbols
- Enables Unicode-to-CP860 conversion

## Architecture Notes
- Uses Python's `codecs.charmap_encode/decode` functions for core conversion logic
- Character mappings are comprehensive, covering Portuguese text, mathematical symbols, and box-drawing characters
- All codec classes follow Python's standard codec interface patterns
- Generated code structure ensures consistency with other codepage implementations
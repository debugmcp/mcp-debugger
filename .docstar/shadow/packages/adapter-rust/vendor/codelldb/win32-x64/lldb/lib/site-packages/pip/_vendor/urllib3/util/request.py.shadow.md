# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_vendor/urllib3/util/request.py
@source-hash: 0b4394b76b5c53a2
@generated: 2026-02-09T18:02:10Z

## Purpose
HTTP request utility module providing header generation and file position management for urllib3 request handling.

## Key Components

### Constants (L12-17)
- `SKIP_HEADER` (L12): Sentinel value "@@@SKIP_HEADER@@@" for skipping automatic header emission
- `SKIPPABLE_HEADERS` (L13): Frozen set of headers that can be skipped ("accept-encoding", "host", "user-agent")
- `ACCEPT_ENCODING` (L15): Default encoding string "gzip,deflate"
- `_FAILEDTELL` (L17): Sentinel object marking failed file position queries

### Header Generation
**`make_headers()` (L20-89)**: Primary function for generating HTTP request headers
- Parameters: keep_alive, accept_encoding, user_agent, basic_auth, proxy_basic_auth, disable_cache
- Handles multiple accept_encoding formats (boolean, list, string)
- Encodes basic auth credentials using base64
- Returns lowercase header dictionary
- Used for standardizing header creation across urllib3

### File Position Management
**`set_file_position()` (L92-107)**: Manages file position for request bodies
- Moves to specified position or records current position
- Returns position or `_FAILEDTELL` sentinel on failure
- Critical for retry/redirect functionality

**`rewind_body()` (L110-137)**: Rewinds file-like objects to previous positions
- Validates body_pos is integer type
- Raises `UnrewindableBodyError` for seek failures or `_FAILEDTELL`
- Essential for request retry mechanisms

## Dependencies
- `base64.b64encode` for auth header encoding
- `..exceptions.UnrewindableBodyError` for rewind failures
- `..packages.six.b, integer_types` for Python 2/3 compatibility

## Architecture Notes
- Follows urllib3's pattern of lowercase header keys
- Uses sentinel objects for state management (_FAILEDTELL)
- Designed for request preparation and retry scenarios
- Integrates with urllib3's connection pooling and retry logic
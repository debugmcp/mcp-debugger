# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/encodings/cp858.py
@source-hash: a24930c4a6ad0ff6
@generated: 2026-02-09T18:10:44Z

## CP858 Character Encoding Codec

**Primary Purpose:** Implements Python character mapping codec for CP858 (Code Page 858), a variant of CP850 with Euro sign support. Provides bidirectional conversion between CP858 byte sequences and Unicode characters.

**Key Components:**

### Core Codec Classes
- `Codec` (L9-15): Main codec class implementing encode/decode methods using charmap operations
- `IncrementalEncoder` (L17-19): Handles streaming encode operations with error handling
- `IncrementalDecoder` (L21-23): Handles streaming decode operations with error handling  
- `StreamWriter` (L25-26): File-like object writer interface
- `StreamReader` (L28-29): File-like object reader interface

### Registration API
- `getregentry()` (L33-42): Returns `CodecInfo` object for codec registration with Python's encoding system

### Character Mapping Data
- `decoding_map` (L46-176): Dictionary mapping CP858 byte values (0x80-0xFF) to Unicode code points. Identity mapping for 0x00-0x7F, custom mappings for extended characters including Latin letters with diacritics, box-drawing characters, and Euro sign (0x00d5: 0x20ac)
- `decoding_table` (L180-437): String tuple containing 256 character mappings for fast array-based decoding
- `encoding_map` (L441-698): Reverse mapping from Unicode code points to CP858 byte values for encoding operations

**Dependencies:** 
- `codecs` module for core encoding/decoding infrastructure

**Architecture Notes:**
- Uses Python's charmap codec framework for efficient character-by-character conversion
- Maintains separate encode/decode data structures for bidirectional performance
- Follows standard Python codec registration pattern via `getregentry()`
- CP858 differs from CP850 primarily by including Euro sign at position 0xD5

**Key Invariant:** Encoding and decoding maps are inverse operations - `encoding_map[unicode_char] == cp858_byte` if and only if `decoding_map[cp858_byte] == unicode_char`
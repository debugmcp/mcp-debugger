# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_internal/resolution/resolvelib/candidates.py
@source-hash: d3b08173ce726b72
@generated: 2026-02-09T18:02:10Z

## Purpose
This module implements candidate classes for pip's dependency resolver, representing different types of installable packages during dependency resolution. Each candidate type handles specific installation scenarios and provides metadata consistency validation.

## Core Architecture

### Base Candidate Classes
- **_InstallRequirementBackedCandidate (L124-258)**: Abstract base class for candidates backed by InstallRequirement objects. Provides common functionality for metadata validation, dependency iteration, and distribution preparation. Key invariants: validates name/version consistency (L209-231), handles installation errors with context (L233-248).

### Concrete Candidate Types
- **LinkCandidate (L260-315)**: Represents packages to be installed from URLs/links. Features wheel cache optimization (L272-301), wheel metadata validation for remote wheels (L278-287), and persistent cache handling for download info.

- **EditableCandidate (L317-339)**: Represents editable package installations (development mode). Uses editable-specific preparation logic and always treats source_link as the same as link.

- **AlreadyInstalledCandidate (L341-406)**: Represents packages already present in the environment. Skips installation (L360-361) and returns None for install requirements since no installation is needed.

- **ExtrasCandidate (L408-530)**: Wrapper for packages with optional dependencies (extras). Creates artificial dependency graph nodes for extras like "foo[dev]", validates extras availability (L508-516), and ensures version consistency by depending on base candidate (L502).

- **RequiresPythonCandidate (L532-568)**: Special candidate representing the Python interpreter version. Used for requires-python constraint checking, normalizes version info (L538-541), and has no dependencies.

## Utility Functions
- **as_base_candidate() (L43-52)**: Runtime type checker for BaseCandidate union
- **make_install_req_from_link() (L55-77)**: Creates InstallRequirement from link with template copying
- **make_install_req_from_editable() (L80-97)**: Creates editable InstallRequirement 
- **_make_install_req_from_dist() (L100-121)**: Creates InstallRequirement from existing distribution

## Key Dependencies
- Integrates with pip's factory pattern for requirement creation
- Uses BaseDistribution for package metadata access
- Leverages Link objects for URL/file handling
- Relies on wheel cache for performance optimization

## Critical Behaviors
- All candidates implement Candidate interface with name, version, dependencies
- Hash-based equality for resolver deduplication
- Metadata consistency validation prevents invalid installations
- Error context preservation for debugging installation failures
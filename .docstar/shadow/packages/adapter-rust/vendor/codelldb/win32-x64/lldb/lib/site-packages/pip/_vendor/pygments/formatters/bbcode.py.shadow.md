# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_vendor/pygments/formatters/bbcode.py
@source-hash: af56fbc33593268b
@generated: 2026-02-09T18:02:03Z

**Purpose**: Pygments formatter that converts syntax-highlighted tokens to BBCode markup for bulletin board systems.

## Key Components

**BBCodeFormatter Class (L18-106)**
- Inherits from `Formatter` base class
- Converts tokenized source code to BBCode tags for forum posting
- Name: 'BBCode', aliases: ['bbcode', 'bb'] (L47-48)

**Initialization (__init__, L51-57)**
- Accepts options: `codetag`, `monofont` 
- Sets `self._code` and `self._mono` flags using `get_bool_opt`
- Creates empty `self.styles` dict and calls `_make_styles()`

**Style Generation (_make_styles, L59-76)**
- Iterates through `self.style` token type definitions
- Maps token types to BBCode start/end tag pairs
- Supports: color (`[color=#hex]`), bold (`[b]`), italic (`[i]`), underline (`[u]`)
- Explicitly excludes background colors and borders (no common BBCode equivalents)

**Token Formatting (format_unencoded, L78-108)**
- Main formatting method that processes token stream
- Optional wrapper tags: `[code]` (if `codetag=True`) and `[font=monospace]` (if `monofont=True`)
- Token consolidation: groups consecutive tokens of same type to minimize tag repetition (L87-97)
- Parent token type lookup: walks up token hierarchy until style found (L88-89)
- Proper tag nesting and closure

## Dependencies
- `pip._vendor.pygments.formatter.Formatter` - base formatter class
- `pip._vendor.pygments.util.get_bool_opt` - option parsing utility

## Architecture Notes
- Token type inheritance handling via `ttype.parent` traversal
- Efficient token batching to reduce BBCode tag overhead
- No support for background colors/borders due to BBCode limitations
- Designed for forum compatibility with optional monospace and code block wrapping
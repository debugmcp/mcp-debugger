# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/encodings/cp866.py
@source-hash: 9efcc8e85bbd1687
@generated: 2026-02-09T18:10:48Z

## CP866 Character Encoding Implementation

**Purpose**: Auto-generated Python character mapping codec for CP866 (Russian MS-DOS codepage), providing bidirectional conversion between Unicode and CP866 byte encoding.

### Core Components

**Codec Classes** (L9-29):
- `Codec` (L9-15): Main codec with encode/decode methods using charmap operations
- `IncrementalEncoder` (L17-19): Streaming encoder for partial input processing
- `IncrementalDecoder` (L21-23): Streaming decoder for partial input processing  
- `StreamWriter/StreamReader` (L25-28): File-like object wrappers inheriting from Codec

**Registration Function** (L33-42):
- `getregentry()`: Returns CodecInfo object registering 'cp866' codec with Python's encodings module

### Character Mapping Data

**Decoding Map** (L46-176):
- `decoding_map`: Dictionary mapping CP866 byte values to Unicode codepoints
- Covers Cyrillic letters (0x80-0x9F capital, 0xA0-0xAF + 0xE0-0xEF lowercase)
- Box drawing characters (0xB0-0xDF) for text-mode graphics
- Special symbols and additional Cyrillic variants (0xF0-0xFF)

**Decoding Table** (L180-437):
- `decoding_table`: Tuple of 256 Unicode strings indexed by byte value
- Parallel representation to decoding_map for direct lookup

**Encoding Map** (L441-698):
- `encoding_map`: Reverse mapping from Unicode codepoints to CP866 byte values
- Enables Unicode â†’ CP866 conversion

### Architecture Notes

- **Generated Code**: Auto-generated from official Microsoft CP866.TXT specification
- **Charmap Strategy**: Uses Python's built-in `codecs.charmap_encode/decode` for actual conversion
- **Complete Coverage**: Maps all 256 possible byte values with identity mapping for ASCII (0x00-0x7F)
- **Bidirectional**: Both encoding and decoding mappings ensure round-trip conversion fidelity

### Key Invariants

- ASCII range (0x00-0x7F) maps to identical Unicode values
- High byte range (0x80-0xFF) maps to Cyrillic, box drawing, and special characters
- Encoding/decoding maps are exact inverses of each other
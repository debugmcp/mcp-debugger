# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_vendor/pygments/formatters/other.py
@source-hash: 80fc6493905d0335
@generated: 2026-02-09T18:02:08Z

**Purpose:** Implements three specialized Pygments formatters for outputting syntax-highlighted code in alternative formats: plain text, raw token streams, and test case generation.

**Key Classes:**

- **NullFormatter (L19-34):** Pass-through formatter that outputs plain text without any formatting. Handles encoding-aware output to files. Aliases: `['text', 'null']`.

- **RawTokenFormatter (L36-117):** Serializes token streams to a tab-separated format (`tokentype\trepr(tokenstring)\n`) suitable for storage and later reconstruction. Features:
  - Compression support (`gz`, `bz2`) via dynamic import (L86-104)
  - Error token highlighting with configurable colors (L70-78, L106-116)  
  - Binary output validation (L82-85)
  - ASCII encoding enforcement (L67)

- **TestcaseFormatter (L130-161):** Generates Python test case code from token streams. Produces formatted test methods with token assertions using predefined templates (L119-127).

**Dependencies:**
- `pip._vendor.pygments.formatter.Formatter` - base formatter class
- `pip._vendor.pygments.util.get_choice_opt` - option validation
- `pip._vendor.pygments.token.Token` - token type definitions  
- `pip._vendor.pygments.console.colorize` - color validation and application

**Architectural Patterns:**
- Template-based code generation (TestcaseFormatter uses TESTCASE_BEFORE/AFTER constants)
- Dynamic compression handling with function reassignment pattern
- Encoding-aware output with fallback mechanisms
- Option validation using utility functions

**Critical Invariants:**
- RawTokenFormatter requires binary output streams
- TestcaseFormatter only accepts None or utf-8 encoding
- All formatters inherit standard Pygments formatter interface (`format(tokensource, outfile)`)

**Export Interface:** `__all__ = ['NullFormatter', 'RawTokenFormatter', 'TestcaseFormatter']` (L16)
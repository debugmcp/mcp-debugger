# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_vendor/urllib3/util/proxy.py
@source-hash: cd4bcf3c226ba7a7
@generated: 2026-02-09T18:02:08Z

## Purpose
Utility module for HTTP proxy connection logic in urllib3, handling tunnel requirement decisions and SSL context creation for proxy connections.

## Key Functions

### connection_requires_http_tunnel (L4-34)
Determines whether an HTTP CONNECT tunnel is required through a proxy based on:
- **proxy_url**: URL object of the proxy server  
- **proxy_config**: Configuration object with forwarding options
- **destination_scheme**: Target protocol (http/https)

**Logic flow:**
- Returns `False` if no proxy is configured (L18-19)
- Returns `False` for HTTP destinations (always forwards) (L22-23)  
- Returns `False` for HTTPS proxy + HTTPS destination when forwarding is enabled (L26-31)
- Returns `True` for all other cases requiring tunneling (L34)

### create_proxy_ssl_context (L37-56)
Creates SSL context for proxy connections using urllib3's SSL utilities:
- Resolves SSL version and certificate requirements via imported helpers (L44-47)
- Auto-loads default certificates if no custom CA configuration provided (L49-55)
- Returns configured SSLContext object for proxy SSL connections

## Dependencies
- `.ssl_`: Imports `create_urllib3_context`, `resolve_cert_reqs`, `resolve_ssl_version` for SSL context management (L1)

## Architecture Notes
- Encapsulates proxy tunneling decision logic in a single function
- Separates SSL context creation concerns from connection logic
- Supports both HTTP and HTTPS proxy protocols with different forwarding behaviors
- Integrates with urllib3's broader SSL configuration system
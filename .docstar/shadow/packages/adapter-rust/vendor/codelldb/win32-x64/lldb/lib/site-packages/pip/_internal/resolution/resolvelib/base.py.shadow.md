# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_internal/resolution/resolvelib/base.py
@source-hash: 0c27faebd16cab24
@generated: 2026-02-09T18:02:01Z

This file defines the foundational abstract base classes and data structures for pip's ResolveLib-based dependency resolution system.

## Primary Purpose
Provides core abstractions and utilities for representing package requirements, candidates, and constraints in pip's dependency resolver. Acts as the interface layer between pip's internal models and the ResolveLib resolution engine.

## Key Components

### Data Structures
- **CandidateLookup (L12)**: Type alias for tuple containing optional Candidate and InstallRequirement
- **Constraint (L22-58)**: Immutable dataclass representing version/hash/link constraints
  - `specifier`: Version specifier set for filtering
  - `hashes`: Hash requirements for security validation  
  - `links`: Frozen set of download links
  - Key methods: `empty()` factory, `from_ireq()` constructor, `is_satisfied_by()` validation, `__and__()` for combining constraints

### Abstract Base Classes
- **Requirement (L60-88)**: Abstract interface for dependency requirements
  - Properties: `project_name`, `name` (with extras formatting)
  - Methods: `is_satisfied_by()`, `get_candidate_lookup()`, `format_for_error()`
  - Distinguishes between project name and resolver name for extras handling

- **Candidate (L96-139)**: Abstract interface for installable package candidates  
  - Properties: `project_name`, `name`, `version`, `is_installed`, `is_editable`, `source_link`
  - Methods: `iter_dependencies()`, `get_install_requirement()`, `format_for_error()`
  - Represents concrete package versions that can satisfy requirements

### Utility Functions
- **format_name() (L15-19)**: Formats project names with extras as "project[extra1,extra2]"
- **_match_link() (L90-93)**: Compares links between candidates using pip's link equivalence logic

## Key Dependencies
- `pip._vendor.packaging`: Version handling, specifiers, normalized names
- `pip._internal.models.link`: Link representation and comparison
- `pip._internal.req.req_install`: InstallRequirement integration
- `pip._internal.utils.hashes`: Hash validation utilities

## Architectural Patterns
- Abstract base classes with `NotImplementedError` for enforcing subclass implementation
- Immutable constraint objects with set operations for combining requirements
- Clear separation between project identity (`project_name`) and resolver identity (`name` with extras)
- Integration layer design - translates between pip's internal models and ResolveLib's expected interfaces

## Critical Invariants
- Constraints are immutable and support set-like operations
- Requirements and Candidates must implement all abstract properties/methods
- Link matching relies on pip's internal link equivalence logic
- Hash verification always uses `trust_internet=False` for security
# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_vendor/urllib3/util/timeout.py
@source-hash: 730ab874c93cee62
@generated: 2026-02-09T18:02:12Z

## Purpose
Timeout management utility for HTTP connections with support for granular connect/read timeout configurations and total timeout constraints.

## Core Components

### Timeout Class (L19-271)
Primary timeout configuration class supporting:
- **Constructor (L101-106)**: Accepts `total`, `connect`, `read` parameters with validation
- **String representation (L107-116)**: Debug-friendly repr/str showing all timeout values
- **Validation (L123-166)**: Strict type/value checking rejecting booleans, negative values
- **Factory methods**:
  - `from_float()` (L169-182): Creates timeout from legacy single float value
  - `clone()` (L184-196): Deep copy preserving sentinel references
- **Timer management**:
  - `start_connect()` (L198-207): Initiates connection timing with state validation
  - `get_connect_duration()` (L209-221): Returns elapsed connection time
- **Computed properties**:
  - `connect_timeout` (L223-239): Returns effective connect timeout considering total limits
  - `read_timeout` (L241-271): Returns remaining read timeout after connection time

### Sentinel Values & Utilities
- `_Default` (L12): Internal sentinel for unspecified timeouts
- `DEFAULT_TIMEOUT` (L99): Maps to socket's `_GLOBAL_DEFAULT_TIMEOUT`
- `current_time` (L16): Monotonic time function for precise timing
- `resolve_default_timeout()` (L118-120): Resolves default timeout sentinel

## Key Behaviors
- **Timeout precedence**: When both total and specific timeouts set, minimum applies
- **State tracking**: Connection timer prevents double-starts and tracks elapsed time
- **Dynamic read timeout**: Adjusts based on remaining total timeout minus connection duration
- **Validation strictness**: Rejects boolean values, enforces positive numbers or None/sentinel

## Dependencies
- `socket` module for default timeout constants
- `time` module for timing (prefers monotonic if available)
- Custom `TimeoutStateError` exception from parent package

## Architecture Notes
- Immutable-style design with clone() for per-request isolation
- Careful sentinel handling to preserve socket.py compatibility
- Defensive programming with comprehensive input validation
# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_vendor/pygments/formatters/irc.py
@source-hash: 129fa6f23777be81
@generated: 2026-02-09T18:02:07Z

**Primary Purpose:** Provides IRC (Internet Relay Chat) color formatting for syntax highlighted code output in the Pygments package. Converts token types into IRC-compatible color sequences using control codes.

**Core Components:**

- **IRC_COLORS (L22-51)**: Token-to-color mapping dictionary defining light/dark background color schemes for different syntax elements (keywords, strings, comments, etc.). Uses tuple format: (light_color, dark_color).

- **IRC_COLOR_MAP (L54-74)**: Maps color names to IRC numeric color codes (0-15). Includes ANSI compatibility mappings (e.g., 'green': 7, 'red': 11).

- **ircformat() (L76-94)**: Core formatting function that converts color names and text into IRC control sequences:
  - Handles italic formatting with underscore markers (_color_ → \x1D)  
  - Handles bold formatting with asterisk markers (*color* → \x02)
  - Applies color codes using \x03 + zero-padded color number
  - Returns formatted text with proper opening/closing control sequences

- **IRCFormatter class (L97-154)**: Main formatter inheriting from Pygments Formatter base class
  - **__init__() (L122-128)**: Configures background type (light/dark), custom colorscheme, and line numbering options
  - **_write_lineno() (L130-133)**: Outputs formatted line numbers when enabled
  - **format_unencoded() (L135-154)**: Primary formatting method that processes token stream, applies colors, handles newlines, and manages line numbering

**Key Dependencies:**
- Inherits from `pip._vendor.pygments.formatter.Formatter`
- Uses token types from `pip._vendor.pygments.token`
- Leverages `pip._vendor.pygments.util.get_choice_opt` for option validation

**Notable Patterns:**
- Token type hierarchy traversal (L140-142): walks up token type tree to find color mapping
- Multi-line text handling (L145-152): splits on newlines and applies formatting per line while maintaining line numbers
- Conditional formatting based on background type using tuple indexing (L144)

**Configuration Options:**
- `bg`: "light" or "dark" background mode
- `colorscheme`: Custom token-to-color mapping override  
- `linenos`: Enable/disable line numbering
# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_internal/resolution/resolvelib/requirements.py
@source-hash: ec91b867bd9ee589
@generated: 2026-02-09T18:02:05Z

## Purpose
Implements concrete requirement classes for pip's ResolveLib-based dependency resolver, representing different types of package requirements during resolution.

## Key Classes

### ExplicitRequirement (L12-48)
Represents a requirement for a specific candidate (exact package version). Used when a requirement points to a single, explicit candidate.
- **candidate**: The specific candidate this requirement targets
- **is_satisfied_by()**: Only satisfied by the exact candidate
- **get_candidate_lookup()**: Returns the candidate directly with no InstallRequirement

### SpecifierRequirement (L50-120)
Represents requirements defined by version specifiers (e.g., ">=1.0,<2.0"). Primary requirement type for normal package dependencies.
- **_ireq**: Backing InstallRequirement object
- **_equal_cache/_hash**: Cached values for performance optimization
- **_extras**: Normalized set of requested extras
- **is_satisfied_by()**: Uses SpecifierSet.contains() with prereleases=True
- **format_for_error()**: Formats comma-separated specifiers in human-readable form

### SpecifierWithoutExtrasRequirement (L122-154)
Variant of SpecifierRequirement that strips extras from the backing InstallRequirement using `install_req_drop_extras()`. Used for base package requirements when extras need to be handled separately.

### RequiresPythonRequirement (L156-208)
Special requirement for Python version constraints from package metadata's `requires-python` field.
- **specifier**: SpecifierSet defining Python version constraints
- **_candidate**: The Python candidate to match against
- **get_candidate_lookup()**: Returns candidate only if current Python satisfies specifier

### UnsatisfiableRequirement (L210-245)
Sentinel requirement that can never be satisfied. Used to represent impossible constraints or unavailable packages.
- **is_satisfied_by()**: Always returns False
- **get_candidate_lookup()**: Always returns (None, None)

## Key Dependencies
- `pip._vendor.packaging`: SpecifierSet and name canonicalization utilities
- `pip._internal.req`: InstallRequirement handling and manipulation
- `.base`: Abstract Requirement, Candidate, and CandidateLookup interfaces

## Architectural Patterns
- All classes implement the abstract Requirement interface with standard methods: `is_satisfied_by()`, `get_candidate_lookup()`, `format_for_error()`
- Extensive use of caching for equality and hash operations to optimize resolver performance
- Type-specific equality checking prevents cross-type comparisons
- Consistent name normalization through canonicalize_name()

## Critical Invariants
- SpecifierRequirement assumes ireq.link is None (line 52, 129)
- SpecifierRequirement assumes ireq.req exists for PEP 508 compliance (lines 86, 117)
- RequiresPythonRequirement candidate names must match for satisfaction checks (line 203)
- All requirements must provide consistent project_name and name properties
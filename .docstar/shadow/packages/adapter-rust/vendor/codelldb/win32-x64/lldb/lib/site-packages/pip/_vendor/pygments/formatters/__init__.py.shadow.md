# packages/adapter-rust/vendor/codelldb/win32-x64/lldb/lib/site-packages/pip/_vendor/pygments/formatters/__init__.py
@source-hash: d7fcccffbf61c71b
@generated: 2026-02-09T18:02:03Z

**Primary Purpose**: Pygments formatter module entry point providing discovery, loading, and instantiation functions for syntax highlighter output formatters. Acts as a facade for the formatter ecosystem with lazy loading and caching mechanisms.

**Key Functions**:
- `_fn_matches(fn, glob)` (L28-33): Pattern matching utility for filename matching using compiled regex cache
- `_load_formatters(module_name)` (L36-42): Lazy loader that imports formatter modules and populates the name-to-class cache
- `get_all_formatters()` (L44-52): Generator yielding all available formatter classes from both built-in FORMATTERS mapping and plugins
- `find_formatter_class(alias)` (L55-68): Lookup function returning formatter class by alias, checking built-in and plugin formatters
- `get_formatter_by_name(_alias, **options)` (L70-81): Factory function creating formatter instances by alias with options
- `load_formatter_from_file(filename, formattername, **options)` (L84-116): Dynamic loader for custom formatters from files using exec()
- `get_formatter_for_filename(fn, **options)` (L119-138): Factory function matching formatters by filename patterns

**Key Classes**:
- `_automodule(types.ModuleType)` (L141-151): Custom module type enabling lazy attribute access for formatter classes via `__getattr__`

**Architecture Patterns**:
- **Lazy Loading**: Formatters loaded on-demand via `_load_formatters()` to reduce startup time
- **Caching**: Two-tier cache system - `_formatter_cache` (L24) for classes, `_pattern_cache` (L25) for compiled regex patterns  
- **Plugin System**: Integration with `find_plugin_formatters()` for extensibility
- **Module Replacement**: Dynamic module substitution (L154-158) to enable lazy attribute access

**Dependencies**:
- `FORMATTERS` mapping from `_mapping.py` containing built-in formatter metadata
- `find_plugin_formatters()` for plugin discovery
- `ClassNotFound` exception for error handling

**Critical Constraints**:
- Formatter classes must have `name`, `aliases`, and `filenames` attributes
- Custom formatter files executed with `exec()` in isolated namespace (security consideration)
- Module replacement deletes temporary references to prevent circular imports (L158)

**Error Handling**: All factory functions raise `ClassNotFound` when no matching formatter is found, with descriptive error messages for debugging.
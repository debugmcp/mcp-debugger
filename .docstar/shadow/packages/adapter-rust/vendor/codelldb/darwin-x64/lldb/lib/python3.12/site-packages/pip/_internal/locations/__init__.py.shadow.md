# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/locations/__init__.py
@source-hash: 51a031799fdff771
@generated: 2026-02-09T17:59:29Z

**Purpose**: Central orchestrator for Python package installation path resolution in pip, managing the transition from distutils to sysconfig while handling platform-specific quirks and distribution patches.

**Key Architecture Decision**: Dual backend system (L46-66) that conditionally uses either sysconfig (Python 3.10+) or distutils based on `_USE_SYSCONFIG` flag, with fallback comparison and warning mechanisms.

**Core Functions**:
- `get_scheme()` (L230-394): Primary path resolution function that gets installation schemes from both backends, compares results, and handles numerous platform-specific edge cases through skip conditions
- `get_bin_prefix()` (L397-405): Returns binary installation prefix with backend comparison
- `get_bin_user()` (L408-409): User-specific binary path via sysconfig
- `get_purelib()` (L429-440) / `get_platlib()` (L443-456): Pure Python and platform-specific library paths with Debian special case handling

**Platform Detection Functions** (all cached with `@functools.lru_cache`):
- `_looks_like_red_hat_lib()` (L101-112): Detects Red Hat's lib64 patches
- `_looks_like_debian_scheme()` (L116-120): Identifies Debian's additional schemes
- `_looks_like_red_hat_scheme()` (L124-140): Detects Red Hat's /local prefix patches
- `_looks_like_slackware_scheme()` (L144-156): Identifies Slackware's lib64 inconsistencies
- `_looks_like_msys2_mingw_scheme()` (L160-174): Detects MSYS2 MINGW patches
- `_looks_like_bpo_44860()` (L76-87): Identifies Python bug #44860 symptoms

**Warning System**:
- `_warn_if_mismatch()` (L204-208): Compares old vs new paths and triggers warnings
- `_warn_mismatched()` (L194-201): Logs path mismatches with GitHub issue reference
- `_log_context()` (L212-227): Provides additional debugging context

**Critical Constants**:
- `_PLATLIBDIR` (L41): Platform library directory from sys.platlibdir
- `_USE_SYSCONFIG_DEFAULT` (L43): Version-based default for sysconfig usage
- `_MISMATCH_LEVEL` (L71-73): Logging level for path mismatches

**Dependencies**:
- Internal: `pip._internal.models.scheme.Scheme`, `pip._internal.utils.*`
- Conditional imports: `_sysconfig`, `_distutils` modules
- External: `sysconfig`, `distutils` (lazy import)

**Architectural Pattern**: The file implements a sophisticated compatibility layer that maintains backwards compatibility while transitioning to new APIs, with extensive platform-specific workarounds encoded as skip conditions in the main comparison logic.
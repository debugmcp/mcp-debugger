# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/macos.py
@source-hash: c1fb6c6ecbeaea76
@generated: 2026-02-09T17:59:49Z

## Purpose
macOS-specific implementation of platform directory resolution following Apple's file system guidelines. Provides standardized paths for application data, configuration, cache, logs, and user directories on macOS systems.

## Key Classes

### MacOS (L11-126)
Platform directory resolver inheriting from `PlatformDirsABC`. Implements all required directory properties with macOS-specific paths following Apple's recommended directory structure.

**Core Directory Properties:**
- `user_data_dir` (L24-26): Returns `~/Library/Application Support/$appname/$version`
- `site_data_dir` (L29-43): Returns `/Library/Application Support/$appname/$version`, with Homebrew detection
- `user_config_dir` (L46-48): Delegates to `user_data_dir` (macOS convention)
- `site_config_dir` (L51-53): Delegates to `site_data_dir`
- `user_cache_dir` (L56-58): Returns `~/Library/Caches/$appname/$version`
- `site_cache_dir` (L61-75): Returns `/Library/Caches/$appname/$version`, with Homebrew support
- `user_state_dir` (L78-80): Delegates to `user_data_dir`
- `user_log_dir` (L83-85): Returns `~/Library/Logs/$appname/$version`
- `user_runtime_dir` (L118-120): Returns `~/Library/Caches/TemporaryItems/$appname/$version`
- `site_runtime_dir` (L123-125): Delegates to `user_runtime_dir`

**User Media Directories:**
- `user_documents_dir` (L88-90): `~/Documents`
- `user_downloads_dir` (L93-95): `~/Downloads`  
- `user_pictures_dir` (L98-100): `~/Pictures`
- `user_videos_dir` (L103-105): `~/Movies`
- `user_music_dir` (L108-110): `~/Music`
- `user_desktop_dir` (L113-115): `~/Desktop`

## Dependencies
- `os.path`: Path manipulation utilities
- `sys`: Python system information (for Homebrew detection)
- `.api.PlatformDirsABC`: Abstract base class defining the platform directory interface

## Key Patterns

### Homebrew Detection
Uses `sys.prefix.startswith("/opt/homebrew")` (L38, L70) to detect Homebrew-managed Python installations and adjust site directory paths accordingly.

### Multipath Support
For site directories, supports multipath mode where multiple paths are joined with `os.pathsep` (L42, L74), prioritizing Homebrew paths when detected.

### Path Construction
Relies on inherited `_append_app_name_and_version()` method to construct application-specific subdirectories.

### macOS Conventions
- Config directories map to data directories (following Apple guidelines)
- User media directories use standard macOS locations without app-specific subdirectories
- Runtime directories use TemporaryItems for user-specific temporary storage

## Architectural Decisions
- Separates user vs site directories following macOS multi-user paradigms
- Integrates Homebrew package manager conventions for managed Python environments
- Maintains consistency with Apple's documented directory usage guidelines
- Uses property-based interface for lazy directory resolution
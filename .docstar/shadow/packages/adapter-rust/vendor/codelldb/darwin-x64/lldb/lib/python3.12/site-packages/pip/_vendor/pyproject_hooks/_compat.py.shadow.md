# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_compat.py
@source-hash: 6f2e9ebeb627aa48
@generated: 2026-02-09T17:59:46Z

**Purpose:** Compatibility shim for TOML parsing libraries across Python versions.

**Core Functionality:**
- Provides unified `tomllib` import regardless of Python version (L5-8)
- Uses Python 3.11+ built-in `tomllib` when available (L6)
- Falls back to vendored `tomli` library for older Python versions (L8)

**Key Elements:**
- `__all__` (L1): Exports only `tomllib` symbol
- Version detection (L5): Checks `sys.version_info` for Python 3.11+
- Conditional imports (L6, L8): Dynamic library selection based on Python version

**Dependencies:**
- `sys` module for version detection (L3)
- Built-in `tomllib` (Python 3.11+) or vendored `pip._vendor.tomli` (older versions)

**Architectural Pattern:**
- Standard compatibility layer pattern
- Abstracts version differences behind consistent interface
- Enables forward compatibility as TOML parsing moved from external to built-in library in Python 3.11

**Usage Context:**
Part of pip's vendored pyproject-hooks package, ensuring TOML parsing works across supported Python versions without exposing version-specific implementation details to consumers.
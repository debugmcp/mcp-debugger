# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/jupyter.py
@source-hash: 432a0aa04ffc21d0
@generated: 2026-02-09T18:00:05Z

## Purpose
Provides Jupyter notebook integration for Rich console rendering, enabling Rich objects to display with proper HTML formatting and styling in Jupyter environments.

## Key Components

### Classes

**JupyterRenderable (L18-34)**: Simple container for HTML and text representations
- Stores both `html` and `text` versions of content (L21-23)
- Implements `_repr_mimebundle_()` method for Jupyter's display system (L25-33)
- Handles MIME type filtering via `include`/`exclude` parameters

**JupyterMixin (L36-57)**: Mixin class to add Jupyter rendering capability to Rich renderables
- Uses `__slots__ = ()` for memory efficiency (L39)
- Implements `_repr_mimebundle_()` that renders Rich objects to both HTML and plain text (L41-56)
- Leverages Rich console rendering pipeline via `get_console().render()`

### Core Functions

**_render_segments() (L59-82)**: Converts Rich segments to styled HTML
- Processes segment iterator to generate HTML with inline styles (L67-77)
- HTML escapes text content via internal `escape()` helper (L60-62)
- Applies CSS styling from segment styles using `style.get_html_style()` (L72-73)
- Handles hyperlinks by wrapping in `<a>` tags (L74-75)
- Uses `JUPYTER_HTML_FORMAT` template for final HTML structure (L79)

**display() (L84-96)**: Direct rendering function for Jupyter display
- Renders segments to HTML and creates JupyterRenderable wrapper (L86-87)
- Gracefully handles missing IPython dependency (L92-95)
- Uses dynamic import for IPython.display to avoid hard dependency

**print() (L98-101)**: Simple proxy to Rich console print functionality

## Dependencies
- Rich console system via `get_console()` import (L6)
- Rich segments and terminal theming (L7-8) 
- Optional IPython.display dependency for Jupyter integration (L89)

## Architecture Notes
- Uses MIME bundle protocol (`_repr_mimebundle_`) for Jupyter integration
- Separates HTML generation logic into reusable `_render_segments()` function
- Graceful degradation when IPython unavailable
- Mixin pattern allows easy addition of Jupyter support to existing Rich renderables
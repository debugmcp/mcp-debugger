# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/tags.py
@source-hash: cbc11b85e3aef564
@generated: 2026-02-09T17:59:54Z

## Python Wheel Tags Module for pip/packaging

**Primary Purpose:** Generates and parses platform wheel tags for Python packages, enabling platform-specific package selection and compatibility checking. Core component of pip's wheel format support.

**Architecture:** Tag-based system representing interpreter-ABI-platform triples (e.g., "cp39-cp39-win_amd64") with specialized generators for different Python implementations and platforms.

### Core Classes

**Tag (L42-94):** Immutable wheel tag representation with pre-computed hash optimization for Set operations.
- Properties: `interpreter`, `abi`, `platform` (L63-73)
- Optimized equality/hashing with short-circuit performance (L75-87)
- String representation: "interpreter-abi-platform" format (L89-93)

### Key Functions

**Tag Generation:**
- `parse_tag(tag)` (L96-109): Parses compressed tag strings into frozenset of Tag instances
- `cpython_tags()` (L184-242): CPython-specific tag generator with ABI3 support and version compatibility
- `generic_tags()` (L285-313): Generic interpreter tag generator with fallback to "none" ABI
- `compatible_tags()` (L331-353): Backward-compatible tag sequence generator
- `sys_tags()` (L548-568): Main entry point returning prioritized tags for current interpreter

**Platform Detection:**
- `platform_tags()` (L509-518): Platform-specific tag dispatcher
- `mac_platforms()` (L398-483): macOS version/architecture compatibility with universal binary support
- `_linux_platforms()` (L486-502): Linux platform tags with manylinux/musllinux integration
- `_generic_platforms()` (L505-506): Fallback platform detection

**ABI Detection:**
- `_cpython_abis()` (L151-181): CPython ABI flag detection (debug, threading, pymalloc, UCS4)
- `_generic_abi()` (L244-282): EXT_SUFFIX-based ABI extraction for various interpreters
- `_abi3_applies()` (L141-148): ABI3 stable API compatibility checker
- `_is_threaded_cpython()` (L125-138): Threaded build detection via abiflags

### Configuration & Constants

**INTERPRETER_SHORT_NAMES (L30-36):** Mapping of interpreter names to abbreviated forms
- Supports: cpython→cp, pypy→pp, ironpython→ip, jython→jy

**Type Aliases (L27-28):** 
- `PythonVersion = Sequence[int]`
- `MacVersion = Tuple[int, int]`

### Dependencies
- Internal: `_manylinux`, `_musllinux` modules for Linux platform tags (L23, L499-500)
- External: `sysconfig`, `platform`, `sys` for system introspection
- Uses `EXTENSION_SUFFIXES` from importlib.machinery for ABI detection (L14, L161)

### Critical Behavior
- Hash pre-computation in Tag.__init__ for performance (L56-61)
- macOS version detection handles SDK compatibility issues (L412-427)
- Linux platform generation prioritizes manylinux/musllinux over generic (L499-502)
- CPython ABI detection handles Windows-specific extension suffix patterns (L158-163)
- Threading support detection for Python 3.13+ GIL-disabled builds (L164-165)

### Architectural Patterns
- Generator-based lazy evaluation for tag sequences
- Platform-specific dispatching with fallbacks
- Immutable value objects with optimization for set operations
- Configuration-driven ABI detection with graceful degradation
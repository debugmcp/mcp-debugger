# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/style.py
@source-hash: 211d9f954977d487
@generated: 2026-02-09T17:59:51Z

**Primary Purpose:**
Core style system for Pygments syntax highlighting. Provides base `Style` class and metaclass infrastructure for defining token-based styling with support for colors, font attributes, and ANSI terminal colors.

**Key Components:**

- **`_ansimap` (L14-33)**: Static mapping of ANSI color names to RGB hex values for 16 standard terminal colors
- **`_deprecated_ansicolors` (L35-54)**: Migration mapping from old `#ansixxx` format to new ANSI color names  
- **`ansicolors` (L55)**: Set of valid ANSI color names for validation
- **`StyleMeta` (L58-168)**: Metaclass that processes style definitions and builds internal representations
  - **`__new__` (L60-124)**: Core style processing - validates colors, inherits from parent tokens, parses style definitions into 9-element arrays
  - **`colorformat` (L66-79)**: Validates and normalizes color formats (hex, ANSI, CSS variables)
  - **`style_for_token` (L126-154)**: Converts internal style arrays to dictionaries with semantic keys
  - **`list_styles`, `styles_token`, `__iter__`, `__len__` (L156-167)**: Style introspection methods
- **`Style` (L170-203)**: Base style class with default color scheme and metadata attributes

**Architecture:**
Uses metaclass pattern where `StyleMeta.__new__` processes `styles` dictionary at class creation time. Internal representation uses 9-element arrays: `[color, bold, italic, underline, bgcolor, border, roman, sans, mono]`. Supports inheritance through token hierarchy and explicit `noinherit` directive.

**Dependencies:**
- `pip._vendor.pygments.token`: Imports `Token` and `STANDARD_TYPES` for token system integration

**Critical Invariants:**
- All STANDARD_TYPES tokens must have style entries (even if empty)
- Color values must be valid hex (#RGB/#RRGGBB), ANSI names, or CSS functions
- Style inheritance follows token parent hierarchy unless `noinherit` specified
- Internal `_styles` dict maps tokens to 9-element arrays for efficient access
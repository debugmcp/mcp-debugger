# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/control.py
@source-hash: 0d29074d440ba2b7
@generated: 2026-02-09T18:00:04Z

**Primary Purpose**
Terminal control code management module within Rich library's pip vendor package. Provides abstraction layer for ANSI escape sequences to manipulate terminal cursor, screen, and display properties.

**Key Classes & Functions**

`Control` (L54-185): Main renderable class that encapsulates terminal control codes
- `__init__` (L64-72): Accepts ControlType enums or ControlCode tuples, converts to rendered ANSI escape sequences
- `segment` attribute: Contains the rendered control sequence as a Segment object
- Class methods for common operations:
  - `bell()` (L75-77): Ring terminal bell
  - `home()` (L80-82): Move cursor to home position
  - `move(x, y)` (L85-111): Relative cursor movement with offset parameters
  - `move_to_column(x, y)` (L114-135): Absolute column positioning with optional row offset
  - `move_to(x, y)` (L138-148): Absolute cursor positioning
  - `clear()` (L151-153): Clear screen
  - `show_cursor(show)` (L156-158): Toggle cursor visibility
  - `alt_screen(enable)` (L161-166): Toggle alternate screen buffer
  - `title(title)` (L169-175): Set terminal window title
- `__rich_console__` (L180-184): Rich protocol implementation for rendering

`strip_control_codes(text)` (L187-198): Utility function to remove control characters from text using translation table

`escape_control_codes(text)` (L201-214): Utility function to escape control codes to visible representations (e.g., "\b" â†’ "\\b")

**Key Data Structures**

`STRIP_CONTROL_CODES` (L15-21): List of ASCII control code points to be stripped (bell, backspace, vtab, form feed, carriage return)

`_CONTROL_STRIP_TRANSLATE` (L22-24): Translation table mapping control codes to None for removal

`CONTROL_ESCAPE` (L26-32): Translation table mapping control codes to escaped string representations

`CONTROL_CODES_FORMAT` (L34-51): Dictionary mapping ControlType enums to lambda functions that generate ANSI escape sequences. Includes cursor movement, screen clearing, alternate screen, and window title operations.

**Dependencies**
- `.segment`: Provides ControlCode, ControlType, and Segment classes
- `typing`: Type hints for Python < 3.8 compatibility via typing_extensions

**Architectural Patterns**
- Factory pattern: Class methods serve as named constructors for specific control operations
- Rich protocol: Implements `__rich_console__` for seamless integration with Rich rendering system
- Translation tables: Uses str.translate() for efficient control code processing

**Critical Invariants**
- Control codes are always wrapped in Segment objects with proper control metadata
- ANSI escape sequences follow standard terminal control sequence format
- Coordinate systems are 0-based internally but converted to 1-based for terminal commands (L47, L49)
- Empty control segments are not yielded in rendering (L183)
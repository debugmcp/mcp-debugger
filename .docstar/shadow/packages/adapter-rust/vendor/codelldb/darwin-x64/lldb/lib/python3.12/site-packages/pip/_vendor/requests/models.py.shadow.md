# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/requests/models.py
@source-hash: c782b80a61fe942d
@generated: 2026-02-09T18:00:02Z

## Purpose
Core HTTP request/response model objects for the Requests library. Provides the foundational classes that handle HTTP request preparation, response processing, and data encoding for both user-facing and internal operations.

## Key Classes

### RequestEncodingMixin (L84-204)
Utility mixin providing URL and form data encoding functionality:
- `path_url` property (L86-104): Extracts path and query components from full URL
- `_encode_params()` static method (L107-134): Encodes URL parameters from dict/list to URL-encoded string
- `_encode_files()` static method (L137-203): Handles multipart form data encoding for file uploads

### RequestHooksMixin (L206-228)
Mixin for managing request lifecycle hooks:
- `register_hook()` (L207-216): Registers callable hooks for specific events
- `deregister_hook()` (L218-227): Removes previously registered hooks

### Request (L230-311)
User-facing request object for creating HTTP requests:
- Constructor (L258-290): Accepts all standard HTTP parameters (method, URL, headers, data, files, etc.)
- `prepare()` method (L295-310): Converts to PreparedRequest for actual transmission
- Inherits hook management from RequestHooksMixin

### PreparedRequest (L313-638)
Internal request object containing exact bytes to be transmitted:
- Constructor (L334-349): Initializes all request components to None
- `prepare()` method (L351-377): Orchestrates preparation of all request components
- `prepare_method()` (L393-397): Normalizes HTTP method to uppercase
- `prepare_url()` (L409-481): Complex URL preparation including IDNA encoding, validation, and parameter merging
- `prepare_headers()` (L483-492): Validates and normalizes headers
- `prepare_body()` (L494-570): Handles body encoding for JSON, form data, files, and streams
- `prepare_auth()` (L588-608): Processes authentication (basic auth, custom auth handlers)
- `prepare_cookies()` (L610-628): Converts cookies to Cookie header
- `copy()` method (L382-391): Creates deep copy of prepared request

### Response (L640-1037)
Represents server response to HTTP request:
- Constructor (L658-703): Initializes response attributes and metadata
- Content access properties:
  - `content` (L891-907): Raw bytes content with lazy loading
  - `text` (L910-945): Unicode content with encoding detection
  - `json()` (L947-978): Parsed JSON with error handling
- Status and redirect properties:
  - `ok` (L755-767): True if status < 400
  - `is_redirect` (L770-774): Checks for redirect status codes
  - `is_permanent_redirect` (L777-782): Checks for permanent redirects
- Iteration methods:
  - `iter_content()` (L799-855): Streams response data in chunks
  - `iter_lines()` (L857-888): Iterates response line by line
- `raise_for_status()` (L997-1024): Raises HTTPError for 4xx/5xx responses
- Context manager support (L705-709): Enables `with` statement usage

## Key Constants
- `REDIRECT_STATI` (L71-77): HTTP status codes that trigger automatic redirects
- `DEFAULT_REDIRECT_LIMIT` (L79): Maximum number of redirects (30)
- `CONTENT_CHUNK_SIZE` (L80): Default chunk size for content reading (10KB)
- `ITER_CHUNK_SIZE` (L81): Default chunk size for line iteration (512 bytes)

## Critical Dependencies
- urllib3: Low-level HTTP handling, multipart encoding, URL parsing
- Internal utils: Encoding utilities, compatibility layer, cookie handling
- Authentication: HTTPBasicAuth and auth handler integration

## Architecture Notes
- Separation of concerns: Request for user input → PreparedRequest for transmission → Response for results
- Mixin pattern used for code reuse across request classes
- Lazy loading pattern for response content to handle large responses efficiently
- Comprehensive encoding support including Unicode domains (IDNA), form data, and multipart files
- Robust error handling with custom exception types for different failure modes
# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/commands/show.py
@source-hash: 206f4be6ea3cc3a5
@generated: 2026-02-09T17:59:26Z

## Purpose
Implements pip's `show` command for displaying detailed information about installed Python packages in RFC-compliant mail header format. Part of pip's internal command structure.

## Key Components

### ShowCommand (L16-50)
Main command class inheriting from `Command`. Handles CLI interface for package information display.
- `add_options()` (L27-37): Adds `-f/--files` flag to show installed files
- `run()` (L39-50): Main execution logic, validates args and orchestrates package search/display

### _PackageInfo (L53-70)
NamedTuple data structure containing comprehensive package metadata:
- Basic info: name, version, location, summary, homepage, author
- Dependencies: requires, required_by lists
- Installation details: installer, metadata_version, editable_project_location
- Rich metadata: classifiers, project_urls, entry_points, license
- Files: optional list of installed files

### search_packages_info (L73-166)
Core search function that yields `_PackageInfo` objects for requested packages.
- Builds installed packages index using canonical names (L82-83)
- Identifies missing packages and logs warnings (L84-88)
- `_get_requiring_packages()` (L90-96): Nested function to find reverse dependencies
- Handles dependency parsing with fallback for invalid requirements (L104-116)
- Extracts entry points from `entry_points.txt` (L118-122)
- Implements homepage fallback logic from Project-URLs (L134-146)

### print_results (L169-217)
Formats and outputs package information in mail header format.
- Separates multiple packages with `---` delimiter
- Shows basic info always, additional metadata only in verbose mode (L198-209)
- Conditionally displays file lists when `list_files=True` (L210-216)

## Dependencies
- `pip._internal.metadata`: Package distribution access via `get_default_environment()`
- `pip._vendor.packaging`: Name canonicalization and requirement parsing
- `pip._internal.cli.base_command.Command`: Base command infrastructure
- `pip._internal.utils.misc.write_output`: Standardized output formatting

## Key Patterns
- Graceful error handling for invalid requirements with fallbacks
- Canonical name normalization for consistent package matching
- Generator-based lazy evaluation for memory efficiency
- RFC mail header format output for machine readability
- Comprehensive metadata extraction with sensible defaults for missing fields

## Critical Behaviors
- Missing packages trigger warnings but don't fail the command
- Invalid requirements fall back to raw dependency strings
- Homepage extraction prioritizes Project-URL "homepage" entries over Home-page metadata
- File listing requires pip-generated installation records
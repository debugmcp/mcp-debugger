# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/live_render.py
@source-hash: cc9b41e3bd631b38
@generated: 2026-02-09T18:00:01Z

**Purpose**: Provides a `LiveRender` class for creating updateable renderables in the Rich library's live display system. Manages terminal cursor positioning and content overflow during live updates.

**Core Components**:

- **`VerticalOverflowMethod`** (L17): Type alias defining overflow handling strategies: "crop", "ellipsis", or "visible"
- **`LiveRender` class** (L20-112): Main class implementing updateable renderable with cursor management

**Key Methods**:

- **`__init__`** (L28-37): Initializes with renderable content, optional style, and vertical overflow method. Tracks shape state in `_shape` attribute
- **`set_renderable`** (L39-45): Updates the renderable content while preserving other settings
- **`position_cursor`** (L47-66): Generates terminal control codes to move cursor to beginning of live render area using stored shape dimensions
- **`restore_cursor`** (L68-80): Creates control codes to clear render area and restore cursor to previous position
- **`__rich_console__`** (L82-112): Rich protocol implementation that renders content with overflow handling and updates shape tracking

**Overflow Handling Logic** (L91-105):
- **Crop mode**: Truncates lines to fit height limit
- **Ellipsis mode**: Truncates with "..." indicator using "live.ellipsis" style
- **Visible mode**: No height restriction (implicit default)

**Dependencies**:
- Rich framework components: Console, Segment, Control, Text
- Internal utilities: `loop_last` for iteration
- Type system integration with backward compatibility for Python < 3.8

**State Management**:
- Tracks rendered dimensions in `_shape` tuple for cursor positioning
- Updates shape after each render to maintain accuracy

**Terminal Integration**:
Uses Rich's Control system for terminal manipulation including carriage returns, cursor movement, and line erasure commands.
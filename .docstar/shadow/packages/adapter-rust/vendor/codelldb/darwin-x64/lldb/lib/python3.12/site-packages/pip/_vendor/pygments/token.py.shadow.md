# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/token.py
@source-hash: 0d755070b50b567d
@generated: 2026-02-09T17:59:54Z

## Purpose
Core token type system for the Pygments syntax highlighting library. Defines a hierarchical token type system using a custom tuple-based class that enables dynamic attribute access to create token subtypes.

## Key Classes

### _TokenType (L12-53)
Custom tuple subclass that forms the foundation of Pygments' token hierarchy:
- **Dynamic attribute access** (`__getattr__`, L34-41): Creates new token subtypes on-the-fly when accessing capitalized attributes (e.g., `Token.Keyword` creates a `Keyword` subtype)
- **Hierarchical containment** (`__contains__`, L28-32): Implements subtype checking via tuple prefix matching
- **Tree navigation** (`split()`, L15-22): Returns path from root to current token type
- **Singleton behavior** (`__copy__`/`__deepcopy__`, L46-52): Ensures token type instances remain unique
- **Parent tracking**: Maintains `parent` references for tree structure and `subtypes` set for children

## Token Hierarchy Structure

### Root Token (L55)
`Token = _TokenType()` - Base token type for all syntax elements

### Core Token Categories (L57-82)
- **Text tokens** (L58-63): `Text`, `Whitespace`, `Escape`, `Error`, `Other`
- **Source code tokens** (L65-73): `Keyword`, `Name`, `Literal`, `String`, `Number`, `Punctuation`, `Operator`, `Comment`  
- **Generic tokens** (L76): For non-source code content
- **Aliases** (L80-82): Direct references like `Token.String = String`

## Utility Functions

### is_token_subtype() (L85-91)
Backwards compatibility wrapper for subtype checking. Delegates to `__contains__` method.

### string_to_tokentype() (L94-117)
Converts dot-separated strings to token types by traversing the hierarchy:
- Handles empty strings → returns root `Token`
- Already token types → returned unchanged  
- Dot notation → navigates attribute chain (e.g., "String.Double" → `Token.Literal.String.Double`)

## Standard Types Mapping (L123-214)
Comprehensive dictionary `STANDARD_TYPES` mapping token types to CSS class abbreviations:
- 100+ predefined token types with short codes
- Used for CSS class generation in HTML output
- Covers all major programming language constructs
- Organized by category (keywords, names, literals, etc.)

## Architectural Patterns
- **Lazy initialization**: Token subtypes created on first access
- **Flyweight pattern**: Token instances are singletons to save memory
- **Composite pattern**: Hierarchical token structure with parent-child relationships
- **Dynamic dispatch**: Attribute access drives token type creation
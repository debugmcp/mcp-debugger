# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/version.py
@source-hash: c04e2c495945f9dd
@generated: 2026-02-09T17:59:54Z

## Purpose
This module implements PEP 440-compliant Python package version parsing and comparison. It provides comprehensive version string parsing with support for epochs, pre-releases, post-releases, development releases, and local version identifiers.

## Core Classes

**Version (L161-452)**: Main version parsing and comparison class
- `__init__(version: str)` (L188-224): Parses version string using regex, validates format, generates comparison key
- String representations: `__str__` (L234), `__repr__` (L226), provides normalized version strings
- Comparison methods: Inherits from `_BaseVersion` for full comparison support
- Properties for version components:
  - `epoch` (L267): Version epoch (defaults to 0)  
  - `release` (L278): Tuple of release numbers (e.g., (1, 2, 3))
  - `pre` (L294): Pre-release info as (letter, number) or None
  - `post` (L309): Post-release number or None
  - `dev` (L320): Development release number or None
  - `local` (L331): Local version string or None
  - `major/minor/micro` (L422-451): Convenience accessors for release components
- Version type properties: `is_prerelease` (L383), `is_postrelease` (L400), `is_devrelease` (L411)
- Derived versions: `public` (L345), `base_version` (L358)

**_BaseVersion (L69-113)**: Abstract base providing comparison operators
- Uses `_key` attribute for all comparisons (L72-112)
- Implements full set of comparison operators with type checking

**InvalidVersion (L59-67)**: Exception raised for malformed version strings

## Key Functions

**parse(version: str) (L47-56)**: Convenience function that wraps `Version()` constructor

**_parse_letter_version(letter, number) (L454-486)**: Normalizes pre/post/dev version components
- Handles letter normalization (alpha→a, beta→b, etc.)
- Provides implicit numbering for letter-only versions

**_parse_local_version(local) (L492-501)**: Parses local version segments separated by dots/dashes/underscores

**_cmpkey(...) (L504-563)**: Generates comparison key tuple for version sorting
- Implements PEP 440 sorting rules using Infinity/NegativeInfinity sentinels
- Handles complex precedence: dev < pre < normal < post, with special cases

## Regular Expression Pattern

**VERSION_PATTERN (L117-158)**: Comprehensive regex for PEP 440 version matching
- Supports optional 'v' prefix
- Captures: epoch, release, pre-release, post-release, dev, local components
- Designed for embedding in larger expressions (not anchored)

## Type Definitions

**_Version (L38-45)**: NamedTuple for storing parsed version components
**CmpKey, LocalType, CmpPrePostDevType (L20-35)**: Complex type annotations for comparison system

## Dependencies
- `_structures`: Provides Infinity/NegativeInfinity sentinels for comparison ordering
- Standard library: `re`, `itertools`, `typing`

## Architecture Notes
- Two-phase design: parsing into `_Version` structure, then key generation for comparison
- Comparison system uses sentinel values to handle None/missing components in sorting
- Regex-based parsing with comprehensive validation
- Immutable version objects with cached comparison keys
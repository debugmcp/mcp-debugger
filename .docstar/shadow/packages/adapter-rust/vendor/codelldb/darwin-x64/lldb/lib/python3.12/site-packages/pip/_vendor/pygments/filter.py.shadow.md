# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/filter.py
@source-hash: 8f968b33d6bdc12c
@generated: 2026-02-09T17:59:46Z

**Primary Purpose**: Core filter infrastructure for Pygments syntax highlighting, providing base classes and utilities for applying token stream transformations.

**Key Components**:

- `apply_filters()` (L12-22): Chains multiple filters together, applying them sequentially to a token stream. Takes an iterable of filters and optionally forwards a lexer context to each filter.

- `simplefilter` decorator (L25-38): Converts plain functions into Filter classes by dynamically creating a FunctionFilter subclass. Preserves function metadata (__name__, __module__, __doc__).

- `Filter` base class (L41-51): Abstract base for all filters with options dict initialization. Defines the contract via unimplemented `filter(lexer, stream)` method.

- `FunctionFilter` class (L54-71): Concrete Filter subclass used by simplefilter decorator. Validates that a `function` attribute is bound and delegates filtering to that function.

**Architecture Pattern**: 
- Stream processing pipeline using generator functions for memory efficiency
- Decorator pattern for converting functions to classes
- Template method pattern in Filter base class

**Token Stream Contract**: 
Filters operate on streams of (token_type, value) tuples, yielding transformed tuples.

**Dependencies**: 
None - pure Python implementation using only built-ins.

**Usage Flow**:
1. Define filter function and decorate with @simplefilter, OR subclass Filter directly
2. Pass filter instances to apply_filters() along with token stream
3. Filters process stream sequentially, each receiving output of previous filter
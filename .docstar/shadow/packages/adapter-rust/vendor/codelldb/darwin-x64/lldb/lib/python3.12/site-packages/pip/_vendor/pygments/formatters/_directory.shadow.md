# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/formatters/
@generated: 2026-02-09T18:16:18Z

This directory contains the Pygments formatters module, which provides output formatting capabilities for syntax-highlighted code. The formatters convert tokenized source code from lexers into various output formats including HTML, LaTeX, terminal colors, images, and structured text formats.

## Overall Purpose and Architecture

The formatters module implements a plugin-based architecture where each formatter converts Pygments token streams into a specific output format. The system supports both built-in formatters and dynamically loaded plugins, with lazy loading for performance optimization.

## Core Components and Organization

### Entry Point and Discovery (`__init__.py`)
The main module provides the public API for formatter discovery and instantiation:
- `get_formatter_by_name(alias)` - Retrieve formatter by alias
- `get_formatter_for_filename(filename)` - Match formatter to file extension
- `find_formatter_class(alias)` - Lookup formatter class
- `get_all_formatters()` - Iterator over all available formatters
- `load_formatter_from_file()` - Load custom formatters from external files

Uses module replacement technique to enable direct attribute access (e.g., `pygments.formatters.HtmlFormatter`).

### Formatter Registry (`_mapping.py`)
Auto-generated mapping of all built-in formatters with metadata:
- Module paths for dynamic imports
- Aliases for name-based lookup
- File patterns for extension matching
- Descriptions and display names

### Format Categories

**Web/Document Formats:**
- `html.py` - HTML with CSS styling, line numbers, full documents
- `latex.py` - LaTeX markup using fancyvrb package
- `svg.py` - SVG graphics with styled text elements
- `rtf.py` - Rich Text Format for Word/Office applications

**Terminal/Console Output:**
- `terminal.py` - ANSI colors for basic terminals
- `terminal256.py` - 256-color and true-color terminal support
- `irc.py` - IRC control codes for chat clients

**Image Generation:**
- `img.py` - PNG/JPEG/GIF/BMP images using PIL/Pillow
- Cross-platform font discovery and management
- Configurable styling and line numbering

**Structured Text:**
- `bbcode.py` - Bulletin board markup
- `pangomarkup.py` - Pango/GTK markup format
- `groff.py` - Groff/troff typesetting system

**Utility/Development:**
- `other.py` - Plain text, raw tokens, test case generation

## Key Architectural Patterns

### Token Processing Pipeline
All formatters follow a common pattern:
1. Receive token stream from lexer
2. Apply style mappings to convert token types to output-specific formatting
3. Handle text escaping for target format
4. Generate structured output with proper nesting/grouping

### Style Inheritance System
Formatters use hierarchical token type resolution - when a specific token type lacks styling, they traverse the token type hierarchy (`ttype.parent`) until finding applicable styles.

### Lazy Loading and Caching
- Formatters only loaded when first accessed
- Style calculations cached to avoid repeated processing
- Pattern matching results cached for filename-based lookups

### Extensibility Mechanisms
- Plugin architecture for external formatters
- Option-based configuration for all formatters
- Template systems for document generation (HTML, LaTeX)
- Custom style definitions override defaults

## Public API Surface

**Primary Entry Points:**
```python
from pygments.formatters import get_formatter_by_name, get_formatter_for_filename
from pygments.formatters import HtmlFormatter, LatexFormatter, Terminal256Formatter

# Direct class access via module replacement
formatter = pygments.formatters.HtmlFormatter(linenos=True)

# Dynamic lookup
formatter = get_formatter_by_name('html', linenos=True)
formatter = get_formatter_for_filename('code.py')
```

**Common Formatter Interface:**
- `format(tokensource, outfile)` - Main formatting method
- `get_style_defs()` - Extract styling information (HTML/LaTeX)
- Extensive constructor options for customization

## Dependencies and Integration

The module integrates tightly with:
- Pygments lexer system for token input
- Pygments style system for color/formatting definitions
- External libraries (PIL, fonts) for specialized output formats
- Web frameworks and documentation systems as output targets

This directory represents the output layer of the Pygments syntax highlighting pipeline, providing the final transformation from abstract tokens to formatted, styled output suitable for display or further processing.
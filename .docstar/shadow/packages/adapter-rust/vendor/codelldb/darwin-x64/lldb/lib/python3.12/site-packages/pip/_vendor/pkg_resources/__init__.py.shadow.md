# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pkg_resources/__init__.py
@source-hash: 8e0e1d4287d593ef
@generated: 2026-02-09T18:00:00Z

This is the main `pkg_resources` module, a deprecated Python package resource management system that has been superseded by `importlib.resources`, `importlib.metadata`, and the `packaging` library.

## Core Purpose
Provides APIs for accessing package resources (data files), discovering and loading entry points, managing Python distributions, and resolving package dependencies. The module handles various package formats including eggs, wheels, and standard installations.

## Key Classes

**WorkingSet (L569-978)**: Central collection managing active distributions on sys.path. Handles distribution discovery, dependency resolution, and activation. Key methods include `require()` for ensuring dependencies, `resolve()` for dependency resolution, and `find()` for locating distributions.

**Distribution (L593-3027)**: Represents a Python package distribution with metadata. Handles version parsing, dependency management, and entry point loading. Subclasses include `EggInfoDistribution` (L3029-3046) and `DistInfoDistribution` (L3048-3097) for different metadata formats.

**Environment (L1000-1141)**: Searchable snapshot of available distributions on a path. Provides `best_match()` for finding suitable distributions and `scan()` for discovering packages.

**ResourceManager (L163-340)**: Manages extraction and access to package resources. Handles file extraction from eggs/zips with `resource_filename()`, `resource_stream()`, and `resource_string()` methods.

**EntryPoint (L446-576)**: Represents importable objects advertised by packages. Parses entry point specifications and provides `load()` and `resolve()` methods for dynamic loading.

**Requirement (L3132-3178)**: Wrapper around packaging.requirements.Requirement with backward compatibility. Handles requirement parsing and version matching.

## Provider Classes
- **NullProvider (L451-644)**: Base provider for PEP 302 loaders
- **DefaultProvider (L680-710)**: Filesystem-based resource provider  
- **ZipProvider (L781-943)**: Resource provider for zip/egg files
- **EmptyProvider (L713-728)**: Returns nothing for all requests
- **FileMetadata (L948-987)**: Handles standalone PKG-INFO files
- **PathMetadata (L989-1012)**: Metadata provider for egg directories
- **EggMetadata (L2014-2027)**: Metadata provider for .egg files

## Exception Hierarchy
- **ResolutionError (L276-281)**: Base for dependency resolution errors
- **VersionConflict (L283-326)**: Version requirement conflicts  
- **DistributionNotFound (L328-355)**: Required distribution not found
- **UnknownExtra (L357-359)**: Unknown extra feature requested
- **ExtractionError (L147-161)**: Resource extraction failures

## Key Functions

**Distribution Discovery**:
- `find_distributions()` (L2042-2046): Find distributions on path items
- `find_on_path()` (L2085-2103): Scan filesystem directories
- `find_eggs_in_zip()` (L2049-2073): Find eggs in zip files

**Resource Access**:
- `resource_string()`, `resource_stream()`, `resource_filename()`: Access package data
- `resource_exists()`, `resource_isdir()`, `resource_listdir()`: Resource introspection

**Requirements**:
- `parse_requirements()` (L3119-3125): Parse requirement specifications
- `get_distribution()` (L492-500): Get distribution for requirement

**Platform Support**:
- `get_supported_platform()` (L166-187): Get platform compatibility info
- `compatible_platforms()` (L443-489): Check platform compatibility
- `_macos_vers()` (L394-405): macOS version detection

## Global State
The module maintains several global registries:
- `_provider_factories` (L361): Maps loader types to provider factories
- `_distribution_finders` (L2029): Maps importer types to distribution finders  
- `_namespace_handlers` (L2203): Handles namespace packages
- `working_set`: The master WorkingSet instance

## Architectural Patterns
Uses adapter pattern extensively via `_find_adapter()` (L3190-3198) to map different loader/importer types to appropriate handlers. Implements lazy loading for expensive operations like version parsing and dependency resolution.

## Critical Invariants
- WorkingSet maintains sys.path order for distribution precedence
- Resource names use forward slashes regardless of OS
- Version parsing falls back to sanitized versions for invalid PEP 440 versions
- Namespace packages require special handling to maintain __path__ consistency

## Deprecation Status
The entire module is deprecated (L102-107) with warnings directing users to modern alternatives. However, it remains widely used due to setuptools dependency.
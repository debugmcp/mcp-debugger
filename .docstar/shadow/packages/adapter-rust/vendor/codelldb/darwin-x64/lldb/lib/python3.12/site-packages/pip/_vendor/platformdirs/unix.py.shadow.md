# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/unix.py
@source-hash: 09c8bd5aab77e5d0
@generated: 2026-02-09T17:59:54Z

## Unix Platform Directory Implementation

This module implements Unix/Linux platform-specific directory path resolution following the XDG Base Directory Specification. It provides standardized locations for application data, configuration, cache, and user media directories with proper environment variable override support.

### Key Components

**Unix Class (L23-236)** - Main implementation inheriting from `PlatformDirsABC`
- Implements XDG Base Directory Specification with environment variable overrides
- Supports multipath configurations via `multipath` property
- Provides both user-specific and system-wide directory locations

### Directory Properties

**Data Directories:**
- `user_data_dir` (L37-45): User data storage (`~/.local/share/$app/$version` or `$XDG_DATA_HOME/$app/$version`)
- `site_data_dir` (L55-65): System data directories (`/usr/local/share`, `/usr/share` or `$XDG_DATA_DIRS`)
- `_site_data_dirs` (L48-52): Internal helper returning list of site data directories

**Configuration Directories:**
- `user_config_dir` (L68-76): User config storage (`~/.config/$app/$version` or `$XDG_CONFIG_HOME/$app/$version`)
- `site_config_dir` (L86-96): System config directories (`/etc/xdg/$app/$version` or `$XDG_CONFIG_DIRS`)
- `_site_config_dirs` (L79-83): Internal helper returning list of site config directories

**Cache Directories:**
- `user_cache_dir` (L99-107): User cache storage (`~/.cache/$app/$version` or `$XDG_CACHE_HOME/$app/$version`)
- `site_cache_dir` (L110-112): System cache directory (`/var/cache/$app/$version`)

**State and Logging:**
- `user_state_dir` (L115-123): User state storage (`~/.local/state/$app/$version` or `$XDG_STATE_HOME/$app/$version`)
- `user_log_dir` (L126-132): User log directory, creates `log` subdirectory if opinionated mode enabled

**User Media Directories (L135-162):**
- Documents, Downloads, Pictures, Videos, Music, Desktop directories
- All delegate to `_get_user_media_dir` helper with XDG environment variable support

**Runtime Directories:**
- `user_runtime_dir` (L165-182): User runtime directory with BSD-specific fallback logic
- `site_runtime_dir` (L185-204): System runtime directory with BSD-specific paths

### Path Utilities

**Path Converters (L207-225):**
- `site_data_path`, `site_config_path`, `site_cache_path`: Convert string paths to Path objects
- `_first_item_as_path_if_multipath` (L221-225): Extracts first path from multipath strings

**Directory Iterators (L227-235):**
- `iter_config_dirs`: Yields all config directories (user + system)
- `iter_data_dirs`: Yields all data directories (user + system)

### Helper Functions

**Media Directory Resolution:**
- `_get_user_media_dir` (L238-245): Resolves user media directories with XDG config file and environment variable fallbacks
- `_get_user_dirs_folder` (L248-270): Parses `user-dirs.dirs` config file for custom user directory locations

### Platform Compatibility

**Cross-platform UID Handling (L13-21):**
- Conditional import of `getuid` - raises RuntimeError on Windows
- Used for runtime directory path construction on Unix systems

**BSD-specific Logic:**
- Special handling for FreeBSD/OpenBSD/NetBSD in runtime directories
- Fallback paths when standard locations don't exist

### Architecture Notes

- Heavy reliance on environment variable overrides following XDG specification
- Consistent pattern: check environment variable, use XDG default if not set
- Multipath support allows returning multiple directories joined by path separator
- All app-specific paths constructed via inherited `_append_app_name_and_version` method
# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/utils/compat.py
@source-hash: 724905bde0626108
@generated: 2026-02-09T17:59:30Z

**Purpose**: Cross-platform compatibility utilities for pip's internal operations, handling Python version differences and platform-specific behaviors.

**Key Functions**:
- `has_tls()` (L16-26): Detects TLS/SSL support availability by attempting to import `_ssl` module, falling back to checking PyOpenSSL availability
- `get_path_uid(path)` (L29-53): Returns file owner's UID with symlink-safe behavior. Uses `O_NOFOLLOW` when available (modern systems) or manual symlink checking (AIX/Jython compatibility)
- `open_text_resource()` (L58-67): Python version-adaptive text resource opener, using deprecated `importlib.resources.open_text` for Python <3.11, modern `files()` API for >=3.11

**Key Constants**:
- `stdlib_pkgs` (L75): Set of standard library package names that should not be considered "installed" packages during dependency resolution
- `WINDOWS` (L79): Cross-implementation Windows detection flag supporting both CPython and IronPython
- `__all__` (L10): Exports `get_path_uid`, `stdlib_pkgs`, and `WINDOWS`

**Dependencies**:
- Standard library: `importlib.resources`, `logging`, `os`, `sys`
- Internal pip vendor: `pip._vendor.urllib3.util.IS_PYOPENSSL`

**Architectural Notes**:
- Handles legacy platform compatibility (AIX, Jython) with fallback implementations
- Time-of-check vulnerability acknowledged in AIX/Jython path (L46 comment)
- Version-specific importlib.resources usage prevents deprecation warnings
- Hard-coded stdlib package list avoids complex platform detection logic
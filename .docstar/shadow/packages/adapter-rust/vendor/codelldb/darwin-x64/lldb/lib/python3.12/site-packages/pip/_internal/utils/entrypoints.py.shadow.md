# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/utils/entrypoints.py
@source-hash: 62584b4d1976a070
@generated: 2026-02-09T17:59:34Z

## Purpose
Provides utility functions for determining the best way to invoke pip and Python executables, with special handling for legacy entrypoint wrappers and cross-platform executable discovery.

## Key Components

### Constants
- `_EXECUTABLE_NAMES` (L10-14): List of pip executable name variants (`pip`, `pip3`, `pip3.12`, etc.) based on current Python version
- Windows extension handling (L15-20): Adds `.exe` variants on Windows using `itertools.product`

### Core Functions

#### `_wrapper(args)` (L23-43)
- **Purpose**: Central wrapper for deprecated pip entrypoints 
- **Behavior**: Issues deprecation warning to stderr and delegates to `main()`
- **Warning Message**: Directs users to use `python -m pip` instead of direct pip invocation
- **Returns**: Exit code from `main(args)`

#### `get_best_invocation_for_this_pip()` (L46-70)
- **Purpose**: Determines optimal pip invocation method for current environment
- **Logic**: 
  1. Constructs binary directory path (`Scripts` on Windows, `bin` elsewhere) (L48-49)
  2. Checks if pip executables are in PATH (L53-54)
  3. Iterates through `_EXECUTABLE_NAMES` to find matching executable (L56-67)
  4. Falls back to `python -m pip` format (L70)
- **Returns**: String representing best pip invocation

#### `get_best_invocation_for_this_python()` (L73-84)
- **Purpose**: Determines optimal Python executable invocation
- **Logic**:
  1. Attempts to use basename of `sys.executable` if it's first in PATH (L79-81)
  2. Falls back to full executable path (L84)
- **Returns**: String representing best Python invocation

## Dependencies
- `itertools`: For cross-product of executable names and extensions
- `os`, `shutil`: For path manipulation and executable discovery
- `sys`: For version info and executable path
- `pip._internal.cli.main.main`: Core pip entry point
- `pip._internal.utils.compat.WINDOWS`: Platform detection

## Architecture Notes
- Cross-platform executable discovery with Windows-specific `.exe` handling
- PATH-based executable resolution using `shutil.which()` and `os.samefile()`
- Graceful degradation from simple names to full paths
- Legacy wrapper pattern for backward compatibility with deprecation warnings
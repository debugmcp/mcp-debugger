# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/box.py
@source-hash: 9ebe5f608520841f
@generated: 2026-02-09T18:00:09Z

**Primary Purpose:** Defines the Box class and predefined box character sets for rendering ASCII and Unicode table/panel borders in Rich terminal UI library.

**Core Class:**
- `Box` (L16-189): Encapsulates a complete set of box-drawing characters for tables/panels
  - `__init__` (L33-65): Parses 8-line string input into 24 individual character attributes for all border positions
  - `substitute` (L73-89): Returns platform-appropriate Box variant based on ConsoleOptions (handles legacy Windows, ASCII-only modes)
  - `get_plain_headed_box` (L91-99): Returns equivalent box without header-specific styling
  - `get_top`/`get_bottom` (L101-119, L170-188): Generates top/bottom border strings for given column widths
  - `get_row` (L121-168): Generates horizontal separator lines with level-specific styling ("head", "row", "foot", "mid")

**Box Character Layout:** Each Box expects 8 lines with 4 characters each, representing:
- Line 1: top borders (top_left, top, top_divider, top_right)
- Line 2: head section verticals (head_left, _, head_vertical, head_right) 
- Line 3: head row separators (head_row_left, head_row_horizontal, head_row_cross, head_row_right)
- Line 4: mid section verticals (mid_left, _, mid_vertical, mid_right)
- Line 5: row separators (row_left, row_horizontal, row_cross, row_right)
- Line 6: foot row separators (foot_row_left, foot_row_horizontal, foot_row_cross, foot_row_right)
- Line 7: foot section verticals (foot_left, _, foot_vertical, foot_right)
- Line 8: bottom borders (bottom_left, bottom, bottom_divider, bottom_right)

**Predefined Box Styles:**
- ASCII variants: `ASCII` (L192), `ASCII2` (L204), `ASCII_DOUBLE_HEAD` (L216) - safe for all terminals
- Unicode styles: `SQUARE` (L228), `ROUNDED` (L331), `HEAVY` (L342), `DOUBLE` (L375), etc.
- Minimal styles: `MINIMAL` (L250), `SIMPLE` (L285), `HORIZONTALS` (L320) - sparse borders
- Special: `MARKDOWN` (L397) - pipe-delimited format

**Platform Compatibility:**
- `LEGACY_WINDOWS_SUBSTITUTIONS` (L411-418): Maps Unicode boxes to ASCII equivalents for legacy Windows
- `PLAIN_HEADED_SUBSTITUTIONS` (L421-427): Maps header-styled boxes to plain equivalents

**Dependencies:**
- `._loop.loop_last` (L10): Utility for iterating with last-item detection
- `ConsoleOptions` type (L13): Console rendering configuration
- `typing_extensions.Literal` for Python <3.8 compatibility (L7)

**Key Patterns:**
- String-based box definition format enables easy visual design
- Substitution dictionaries provide graceful fallbacks for platform limitations
- Level-based row generation allows different styling for headers/footers vs content rows
- Performance optimization with local `append` references in generation methods
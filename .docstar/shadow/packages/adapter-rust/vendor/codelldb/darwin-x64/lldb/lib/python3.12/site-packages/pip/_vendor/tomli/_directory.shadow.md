# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/tomli/
@generated: 2026-02-09T18:16:15Z

## Overall Purpose
This directory contains the complete implementation of `tomli`, a pure Python TOML (Tom's Obvious, Minimal Language) parser library. It provides functionality for parsing TOML configuration files and strings into Python data structures, handling all TOML data types including strings, numbers, booleans, arrays, tables, and datetime values.

## Key Components and Architecture

### Public API Layer (`__init__.py`)
- **Primary Entry Points**: `loads(s)` for parsing TOML strings, `load(fp)` for parsing TOML files
- **Exception Handling**: `TOMLDecodeError` for parsing errors
- **Version**: 2.0.1 with automated version management
- Implements facade pattern hiding internal implementation behind clean public interface

### Core Parser Engine (`_parser.py`)
- **Main Parser Logic**: Complete TOML grammar implementation with single-pass parsing
- **State Management**: 
  - `NestedDict` for hierarchical data structure construction
  - `Flags` system for namespace validation and conflict detection
  - `Output` namedtuple for parser state coordination
- **Grammar Rules**: Handles TOML syntax including tables `[table]`, array of tables `[[array]]`, key-value pairs, and dotted keys
- **Value Parsers**: Specialized functions for strings (basic/literal/multiline), arrays, inline tables, and primitive types
- **Error Reporting**: Context-aware error messages with line/column information

### Regex Utilities (`_re.py`)
- **Number Parsing**: Comprehensive regex for integers, floats, hex/binary/octal literals
- **Datetime Parsing**: ISO 8601 datetime and time format matching with timezone support
- **Conversion Functions**: Transform regex matches to appropriate Python types (`datetime`, `date`, `time`, numbers)
- **Performance**: LRU-cached timezone construction for efficiency

### Type System (`_types.py`)
- **Type Safety**: Core type aliases for consistent typing across modules
- **Key Types**: `ParseFloat` (pluggable float parsing), `Key` (hierarchical keys), `Pos` (position tracking)
- **Contract Definition**: Establishes interfaces for parser components

## Data Flow and Internal Organization

1. **Input Processing**: Files are read as binary with encoding detection, strings are processed directly
2. **Lexical Analysis**: Position-based parsing with regex matching for tokens
3. **Syntax Analysis**: Grammar rules build nested dictionary structure while enforcing TOML namespace constraints
4. **Type Conversion**: Specialized parsers convert TOML values to appropriate Python types
5. **Error Handling**: Context-aware error reporting with source location information

## Public API Surface

```python
# Main parsing functions
def loads(s: str, *, parse_float=float) -> dict
def load(fp: BinaryIO, *, parse_float=float) -> dict

# Exception for parsing errors  
class TOMLDecodeError(ValueError): ...
```

## Important Patterns and Conventions

- **Namespace Validation**: TOML's complex table/key conflict rules enforced through flags system
- **Pluggable Float Parsing**: Custom float parsers supported via `parse_float` parameter
- **Position Tracking**: All parsing maintains source position for accurate error reporting  
- **Immutability**: Inline structures marked as frozen to prevent modification
- **Performance**: Optimized regex patterns and cached timezone objects

## Dependencies
- **Internal**: Modules work together through well-defined interfaces
- **External**: Minimal dependencies on Python standard library (`datetime`, `typing`, `collections.abc`)
- **Integration**: Designed as vendored dependency in pip package for TOML configuration parsing
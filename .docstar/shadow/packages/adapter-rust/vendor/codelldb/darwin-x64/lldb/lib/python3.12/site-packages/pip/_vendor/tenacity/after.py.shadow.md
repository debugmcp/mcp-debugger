# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/after.py
@source-hash: 4b934221249c3de2
@generated: 2026-02-09T18:00:05Z

## Primary Purpose
Provides "after call" strategies for the tenacity retry library - functions that execute after each retry attempt to perform side effects like logging or no-op behavior.

## Key Functions

### `after_nothing(retry_state)` (L27-28)
- No-op after call strategy that performs no action
- Takes a `RetryCallState` parameter but does nothing with it
- Used when no post-attempt behavior is desired

### `after_log(logger, log_level, sec_format)` (L31-51)
- Factory function that creates a logging after call strategy
- **Parameters:**
  - `logger`: logging.Logger instance for output
  - `log_level`: integer log level (e.g., logging.INFO)
  - `sec_format`: string format for displaying elapsed seconds (default: "%0.3f")
- **Returns:** Callable that takes RetryCallState and logs attempt completion
- **Inner function `log_it`** (L38-49): Logs formatted message with function name, elapsed time, and attempt ordinal

## Dependencies
- `pip._vendor.tenacity._utils`: For `get_callback_name()` and `to_ordinal()` utilities
- `typing`: For type annotations (TYPE_CHECKING guard)
- `logging`: Type-only import for Logger type hints

## Architecture Pattern
- Factory pattern: `after_log` creates and returns configured callback functions
- Strategy pattern: Different after call strategies can be swapped in retry configurations
- Defensive programming: Handles case where `retry_state.fn` is None (L39-43)

## Key Relationships
- Integrates with tenacity's retry mechanism as post-attempt callbacks
- Uses `RetryCallState` to access attempt metadata (function, timing, attempt count)
- Part of tenacity's modular retry strategy system
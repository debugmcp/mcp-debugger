# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/specifiers.py
@source-hash: 1df1a07cd251bebc
@generated: 2026-02-09T17:59:52Z

**Primary Purpose:** Package version specifier parsing and matching system for pip, implementing PEP 440 specification. Provides classes for parsing version constraint strings like ">=1.0.0,!=1.0.1" and determining if versions satisfy these constraints.

**Key Classes and Components:**

**InvalidSpecifier (L32-42)** - Exception raised when specifier string is invalid/unparseable.

**BaseSpecifier (L44-97)** - Abstract base class defining the specifier interface:
- `contains()` method for checking if version satisfies specifier
- `filter()` method for filtering iterables of versions 
- `prereleases` property for prerelease handling configuration

**Specifier (L99-625)** - Core class implementing individual version specifiers:
- Parses single specifier strings like ">=1.0.0" or "~=2.1" 
- Complex regex patterns (L109-209) handle all PEP 440 operator types and version formats
- Operator mapping (L211-220): ~=, ==, !=, <=, >=, <, >, ===
- Key methods:
  - `__init__()` (L222-246): Parses spec string using regex, raises InvalidSpecifier if invalid
  - `contains()` (L521-563): Checks if given version satisfies this specifier
  - `filter()` (L565-624): Filters iterable, implements PEP 440 prerelease fallback logic
  - Comparison methods (L368-498): `_compare_*` methods for each operator type
- Properties: `operator` (L277-283), `version` (L285-292), `prereleases` (L249-270)

**SpecifierSet (L690-1009)** - Container for multiple specifiers with AND semantics:
- Parses comma-separated specifier strings like ">=1.0.0,!=1.0.1"
- `__init__()` (L697-722): Splits on commas, creates individual Specifier instances
- `contains()` (L875-930): Version must satisfy ALL contained specifiers
- `filter()` (L932-1009): Applies all specifiers sequentially as logical AND
- Supports set operations via `__and__()` (L782-812)
- Iteration support: `__len__()`, `__iter__()`, `__contains__()`

**Utility Functions:**
- `_coerce_version()` (L26-29): Converts string to Version instance
- `_version_split()` (L630-649): Splits version string into comparable components
- `_version_join()` (L652-660): Reconstructs version from components
- `_is_not_suffix()` (L663-666): Identifies non-suffix version components 
- `_pad_version()` (L669-687): Pads version components for comparison

**Type Definitions:**
- `UnparsedVersion` (L21): Union[Version, str] for flexible version input
- `CallableOperator` (L23): Function signature for comparison operators

**Architecture Patterns:**
- Strategy pattern: Operator comparison methods selected dynamically via `_get_operator()` (L362-366)
- Template method: BaseSpecifier defines interface, concrete classes implement behavior
- Composite pattern: SpecifierSet contains multiple Specifier instances

**Critical Invariants:**
- All version strings normalized through canonicalization before comparison
- Prerelease handling follows PEP 440: prereleases accepted if no stable versions match
- Empty SpecifierSet matches all versions (explicit design decision, L928-929)
- Local version identifiers stripped for comparison in inequality operators
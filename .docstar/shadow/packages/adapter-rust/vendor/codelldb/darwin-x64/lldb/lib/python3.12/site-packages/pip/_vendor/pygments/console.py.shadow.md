# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/console.py
@source-hash: db06795be53a4ee7
@generated: 2026-02-09T17:59:49Z

## Primary Purpose
Console text formatting module for Pygments that provides ANSI escape sequence utilities for colored terminal output. Handles color codes, text attributes (bold, underline, blink), and formatted text generation.

## Key Components

### Global Constants and Data Structures
- `esc` (L11): ANSI escape sequence prefix "\x1b["
- `codes` dictionary (L13-37): Maps color names and attributes to ANSI escape sequences
  - Basic attributes: reset, bold, faint, standout, underline, blink, overline
  - Color mapping loop (L29-33): Generates foreground color codes for 8 dark + 8 light colors
  - Special case: `codes["white"]` aliased to `codes["bold"]` (L37)

### Color Arrays
- `dark_colors` (L24-25): Standard 8-color palette (black through gray)
- `light_colors` (L26-27): Bright variants (brightblack through white)

### Core Functions
- `reset_color()` (L40-41): Returns ANSI reset sequence to clear formatting
- `colorize(color_key, text)` (L44-45): Wraps text with specified color and auto-reset
- `ansiformat(attr, text)` (L48-70): Advanced formatter supporting attribute syntax:
  - `+color+`: blinking text
  - `*color*`: bold text  
  - `_color_`: underlined text
  - Supports stacking multiple attributes

## Implementation Details

### ANSI Code Generation Pattern
The module uses a systematic approach to generate ANSI codes:
- Foreground colors: 30-37 for dark, 90-97 for bright variants
- Calculated as `base_code + offset` where base=30, bright_offset=60

### Attribute Processing Algorithm
`ansiformat()` uses a layered parsing approach (L58-66):
1. Checks for delimiter pairs (+, *, _) from outside-in
2. Strips delimiters and accumulates corresponding codes
3. Applies base color and appends reset sequence

## Dependencies
- No external dependencies
- Pure Python string manipulation using ANSI escape sequences

## Design Patterns
- **Lookup Table Pattern**: Pre-computed codes dictionary for O(1) access
- **Decorator Pattern**: Functions wrap text with formatting codes
- **Builder Pattern**: `ansiformat()` accumulates formatting codes before assembly
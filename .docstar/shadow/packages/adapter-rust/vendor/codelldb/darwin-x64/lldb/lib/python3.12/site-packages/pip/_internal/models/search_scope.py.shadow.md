# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/models/search_scope.py
@source-hash: ebb3449ec618f38e
@generated: 2026-02-09T17:59:27Z

This module defines pip's package search scope configuration, encapsulating where pip looks for packages during installation.

**Core Class: SearchScope (L18-127)**
Frozen dataclass that manages pip's search locations with three key attributes:
- `find_links: List[str]` - URLs/paths to additional package sources
- `index_urls: List[str]` - Package index URLs (PyPI, custom indexes)
- `no_index: bool` - Flag to disable index searching

**Key Methods:**

`SearchScope.create()` (L30-70) - Factory method that:
- Normalizes `find_links` paths starting with `~` by expanding home directory references (L46-51)
- Validates TLS availability and warns if HTTPS URLs are used without TLS support (L55-64)
- Returns properly constructed SearchScope instance

`get_formatted_locations()` (L72-105) - Generates human-readable search location summary:
- Redacts authentication credentials from URLs for safe display
- Validates URL structure and warns about malformed index URLs (L87-91)
- Returns formatted string listing all search locations

`get_index_urls_locations()` (L107-127) - Constructs project-specific URLs:
- Takes project name and generates canonicalized URLs for each index
- Uses posixpath.join for URL construction (L115-116)
- Ensures trailing slash for easy_install compatibility (L123-124)

**Dependencies:**
- `pip._vendor.packaging.utils.canonicalize_name` for package name normalization
- `pip._internal.models.index.PyPI` for default PyPI index reference
- `pip._internal.utils.compat.has_tls()` for TLS capability detection
- `pip._internal.utils.misc` for path normalization and URL redaction

**Architectural Pattern:**
Immutable configuration object using dataclass(frozen=True) with explicit `__slots__` for memory efficiency. Factory pattern via `create()` method handles complex initialization logic including path normalization and TLS validation.

**Critical Behavior:**
- Home directory expansion is conservative - only normalizes if resulting path exists (L49-50)
- TLS warnings are issued once per search scope creation, not per request
- URL validation uses crude scheme/netloc checking due to Python URL parsing limitations (L82-86)
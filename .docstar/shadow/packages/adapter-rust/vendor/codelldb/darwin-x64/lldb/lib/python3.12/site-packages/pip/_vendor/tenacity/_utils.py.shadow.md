# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/_utils.py
@source-hash: b9bb3a6bbb318f72
@generated: 2026-02-09T18:00:08Z

**Primary Purpose**: Utility functions for the tenacity retry library, providing helper functions for time conversions, string formatting, and callback introspection.

**Key Components**:

- `MAX_WAIT` (L24): Global constant defining maximum wait time as half of `sys.maxsize`, used as upper bound for retry intervals
- `find_ordinal(pos_num: int) -> str` (L27-40): Returns ordinal suffix ("st", "nd", "rd", "th") for given number, handles special cases for 0-3 and 4-20, recursively processes larger numbers using modulo 10
- `to_ordinal(pos_num: int) -> str` (L43-44): Combines number with ordinal suffix to create formatted ordinal string (e.g., "1st", "2nd")
- `get_callback_name(cb: Callable) -> str` (L47-69): Extracts fully-qualified name from callable objects, gracefully handles missing attributes by falling back to `__name__` then `repr()`, prepends module name when available
- `time_unit_type` (L72): Type alias for `Union[int, float, timedelta]` representing valid time units
- `to_seconds(time_unit: time_unit_type) -> float` (L75-76): Normalizes time values to seconds, converts `timedelta` objects via `.total_seconds()` method, passes through numeric values as float

**Dependencies**: 
- `sys` for `maxsize` constant
- `typing` for type annotations  
- `datetime.timedelta` for time duration handling

**Architectural Patterns**:
- Defensive programming with graceful attribute access fallbacks
- Type safety through union types and type aliases
- Recursive algorithm for ordinal number generation following English grammar rules

**Critical Constraints**:
- `find_ordinal` assumes non-negative integer input
- `get_callback_name` designed to never fail, always returns a string representation
- Time conversion preserves precision by returning float values
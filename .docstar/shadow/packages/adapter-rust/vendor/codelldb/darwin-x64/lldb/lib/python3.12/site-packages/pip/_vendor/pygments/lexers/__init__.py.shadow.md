# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/lexers/__init__.py
@source-hash: 583d6e224d849883
@generated: 2026-02-09T17:57:40Z

## Primary Purpose
Main entry point module for Pygments lexers, providing discovery, loading, and instantiation of syntax highlighting lexers. Implements lazy loading with caching and automatic module replacement for dynamic lexer access.

## Key Components

### Core Functions
- **get_lexer_by_name()** (L110-132): Finds and instantiates lexer by alias, searches builtin and plugin lexers
- **get_lexer_for_filename()** (L213-229): Returns lexer instance based on filename patterns, uses analyse_text() for disambiguation
- **guess_lexer()** (L305-341): Analyzes text content to determine best lexer using analyse_text() scoring
- **find_lexer_class()** (L65-81): Returns lexer class by exact name match without instantiation
- **find_lexer_class_by_name()** (L83-107): Returns lexer class by alias without instantiation

### Discovery and Analysis
- **find_lexer_class_for_filename()** (L170-210): Core filename-based lexer discovery with rating system
- **guess_lexer_for_filename()** (L262-302): Combines filename patterns with text analysis for optimal lexer selection
- **get_lexer_for_mimetype()** (L232-248): Lexer lookup by MIME type

### Utility Functions
- **_fn_matches()** (L35-40): Cached glob pattern matching for filenames
- **_load_lexers()** (L43-48): Lazy loading of lexer modules with caching
- **get_all_lexers()** (L51-62): Generator yielding all available lexer metadata
- **load_lexer_from_file()** (L135-167): Dynamic lexer loading from external files using exec()

### Module Infrastructure
- **_automodule class** (L344-356): Custom module type enabling dynamic lexer imports via __getattr__

## Key Data Structures
- **LEXERS**: Imported mapping of lexer metadata (module, name, aliases, filenames, mimetypes)
- **COMPAT** (L22-26): Legacy lexer name compatibility mapping
- **_lexer_cache** (L31): Global cache for loaded lexer classes
- **_pattern_cache** (L32): Compiled regex patterns for filename matching

## Architecture Patterns
- **Lazy Loading**: Lexers loaded on-demand to reduce import overhead
- **Caching**: Both lexer classes and filename patterns cached for performance
- **Plugin System**: Integration with setuptools entry points for extensible lexers
- **Module Replacement**: Replaces itself with _automodule instance for transparent lexer access (L359-363)

## Critical Behavior
- All lexer lookup functions raise ClassNotFound on failure
- Text analysis always attempts vim modeline detection first
- Multiple filename matches resolved by analyse_text() scoring with priority fallback
- Plugin lexers searched after builtin lexers
- Filename patterns support glob syntax with caching optimization
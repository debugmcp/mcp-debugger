# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/color.py
@source-hash: 6c24404d57517b92
@generated: 2026-02-09T18:00:01Z

## Purpose
Terminal color management system for the Rich library. Provides comprehensive color parsing, representation, and conversion between different terminal color systems (standard, 8-bit, truecolor, Windows).

## Core Classes

### ColorSystem (L21-34)
IntEnum defining 4 terminal color systems:
- STANDARD (16 colors)
- EIGHT_BIT (256 colors) 
- TRUECOLOR (16M colors)
- WINDOWS (Windows console colors)

### ColorType (L36-47)
IntEnum categorizing color storage types:
- DEFAULT (terminal default)
- STANDARD, EIGHT_BIT, TRUECOLOR, WINDOWS (matching ColorSystem values)

### Color (L303-568)
Primary color class. NamedTuple with fields:
- `name`: String identifier
- `type`: ColorType enum
- `number`: Optional ANSI color number
- `triplet`: Optional RGB ColorTriplet

Key methods:
- `parse()` (L433): Parse color strings (hex, rgb(), color(), named colors)
- `get_truecolor()` (L349): Convert any color to RGB triplet
- `get_ansi_codes()` (L485): Generate ANSI escape sequences
- `downgrade()` (L513): Convert between color systems
- `from_ansi()`, `from_triplet()`, `from_rgb()`: Factory methods

## Key Data Structures

### ANSI_COLOR_NAMES (L49-285)
Comprehensive mapping of color names to ANSI numbers. Includes:
- Standard colors (black, red, etc.)
- Extended palette (navy_blue, chartreuse, etc.)
- Gray/grey variants with numeric suffixes

### RE_COLOR (L292-299)
Regex for parsing color formats:
- Hex: #rrggbb
- Indexed: color(n)
- RGB: rgb(r,g,b)

## Dependencies
- `ColorTriplet`: RGB color representation
- `_palettes`: Color lookup tables (EIGHT_BIT_PALETTE, STANDARD_PALETTE, WINDOWS_PALETTE)
- `terminal_theme`: Default terminal theme colors
- Standard library: `colorsys`, `functools.lru_cache`, `re`

## Utility Functions
- `parse_rgb_hex()` (L571): Convert hex string to ColorTriplet
- `blend_rgb()` (L580): Blend two RGB colors with cross-fade

## Architecture Notes
- Extensive use of `@lru_cache` for performance on parse/conversion operations
- Graceful degradation between color systems
- Platform detection for Windows-specific color handling
- Rich repr integration for debugging display
# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/commands/uninstall.py
@source-hash: ee9391ede9caefa8
@generated: 2026-02-09T17:59:23Z

**Primary Purpose**: Implements pip's uninstall command functionality for removing Python packages from the environment.

**Core Class**: 
- `UninstallCommand` (L26-114): Main command class inheriting from `Command` and `SessionCommandMixin`, handles package uninstallation logic

**Key Methods**:
- `add_options()` (L41-63): Configures command-line options including `-r/--requirement` for requirements files, `-y/--yes` for auto-confirmation, and safety options for root users and externally managed environments
- `run()` (L65-114): Main execution logic that processes package names and requirements files, validates inputs, performs safety checks, and executes uninstallation

**Command Options**:
- Requirements file support (`-r/--requirement`) for batch uninstallation
- Auto-confirmation (`-y/--yes`) to skip deletion prompts
- Root user warnings and externally managed environment protection

**Core Logic Flow** (L65-114):
1. Collects packages from command args (L69-82) and requirements files (L83-91)
2. Validates at least one package specified (L92-96)
3. Performs safety checks: externally managed environments (L98-99) and pip self-modification on Windows (L101-103)
4. Executes uninstallation for each package (L105-111) with pathset commit
5. Warns if running as root user (L112-113)

**Key Dependencies**:
- `pip._vendor.packaging.utils.canonicalize_name`: Package name normalization
- `pip._internal.req` modules: Requirement parsing and construction
- `pip._internal.utils.misc`: Safety utilities for system protection

**Safety Features**:
- Prevents pip self-modification on Windows
- Checks for externally managed Python installations
- Validates package names and ignores invalid requirements
- Root user warnings for security

**Data Structures**:
- `reqs_to_uninstall` dict (L68): Maps canonicalized package names to InstallRequirement objects to handle duplicate entries

**Known Limitations** (documented in docstring L30-35):
- Cannot uninstall pure distutils packages without metadata
- Cannot remove script wrappers from development installs
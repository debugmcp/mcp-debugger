# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/commands/wheel.py
@source-hash: 789461affaa834dc
@generated: 2026-02-09T17:59:25Z

## Purpose
Implements pip's `wheel` command that builds wheel archives for Python packages and their dependencies. Part of pip's internal command system for creating distributable wheel files from source packages.

## Key Components

### WheelCommand Class (L24-182)
- **Inheritance**: Extends `RequirementCommand` to leverage pip's requirement handling infrastructure
- **Primary responsibility**: Orchestrates the complete wheel building process from requirement parsing to final wheel creation
- **Usage patterns**: Supports multiple input formats (requirement specifiers, files, VCS URLs, local paths, archives)

### Core Methods

#### add_options() (L44-101)
- Configures command-line options specific to wheel building
- **Key options**:
  - `--wheel-dir` (L45-55): Output directory for built wheels
  - `--no-verify` (L71-77): Skip wheel validation
  - `--pre` (L83-91): Include pre-release versions
- Integrates standard pip options (binary handling, build isolation, PEP 517, etc.)

#### run() (L104-182)
- **Main execution flow**:
  1. Session setup and package finder creation (L105-107)
  2. Output directory preparation (L109-110)
  3. Build tracking and temporary directory setup (L112-118)
  4. Requirement resolution and validation (L120-147)
  5. Requirement categorization (L149-156)
  6. Wheel building and copying (L158-181)

## Dependencies & Architecture
- **Core pip modules**: Uses requirement resolution (`RequirementCommand`), caching (`WheelCache`), and build tracking systems
- **Build system**: Leverages `wheel_builder` module for actual wheel construction
- **Error handling**: Raises `CommandError` for build failures, ensuring proper exit codes

## Key Workflow
1. **Requirement Processing**: Parses input requirements and resolves dependencies
2. **Categorization**: Separates already-built wheels from packages needing building
3. **Building**: Uses pip's wheel builder to create wheels for source packages
4. **Output Management**: Copies successful builds to target directory, handles failures gracefully

## Critical Constraints
- Supports both PEP 517 and legacy setup.py build systems
- Maintains wheel cache for build optimization
- Validates built wheels unless explicitly disabled
- Fails fast on any build errors to prevent partial deployments
# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/_fileno.py
@source-hash: 1d66713f90b66a33
@generated: 2026-02-09T17:59:52Z

## Primary Purpose
Utility module providing safe access to file descriptor numbers from file-like objects, handling poorly implemented objects that may raise unexpected exceptions.

## Key Functions
- **get_fileno(file_like: IO[str]) -> int | None (L6-24)**: Core function that safely retrieves file descriptor number from file-like objects. Uses defensive programming to handle broken implementations that raise arbitrary exceptions instead of documented OSError.

## Implementation Details
- **Safe attribute access (L15)**: Uses `getattr()` with None default to check for fileno method existence
- **Exception handling (L17-23)**: Broad exception catch to handle poorly implemented file-like objects that raise unexpected exceptions beyond the documented OSError
- **Return strategy**: Returns None on any failure, providing consistent fallback behavior

## Dependencies
- `typing.IO`: Type annotation for file-like objects
- `typing.Callable`: Type annotation for fileno method signature

## Architectural Patterns
- **Defensive programming**: Assumes file-like objects may be poorly implemented
- **Graceful degradation**: Returns None rather than propagating exceptions
- **Type safety**: Uses modern Python type hints with union syntax (int | None)

## Critical Constraints
- Handles any exception type from fileno(), not just OSError as documented in Python stdlib
- Designed for robustness over strict compliance with file-like object contracts
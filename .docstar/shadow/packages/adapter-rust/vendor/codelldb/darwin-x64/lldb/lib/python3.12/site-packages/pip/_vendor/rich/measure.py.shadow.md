# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/measure.py
@source-hash: 1e6ac8257f2c5914
@generated: 2026-02-09T18:00:02Z

**Purpose:** Provides character width measurement capabilities for Rich console renderables to support layout calculations and text formatting.

**Core Class:**
- `Measurement (L11-123)`: NamedTuple storing minimum/maximum character widths required to render objects
  - `minimum` (L14): Minimum cells needed
  - `maximum` (L16): Maximum cells needed
  - `span` property (L19-22): Returns width range (max - min)

**Key Methods:**
- `normalize() (L24-32)`: Ensures minimum ≤ maximum and minimum ≥ 0, handles edge cases
- `with_maximum(width) (L34-44)`: Constrains both dimensions to not exceed given width
- `with_minimum(width) (L46-57)`: Ensures both dimensions meet minimum width requirement
- `clamp(min_width, max_width) (L59-76)`: Applies both minimum and maximum constraints sequentially

**Primary API:**
- `Measurement.get() (L78-122)`: Factory method that measures any renderable object
  - Handles string conversion via `console.render_str()` (L99-101)
  - Uses `rich_cast()` for type conversion (L102)
  - Delegates to object's `__rich_measure__` method if available (L104-115)
  - Falls back to (0, max_width) for objects without measurement support (L117)
  - Raises `NotRenderableError` for unmeasurable objects (L119-122)

**Utility Function:**
- `measure_renderables() (L125-151)`: Measures multiple renderables and returns encompassing measurement
  - Returns maximum minimum width and maximum maximum width across all renderables (L147-150)
  - Uses `itemgetter` for efficient min/max extraction (L148-149)

**Dependencies:**
- `.errors`: For `NotRenderableError` exceptions
- `.protocol`: For `is_renderable()` and `rich_cast()` type checking
- TYPE_CHECKING imports for Console, ConsoleOptions, RenderableType

**Key Patterns:**
- Immutable NamedTuple design for thread safety
- Method chaining for fluent measurement manipulation
- Protocol-based rendering with fallback strategies
- Defensive programming with width validation and normalization
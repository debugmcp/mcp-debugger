# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/distlib/scripts.py
@source-hash: f3f80ff49effb653
@generated: 2026-02-09T17:59:48Z

## Purpose
Script generation and management module for the distlib package. Handles creation of executable scripts from Python entry points or source scripts, with cross-platform support for Windows launchers and Unix shebangs.

## Key Components

### ScriptMaker Class (L91-466)
Central class responsible for script creation and management:
- **Constructor (L100-119)**: Initializes with source/target directories, launcher preferences, and platform detection
- **make() (L438-455)**: Main public API for creating single scripts from specifications or files
- **make_multiple() (L457-466)**: Batch processing for multiple script specifications

### Script Generation Methods
- **_make_script() (L343-357)**: Creates new scripts from entry point specifications using template
- **_copy_script() (L359-408)**: Copies existing scripts with shebang adjustment
- **_write_script() (L269-327)**: Core writing logic with Windows launcher or Unix shebang handling

### Shebang Management
- **_get_shebang() (L185-255)**: Determines appropriate Python executable and builds shebang line
- **_build_shebang() (L154-183)**: Constructs shebang with length/space constraints for different platforms
- **_get_alternate_executable() (L121-126)**: Handles GUI vs console executable selection

### Platform-Specific Features
- **_get_launcher() (L423-434)**: Windows executable launcher selection (32/64-bit, ARM support)
- **_fix_jython_executable() (L142-152)**: Jython-specific executable handling
- **_is_shell() (L130-140)**: Java platform shell script detection

## Key Constants and Data
- **SCRIPT_TEMPLATE (L43-50)**: Python script template for entry point wrappers
- **_DEFAULT_MANIFEST (L23-39)**: Windows manifest template for executable compatibility
- **WRAPPERS (L64-68)**: Pre-loaded executable launcher binaries for Windows
- **FIRST_LINE_RE (L42)**: Regex for detecting Python shebang lines

## Dependencies
- Uses `.compat` for cross-platform compatibility (sysconfig, ZipFile)
- Uses `.util` for file operations and executable detection
- Uses `.resources.finder` for accessing packaged launcher executables

## Architecture Notes
- Platform detection drives behavior (Windows vs POSIX vs Java)
- Windows uses embedded executable launchers with ZIP-appended Python code
- Unix uses shebang lines with fallback to `/bin/sh` wrapper for complex cases
- Pre-loads launcher binaries to handle pip update scenarios
- Supports script variants (versioned executables like `script3.12`)
- Handles executable paths with spaces through proper quoting
- Respects `SOURCE_DATE_EPOCH` for reproducible builds
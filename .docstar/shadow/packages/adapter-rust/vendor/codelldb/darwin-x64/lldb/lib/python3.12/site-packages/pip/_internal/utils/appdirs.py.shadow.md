# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/utils/appdirs.py
@source-hash: b3081c4ca3a6ddd6
@generated: 2026-02-09T17:59:32Z

**Primary Purpose**  
Wrapper module around vendored `platformdirs` (formerly `appdirs`) to provide backward-compatible directory paths for pip's internal operations. Serves as a transitional layer during gradual migration from old appdirs API to new platformdirs API.

**Key Functions**

- `user_cache_dir(appname: str) -> str` (L16-17): Returns user cache directory by wrapping `_appdirs.user_cache_dir()` with `appauthor=False`
- `_macos_user_config_dir(appname: str, roaming: bool = True) -> str` (L20-31): macOS-specific config directory resolution with fallback logic - prefers `~/Application Support/pip` if exists, otherwise falls back to Linux-style `~/.config/pip`
- `user_config_dir(appname: str, roaming: bool = True) -> str` (L34-38): Platform-aware user config directory - delegates to macOS helper on Darwin, otherwise uses standard platformdirs API
- `site_config_dirs(appname: str) -> List[str]` (L43-52): Platform-specific system config directories - returns different paths for Darwin (site data dir), Windows (single site config dir), and Unix-like systems (site config dirs + `/etc`)

**Dependencies**
- `pip._vendor.platformdirs as _appdirs` (L13): Core dependency providing cross-platform directory utilities
- Standard library: `os`, `sys`, `typing.List`

**Architectural Patterns**
- **Wrapper Pattern**: Thin compatibility layer over platformdirs API
- **Platform Abstraction**: Platform-specific behavior encapsulated in conditional branches using `sys.platform` checks
- **Graceful Migration**: Maintains existing pip API surface while transitioning to new underlying library

**Critical Behaviors**
- macOS config directory uses existence-based fallback (L23-24): checks if Application Support directory exists before using it
- Unix systems append `/etc` to platformdirs results for broader system config discovery (L52)
- All calls explicitly set `appauthor=False` to maintain consistent behavior
- Function signatures maintain backward compatibility with existing pip codebase
# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/models/index.py
@source-hash: b589cbf28c468b86
@generated: 2026-02-09T17:59:24Z

## Purpose
Model for Python Package Index (PyPI) repositories, providing structured access to package index endpoints and URL construction utilities.

## Core Components

**PackageIndex (L4-23)**
- Primary class representing a package index repository
- Uses `__slots__` for memory efficiency with 5 attributes: url, netloc, simple_url, pypi_url, file_storage_domain
- Constructor (L9-19) accepts base URL and file storage domain, automatically derives endpoint URLs
- `_url_for_path()` (L21-22) utility method for constructing URLs relative to the base index URL

## Key Attributes
- `url`: Base index URL
- `netloc`: Network location extracted from URL using urllib.parse
- `simple_url`: Endpoint for simple API (`/simple`)
- `pypi_url`: Endpoint for PyPI API (`/pypi`) 
- `file_storage_domain`: Domain for file storage (security constraint mechanism)

## Pre-configured Instances
- **PyPI (L25)**: Production PyPI instance (`https://pypi.org/`, `files.pythonhosted.org`)
- **TestPyPI (L26-28)**: Test PyPI instance (`https://test.pypi.org/`, `test-files.pythonhosted.org`)

## Dependencies
- `urllib.parse`: URL manipulation and joining operations

## Security Context
The `file_storage_domain` attribute implements a temporary security mechanism to block PyPI packages with external URL dependencies until PyPI can implement native blocking (L16-19).

## Usage Pattern
Designed for pip's internal package resolution system, providing clean abstraction over package index endpoints with pre-configured common repositories.
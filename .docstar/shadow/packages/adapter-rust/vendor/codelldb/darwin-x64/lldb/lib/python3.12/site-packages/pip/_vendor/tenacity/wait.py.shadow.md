# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/wait.py
@source-hash: dc57012680838329
@generated: 2026-02-09T18:00:09Z

**Purpose:** Implements waiting strategies for the tenacity retry library, providing various algorithms to determine how long to wait between retry attempts.

**Core Architecture:**
- `wait_base` (L27-42): Abstract base class defining the wait strategy interface with `__call__` method returning wait time in seconds
- All strategies implement `__call__(retry_state: RetryCallState) -> float` 
- Support combination via `__add__` and `__radd__` operators for composable wait strategies
- `WaitBaseT` (L44): Type alias allowing either wait_base instances or callable functions

**Key Wait Strategies:**

**Basic Strategies:**
- `wait_fixed` (L47-55): Fixed delay between retries, uses `_utils.to_seconds()` for time unit conversion
- `wait_none` (L57-62): Zero delay strategy, inherits from wait_fixed with 0 seconds
- `wait_random` (L64-73): Random delay between min/max bounds using `random.random()`

**Composition Strategies:**
- `wait_combine` (L75-83): Sums multiple wait strategies together
- `wait_chain` (L85-108): Chains strategies sequentially, uses last strategy when exhausted. Strategy selection based on `retry_state.attempt_number`

**Progressive Strategies:**
- `wait_incrementing` (L110-130): Linear backoff with configurable start, increment, and max values
- `wait_exponential` (L132-164): Exponential backoff with `exp_base^(attempt-1) * multiplier`, includes overflow protection
- `wait_random_exponential` (L166-195): Inherits from wait_exponential, adds jitter via `random.uniform(0, high)`
- `wait_exponential_jitter` (L197-228): Alternative jitter implementation following Google Cloud strategy: `initial * exp_base^n + uniform(0, jitter)`

**Dependencies:**
- `_utils`: Time unit conversion and MAX_WAIT constant
- `random`: Randomization for jitter strategies  
- `typing`: Type hints including forward reference to RetryCallState
- `abc`: Abstract base class functionality

**Key Patterns:**
- All strategies handle attempt_number starting from 1 (subtract 1 for zero-based calculations)
- Consistent min/max clamping using `max(min_val, min(result, max_val))`
- Time unit normalization through `_utils.to_seconds()`
- Overflow protection in exponential calculations
- Support for strategy composition via operator overloading
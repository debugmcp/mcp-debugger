# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/idna/intranges.py
@source-hash: 601af87d162e587e
@generated: 2026-02-09T17:59:37Z

## Purpose
Efficient integer set membership testing using range compression. Converts lists of integers into compressed range representations and provides O(log n) membership queries using binary search.

## Core Algorithm
- **intranges_from_list (L11-30)**: Converts sorted integer list into compressed ranges encoded as single integers
- **intranges_contain (L39-54)**: Tests membership using binary search on encoded ranges
- **_encode_range/_decode_range (L32-36)**: Bit-packed range encoding/decoding using 32-bit shift operations

## Key Data Structure
Ranges encoded as single integers: `(start << 32) | end` where membership test is `start <= x < end` (half-open intervals).

## Algorithm Details
1. **Compression (L19-28)**: Sorts input, identifies consecutive runs, creates half-open intervals [start, end)
2. **Search (L41-53)**: Uses bisect.bisect_left to find potential range, checks both adjacent ranges for membership
3. **Edge cases**: Handles boundary conditions where target could be at start of range or within previous range

## Dependencies
- `bisect` module for binary search operations
- `typing` for type annotations (List, Tuple)

## Performance Characteristics
- Space: O(number of runs) instead of O(number of integers)
- Query time: O(log(number of runs)) via binary search
- Optimal for datasets with long consecutive sequences
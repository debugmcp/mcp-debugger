# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/layout.py
@source-hash: 6a3912140b4456ff
@generated: 2026-02-09T18:00:04Z

**Purpose:** Implements a flexible layout system for terminal UIs that divides screen space into hierarchical regions using row/column splitters. Part of the Rich library's rendering architecture.

**Core Classes:**

- **`Layout` (L142-416)** - Main layout container that manages hierarchical space division
  - Constructor (L156-175): Accepts renderable content, sizing parameters, and visibility
  - Key properties: `renderable` (L184-186), `children` (L189-191), `map` (L194-196)
  - Layout navigation: `get()` (L198-214), `__getitem__()` (L216-220)
  - Splitting methods: `split()` (L261-284), `split_row()` (L299-305), `split_column()` (L307-313)
  - Content management: `update()` (L319-326), `unsplit()` (L315-317)
  - Rendering: `render()` (L366-393), `__rich_console__()` (L395-415)

- **`Splitter` (L80-99)** - Abstract base for space division strategies
  - `RowSplitter` (L101-118): Divides regions horizontally into columns
  - `ColumnSplitter` (L121-138): Divides regions vertically into rows

- **`_Placeholder` (L51-77)** - Internal renderable for empty layouts, displays layout info in a panel

**Key Types:**
- `LayoutRender` (L32-36): NamedTuple containing region and rendered segments
- `RegionMap` (L39): Maps Layout to Region
- `RenderMap` (L40): Maps Layout to LayoutRender

**Dependencies:**
- Uses `ratio_resolve` from `._ratio` for proportional space allocation
- Integrates with Rich's `Console`, `Region`, `Segment` rendering system
- Thread-safe operations using `RLock` (L175, L325, L335, L398)

**Architecture Patterns:**
- Composite pattern: Layouts contain child layouts in tree structure
- Strategy pattern: Pluggable splitters determine space division behavior
- Visitor pattern: Recursive rendering traverses layout tree
- Factory pattern: `splitters` dict (L154) for splitter instantiation

**Critical Methods:**
- `_make_region_map()` (L345-364): Creates region mapping using stack-based traversal
- `refresh_screen()` (L328-343): Updates specific layout regions for partial redraws
- `tree` property (L223-259): Generates visual representation of layout hierarchy

**Constraints:**
- Thread-safe updates using locks around render operations
- Minimum size constraints respected during space allocation
- Visibility filtering applied to child layout enumeration
# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/highlighter.py
@source-hash: e9902351c3610516
@generated: 2026-02-09T18:00:08Z

## Purpose
This file implements text highlighting functionality for the Rich library, providing abstract and concrete highlighter classes that apply syntax coloring and styling to text content using regular expressions.

## Core Architecture

### Abstract Base Classes
- **Highlighter (L17-48)**: Abstract base class defining the highlighter interface
  - `__call__(L20-39)`: Entry point that handles str/Text input and delegates to highlight()
  - `highlight(L42-47)`: Abstract method for applying highlighting in place

### Concrete Implementations

#### Basic Highlighters
- **NullHighlighter (L50-58)**: No-op highlighter for disabling highlighting entirely
- **RegexHighlighter (L61-77)**: Base class for regex-based highlighting
  - `highlights` class attribute: List of regex patterns to match
  - `base_style`: Style prefix for matched groups
  - Uses Text.highlight_regex() for pattern matching and styling

#### Specialized Highlighters
- **ReprHighlighter (L80-103)**: Highlights Python repr() output with extensive patterns for:
  - HTML-like tags, attributes, braces, IP addresses, UUIDs, function calls
  - Python literals (bool, None, numbers, strings), file paths, URLs
  - Complex regex combining 12 different pattern types (L88-102)

- **JSONHighlighter (L106-141)**: JSON syntax highlighting
  - Extends RegexHighlighter with JSON-specific patterns (L115-121)
  - Custom highlight() method adds JSON key detection (L123-140)
  - Post-processes string matches to identify JSON keys by looking for following ":"

- **ISO8601Highlighter (L143-198)**: DateTime string highlighting
  - 13 comprehensive regex patterns for ISO8601 date/time formats
  - Covers dates, weeks, times, timezones, and XML Schema datetime types

## Utility Functions
- **_combine_regex() (L8-14)**: Simple regex combiner using "|" operator

## Key Dependencies
- `re`: Standard regex module
- `.text`: Rich Text and Span classes for styling
- `abc`: Abstract base class support

## Design Patterns
- **Template Method**: Highlighter.__call__() standardizes input handling, delegates to highlight()
- **Strategy Pattern**: Different highlighter implementations for different content types
- **Regex-based Processing**: Extensive use of named capture groups for semantic styling

## Notable Implementation Details
- JSONHighlighter performs two-pass highlighting: regex patterns first, then key detection
- ReprHighlighter uses complex combined regex for performance
- All highlighters work in-place on Text objects
- Style names use dot notation (e.g., "json.key", "repr.bool_true")

## Test/Demo Code
Lines 201-232 contain standalone demo code that exercises various highlighters with sample content including paths, URLs, numbers, IP addresses, and JSON.
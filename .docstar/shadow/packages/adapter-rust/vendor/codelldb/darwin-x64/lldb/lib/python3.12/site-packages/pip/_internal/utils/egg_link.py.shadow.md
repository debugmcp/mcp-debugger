# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/utils/egg_link.py
@source-hash: d0578f6685182afe
@generated: 2026-02-09T17:59:36Z

## Purpose
Utility module for locating Python package `.egg-link` files within pip's internal infrastructure. Handles the complex logic of finding development installs across different environments (virtualenv, user sites, global sites).

## Key Components

### Core Functions

**`_egg_link_names(raw_name: str) -> List[str]` (L18-30)**
- Generates potential .egg-link filenames for a package
- Returns both normalized name (pkg_resources safe_name style) and raw name
- Handles setuptools 69+ compatibility where naming conventions changed
- Uses regex substitution: `[^A-Za-z0-9.]+` → `-`

**`egg_link_path_from_sys_path(raw_name: str) -> Optional[str]` (L33-43)**
- Searches for .egg-link files by walking `sys.path`
- Tests all potential names from `_egg_link_names()`
- Returns first match found, None if no .egg-link exists
- Simple linear search approach

**`egg_link_path_from_location(raw_name: str) -> Optional[str]` (L46-80)**
- Intelligent .egg-link lookup respecting Python environment hierarchy
- Implements 3 distinct search strategies:
  1. **Non-virtualenv** (L69-72): user_site → site_packages
  2. **No-global virtualenv** (L65-66): site_packages only  
  3. **Global virtualenv** (L65-68): site_packages → user_site
- Returns first match found across prioritized locations

## Dependencies
- **Internal**: `pip._internal.locations` (site_packages, user_site), `pip._internal.utils.virtualenv` (environment detection)
- **Standard**: `os`, `re`, `sys`, `typing`

## Architectural Patterns
- **Environment-aware search strategy**: Different lookup orders based on virtualenv configuration
- **Fallback naming**: Supports both old and new setuptools .egg-link naming conventions
- **First-match semantics**: Returns immediately upon finding valid .egg-link file

## Key Invariants
- .egg-link files indicate development/editable installations
- Search order matters for environment isolation
- Both normalized and raw package names must be tested for compatibility
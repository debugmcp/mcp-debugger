# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/
@generated: 2026-02-09T18:16:16Z

## Purpose
The `platformdirs` package provides a unified, cross-platform API for discovering application-specific directories on Windows, macOS, Unix/Linux, and Android systems. It follows platform-specific conventions and standards (Windows CSIDL, macOS Library structure, XDG Base Directory Specification for Unix, Android filesystem layout) to locate appropriate directories for storing application data, configuration, cache, logs, and user media files.

## Public API Surface
The primary entry point is `__init__.py`, which provides two interface patterns:

### Functional Interface (Recommended)
Convenience functions that return directory paths as strings or `pathlib.Path` objects:
- **Data directories**: `user_data_dir()`, `site_data_dir()`, `user_data_path()`, `site_data_path()`
- **Configuration**: `user_config_dir()`, `site_config_dir()`, `user_config_path()`, `site_config_path()`
- **Cache**: `user_cache_dir()`, `site_cache_dir()`, `user_cache_path()`, `site_cache_path()`
- **State & Logs**: `user_state_dir()`, `user_log_dir()`, `user_state_path()`, `user_log_path()`
- **Runtime**: `user_runtime_dir()`, `site_runtime_dir()`, `user_runtime_path()`, `site_runtime_path()`
- **User Media**: `user_documents_dir()`, `user_downloads_dir()`, `user_pictures_dir()`, etc.

### Object-Oriented Interface
- **`PlatformDirs`** class: Main platform-specific directory resolver
- **`AppDirs`**: Backward compatibility alias for `PlatformDirs`

Common parameters across all functions:
- `appname`: Application name for directory naming
- `appauthor`: Application author/company (optional)
- `version`: Version string for subdirectories (optional)
- `roaming`: Windows roaming profile flag
- `multipath`: Return multiple paths where applicable
- `opinion`: Use opinionated/recommended paths
- `ensure_exists`: Auto-create directories on access

## Architecture & Platform Selection
The module uses a **factory pattern with runtime platform detection**:

1. **Platform Detection** (`__init__.py`): `_set_platform_dir_class()` analyzes `sys.platform` and environment variables to select appropriate implementation
2. **Platform Implementations**: Each platform has its own module implementing `PlatformDirsABC`:
   - `windows.py`: Windows CSIDL-based resolution with ctypes/registry/environment fallbacks
   - `macos.py`: macOS Library structure with Homebrew integration
   - `unix.py`: XDG Base Directory Specification with environment variable overrides
   - `android.py`: Android filesystem conventions with PyJNIus API integration

## Key Components

### Abstract Base Class (`api.py`)
- **`PlatformDirsABC`**: Defines the contract that all platform implementations must follow
- Provides common path construction logic (`_append_app_name_and_version`)
- Offers both string and `pathlib.Path` interfaces
- Includes directory iteration methods for multi-directory scenarios

### Platform-Specific Implementations
Each platform module follows consistent patterns but implements platform-appropriate logic:
- **Windows**: Three-tier fallback (ctypes → registry → environment) for CSIDL resolution
- **macOS**: Apple Library conventions with Homebrew package manager detection
- **Unix/Linux**: XDG specification compliance with environment variable overrides
- **Android**: Dual strategy using PyJNIus Android APIs with filesystem fallbacks

### Utilities
- **`__main__.py`**: Command-line demo script for testing and exploration
- **`version.py`**: Auto-generated version metadata (setuptools_scm)

## Data Flow
1. User calls convenience function or creates `PlatformDirs` instance
2. Platform detection selects appropriate implementation class
3. Implementation resolves base directories using platform-specific methods
4. Common logic appends application name/version to create final paths
5. Optional directory creation if `ensure_exists=True`

## Design Patterns
- **Template Method**: `PlatformDirsABC` defines structure, platforms implement specifics
- **Strategy Pattern**: Runtime platform selection chooses implementation strategy
- **Adapter Pattern**: Unified API abstracts platform differences
- **Caching**: LRU caches for expensive operations (Windows CSIDL, Android API calls)
- **Graceful Degradation**: Multiple fallback mechanisms for robust path resolution

## Cross-Platform Standards Compliance
- **Windows**: Microsoft MSDN application data guidelines
- **macOS**: Apple File System Programming Guide
- **Unix/Linux**: XDG Base Directory Specification
- **Android**: Android filesystem and API conventions

The package serves as a foundational utility for applications needing reliable, standards-compliant directory discovery across diverse operating systems.
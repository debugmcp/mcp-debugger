# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/msgpack/__init__.py
@source-hash: 82c30fec94c40993
@generated: 2026-02-09T17:59:41Z

## Primary Purpose
Package initialization file for msgpack library providing MessagePack serialization/deserialization functionality. Acts as the main API entry point with automatic fallback between C extension and pure Python implementations.

## Key Components

### Version Information (L7-8)
- `version`: Tuple format (1, 0, 8)
- `__version__`: String format "1.0.8"

### Dynamic Implementation Loading (L11-17)
Smart import strategy with three-tier fallback:
1. Force pure Python if `MSGPACK_PUREPYTHON` environment variable is set
2. Attempt C extension import from `._cmsgpack` 
3. Fall back to pure Python implementation from `.fallback`

Core classes imported: `Packer`, `Unpacker`, `unpackb` function

### Public API Functions

#### Serialization Functions
- `pack(o, stream, **kwargs)` (L20-27): Serialize object to stream
- `packb(o, **kwargs)` (L30-36): Serialize object to bytes
- `dump` (L54): Alias for `pack` 
- `dumps` (L55): Alias for `packb`

#### Deserialization Functions  
- `unpack(stream, **kwargs)` (L39-47): Deserialize from stream, reads entire stream content
- `unpackb`: Imported function for deserializing from bytes
- `load` (L51): Alias for `unpack`
- `loads` (L52): Alias for `unpackb`

### Extension Types (L2)
Imports `ExtType` and `Timestamp` for handling MessagePack extension types.

### Exception Handling (L1)
Imports all exceptions from `.exceptions` module using wildcard import.

## Architecture Patterns
- **Performance optimization**: Automatic C extension usage with Python fallback
- **API compatibility**: Provides aliases matching standard library modules (json, pickle, marshal)
- **Environment-based configuration**: Allows forcing pure Python implementation via environment variable

## Dependencies
- Internal modules: `.exceptions`, `.ext`, `.fallback`, `._cmsgpack` (optional)
- Standard library: `os` for environment variable access

## Critical Behavior
The `unpack()` function (L46) reads the entire stream content at once, which may not be suitable for large streams or streaming use cases - consider using `Unpacker` class directly for such scenarios.
# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/nap.py
@source-hash: 7d15af9f3d5a2336
@generated: 2026-02-09T18:00:06Z

**Primary Purpose**: Provides sleep/delay strategies for the Tenacity retry library, offering both time-based and event-based waiting mechanisms.

**Core Components**:

- `sleep(seconds: float)` (L25-31): Default sleep function wrapping `time.sleep()`. Designed to be mockable for testing. Takes a float duration and blocks execution for that time.

- `sleep_using_event` (L34-43): Event-based sleep strategy class that waits on a `threading.Event` instead of using time-based delays. Enables early termination when event is set.
  - `__init__(event: threading.Event)` (L37-38): Stores reference to threading event
  - `__call__(timeout: Optional[float])` (L40-43): Makes instance callable, waits on event with optional timeout

**Dependencies**:
- `time` module for basic sleep functionality
- `typing` for type annotations
- `threading` module (TYPE_CHECKING only) for Event type hints

**Architectural Pattern**: Strategy pattern implementation - provides interchangeable sleep behaviors for retry mechanisms. The callable class design allows instances to be used as drop-in replacements for the simple sleep function.

**Key Behaviors**:
- Default sleep blocks for exact duration
- Event-based sleep can terminate early if event is set before timeout
- Both strategies accept float/Optional[float] for time specification

**Usage Context**: Part of Tenacity's retry infrastructure, allowing configurable waiting strategies between retry attempts.
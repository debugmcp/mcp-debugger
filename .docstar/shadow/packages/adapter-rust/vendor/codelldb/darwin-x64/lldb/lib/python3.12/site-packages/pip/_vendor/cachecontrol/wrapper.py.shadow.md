# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_vendor/cachecontrol/wrapper.py
@source-hash: 86c19cee0f101904
@generated: 2026-02-09T17:59:34Z

**Purpose**: Factory function module that provides a convenient wrapper to add HTTP caching capabilities to requests.Session objects using the CacheControl library.

**Primary Function**:
- `CacheControl()` (L20-43): Factory function that configures and returns a requests.Session with caching capabilities by mounting CacheControlAdapter instances

**Key Functionality**:
- Takes a requests.Session and enhances it with HTTP caching
- Configures cache backend (defaults to DictCache if none provided) (L30)
- Mounts the same CacheControlAdapter instance on both HTTP and HTTPS protocols (L40-41)
- Returns the modified session with caching enabled

**Parameters & Configuration**:
- `sess`: Base requests.Session to enhance
- `cache`: Cache backend (BaseCache), defaults to DictCache
- `cache_etags`: Boolean flag for ETag caching (default: True)
- `serializer`: Custom serialization strategy 
- `heuristic`: Caching heuristics implementation
- `controller_class`: Custom CacheController class
- `adapter_class`: Custom CacheControlAdapter class (defaults to CacheControlAdapter)
- `cacheable_methods`: Collection of HTTP methods that should be cached

**Dependencies**:
- `CacheControlAdapter`: The core adapter that implements caching logic
- `DictCache`: Default in-memory cache implementation
- Type hints from various CacheControl modules (controller, heuristics, serialize)

**Architecture Notes**:
- Uses adapter pattern by mounting CacheControlAdapter on session
- Follows factory pattern - function name uses PascalCase like a class constructor
- Dual protocol mounting ensures both HTTP and HTTPS requests are cached consistently
# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/vcs/subversion.py
@source-hash: 75d4ee80706a1f35
@generated: 2026-02-09T17:59:48Z

## Primary Purpose
Implements Subversion (SVN) version control support for pip's VCS backend. Provides functionality to interact with SVN repositories including checkout, update, switch operations, and metadata extraction.

## Key Classes and Functions

### Subversion Class (L30-322)
Main class extending `VersionControl` base class. Handles all SVN-specific operations.

**Key Attributes:**
- `name = "svn"` (L31) - VCS identifier
- `dirname = ".svn"` (L32) - SVN metadata directory
- `schemes` (L34) - Supported URL schemes: svn+ssh, svn+http, svn+https, svn+svn, svn+file
- `_vcs_version` (L197) - Cached SVN client version tuple

**Core Methods:**
- `get_revision(location)` (L45-71) - Extracts maximum revision number from SVN working copy by walking directory tree and parsing .svn/entries files
- `get_remote_url(location)` (L109-130) - Finds repository URL by traversing up directory hierarchy until finding installable Python project
- `_get_svn_url_rev(location)` (L133-180) - Parses SVN metadata to extract URL and revision, handles multiple SVN formats (entries file vs XML)
- `call_vcs_version()` (L201-227) - Queries SVN client version via `--version` command
- `get_vcs_version()` (L229-247) - Returns cached SVN version or calls `call_vcs_version()`
- `get_remote_call_options()` (L249-278) - Returns interactive/non-interactive flags based on SVN version and console state

**VCS Operations:**
- `fetch_new()` (L280-302) - Performs SVN checkout with revision options
- `switch()` (L304-312) - Switches SVN working copy to different URL/branch
- `update()` (L314-321) - Updates SVN working copy to latest or specified revision

**Authentication Methods:**
- `get_netloc_and_auth()` (L74-86) - Extracts auth from URLs, special handling for SSH schemes
- `get_url_rev_and_auth()` (L89-94) - Processes URLs and re-adds svn+ prefix for SSH
- `make_rev_args()` (L97-106) - Converts username/password to SVN command arguments

## Important Dependencies
- `pip._internal.utils.misc` - Path utilities, auth parsing, console interaction detection
- `pip._internal.utils.subprocess` - Command execution utilities
- `pip._internal.vcs.versioncontrol` - Base VCS classes and exceptions

## Regular Expressions (L24-27)
- `_svn_xml_url_re` - Extracts URLs from XML entries format
- `_svn_rev_re` - Extracts revision numbers from XML format  
- `_svn_info_xml_rev_re` - Extracts revision from `svn info --xml` output
- `_svn_info_xml_url_re` - Extracts URL from `svn info --xml` output

## Critical Patterns
- **Version Detection**: Handles multiple SVN metadata formats (entries file vs XML) for different SVN client versions
- **Interactive Mode Logic**: SVN >= 1.8 requires `--force-interactive` flag when stdin is not TTY, older versions need `--non-interactive`
- **Authentication Handling**: SSH schemes keep auth in URL, HTTP schemes use separate username/password options
- **Directory Traversal**: Searches up directory tree to find Python project root when determining remote URLs

## Key Constraints
- Always returns `False` for `is_commit_id_equal()` (L183-185) - assumes versions never match to force updates
- Registration with VCS registry at module level (L324)
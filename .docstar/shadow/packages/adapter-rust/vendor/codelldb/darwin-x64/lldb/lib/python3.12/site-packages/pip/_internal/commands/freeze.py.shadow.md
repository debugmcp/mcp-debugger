# packages/adapter-rust/vendor/codelldb/darwin-x64/lldb/lib/python3.12/site-packages/pip/_internal/commands/freeze.py
@source-hash: daa8d0ac7f4a5a2e
@generated: 2026-02-09T17:59:23Z

## Primary Purpose
Implements pip's `freeze` command that outputs installed packages in requirements.txt format. The command generates a list of installed packages with their versions, suitable for recreating the environment.

## Key Components

### Helper Functions
- `_should_suppress_build_backends()` (L12-13): Returns True for Python < 3.12, determining whether to exclude build backend packages from default skip list
- `_dev_pkgs()` (L16-22): Returns set of development packages to skip by default. Always includes "pip", conditionally adds "setuptools", "distribute", "wheel" for older Python versions

### Main Command Class
**FreezeCommand** (L25-108): Core command implementation extending pip's base Command class
- **Purpose**: Generates requirements.txt format output of installed packages
- **Key attributes**:
  - `usage` (L32-33): Command usage string
  - `log_streams` (L34): Configures logging to stderr
- **Methods**:
  - `add_options()` (L36-86): Configures command-line options including:
    - `-r/--requirement`: Use existing requirements file order
    - `-l/--local`: Skip globally-installed packages in virtualenv
    - `--user`: Only show user-site packages  
    - `--all`: Include normally skipped dev packages
    - `--exclude-editable`: Skip editable installs
  - `run()` (L88-108): Main execution logic that:
    1. Builds skip set from stdlib + dev packages (L89-91)
    2. Adds user exclusions (L93-94)
    3. Validates path options (L96)
    4. Calls freeze operation with collected options (L98-106)
    5. Outputs results to stdout (L107)

## Dependencies
- `pip._internal.operations.freeze`: Core freeze functionality
- `pip._internal.cli.cmdoptions`: Reusable command options
- `pip._internal.utils.compat.stdlib_pkgs`: Standard library package detection

## Architecture Notes
- Follows pip's command pattern with options setup + run phases
- Separates package filtering logic into helper functions
- Uses set operations for efficient package exclusion
- Version-aware behavior for build backend suppression
- Streams output line-by-line to stdout for memory efficiency
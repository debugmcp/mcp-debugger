# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/nap.py
@source-hash: 7d15af9f3d5a2336
@generated: 2026-02-09T18:00:59Z

**Purpose**: Sleep strategy implementations for the tenacity retry library. Provides pluggable delay mechanisms used between retry attempts.

**Key Components**:

- `sleep(seconds: float)` (L25-31): Default sleep strategy using `time.sleep()`. Simple wrapper function designed to be mockable for testing. Used as the standard delay mechanism in retry loops.

- `sleep_using_event` class (L34-43): Alternative sleep strategy that uses threading events for interruptible delays. Allows retry loops to be cancelled or interrupted before the full timeout expires.
  - `__init__(event: threading.Event)` (L37-38): Stores reference to threading event
  - `__call__(timeout: Optional[float])` (L40-43): Implements sleep by waiting on event with timeout. May return early if event is set, enabling graceful shutdown of retry loops.

**Dependencies**:
- `time` module for standard sleep functionality
- `typing` for type hints
- `threading` (TYPE_CHECKING only) for Event type annotation

**Architecture**: Strategy pattern implementation where different sleep behaviors can be plugged into retry mechanisms. The callable interface allows both function and class-based strategies to be used interchangeably.

**Key Behavior**: The event-based strategy enables cooperative cancellation - external code can set the event to interrupt sleep and stop retry attempts, useful for shutdown scenarios or user cancellation.
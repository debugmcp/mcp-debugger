# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/progress.py
@source-hash: 3f4db18bb4f651ad
@generated: 2026-02-09T18:01:02Z

Progress tracking system for Rich console library providing real-time visual progress indicators, file reading with progress tracking, and customizable progress display columns.

## Primary Components

**Progress (L1049-1635)**: Main progress display manager that renders auto-updating progress bars. Manages multiple tasks concurrently using thread-safe operations with RLock. Integrates with Rich's Live display system for real-time updates. Key methods:
- `add_task()` (L1583): Creates new progress task with description, total steps, and optional fields
- `update()` (L1400): Updates task progress, handles completion detection and speed calculation
- `track()` (L1179): Iterator wrapper that automatically updates progress for sequences
- `wrap_file()`/`open()` (L1220/L1294): File reading with progress tracking

**Task (L923-1047)**: Dataclass representing individual progress task state. Contains completion tracking, speed calculation using sliding window of ProgressSample instances, and time estimation logic. Thread-safe with RLock.

**_TrackThread (L63-101)**: Background thread for auto-updating progress during iteration. Uses Event for clean shutdown and tracks completion deltas.

**_Reader (L173-271)**: Binary file wrapper that reports read progress to Progress instance. Implements full BinaryIO interface with progress tracking on all read operations.

## Progress Columns

Base class **ProgressColumn (L495-535)** with caching mechanism for renderables. Concrete implementations:
- **TextColumn (L604-632)**: Formatted text display with markup support
- **BarColumn (L634-673)**: Visual progress bar with customizable styles  
- **SpinnerColumn (L554-602)**: Animated spinner for indeterminate progress
- **TaskProgressColumn (L688-757)**: Percentage/speed display
- **TimeRemainingColumn (L760-805)**: ETA calculation and display
- **DownloadColumn (L853-899)**: File size progress with unit conversion
- **TransferSpeedColumn (L902-912)**: Transfer rate display

## Utility Functions

**track() (L103-171)**: Standalone function creating temporary Progress instance for simple iteration tracking.

**wrap_file() (L294-357)**: Creates progress-tracked file reading context manager.

**open() (L409-493)**: Progress-aware file opening with mode detection and automatic total size calculation via os.stat.

## Architecture Patterns

- Observer pattern: Progress columns observe Task state changes
- Context manager protocol: Automatic start/stop lifecycle management  
- Threading: Safe concurrent access with RLock throughout
- Caching: Renderable caching in ProgressColumn with timestamp-based invalidation
- Type safety: Extensive use of typing annotations and overloads
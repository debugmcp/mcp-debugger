# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/highlighter.py
@source-hash: e9902351c3610516
@generated: 2026-02-09T18:01:04Z

## Purpose
Text highlighting module for the Rich terminal library. Provides abstract base class and concrete implementations for applying syntax highlighting to text based on regular expressions. Core component for colorizing terminal output in various formats.

## Architecture
Built around `Highlighter(ABC)` (L17-48) abstract base class that defines the highlighting interface:
- `__call__()` (L20-39): Main entry point, accepts str/Text and returns highlighted Text
- `highlight()` (L42-47): Abstract method for in-place highlighting implementation

## Core Classes

### Highlighter (L17-48)
Abstract base defining highlighting contract. `__call__` handles input validation and type conversion (strâ†’Text), creates copy of Text objects, then delegates to abstract `highlight()`.

### NullHighlighter (L50-59) 
No-op implementation for disabling highlighting entirely. `highlight()` method is empty.

### RegexHighlighter (L61-78)
Base class for regex-based highlighting. Key attributes:
- `highlights`: List[str] (L64) - regex patterns to apply
- `base_style`: str (L65) - style prefix for matched groups
- `highlight()` (L67-77) iterates through patterns, applies via `text.highlight_regex()`

### ReprHighlighter (L80-103)
Specialized for highlighting Python `__repr__` output. Uses "repr." base style and comprehensive regex patterns (L84-103) for:
- HTML-like tags, attributes, braces
- IP addresses (IPv4/IPv6), MAC addresses (EUI-48/64), UUIDs  
- Python literals (bools, None, numbers, strings, paths, URLs)
- Function calls and ellipsis

### JSONHighlighter (L106-141)
JSON syntax highlighting with "json." base style. Notable features:
- `JSON_STR` constant (L110) for string matching
- `JSON_WHITESPACE` set (L111) for parsing
- Overrides `highlight()` (L123-140) with additional logic to identify JSON keys by scanning for ":" after strings

### ISO8601Highlighter (L143-198)
Comprehensive ISO 8601 date/time format highlighting with "iso8601." base style. Extensive regex patterns (L149-198) covering:
- Calendar dates (with/without hyphens)
- Ordinal dates, week dates
- Time formats (hours/minutes/seconds, timezones)
- Combined date-time formats
- XML Schema datetime types

## Dependencies
- `re` for regex operations
- `abc.ABC, abstractmethod` for abstract base class
- `.text.Span, Text` for Rich text objects

## Key Patterns
- Template method pattern: base classes define structure, subclasses provide specific regex patterns
- Strategy pattern: different highlighters for different text formats
- Named regex groups map to style names for granular highlighting control
- Defensive programming: type checking and graceful error handling in `Highlighter.__call__()`
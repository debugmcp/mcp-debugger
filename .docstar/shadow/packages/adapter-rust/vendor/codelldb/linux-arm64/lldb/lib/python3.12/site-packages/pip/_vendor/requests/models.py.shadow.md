# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/requests/models.py
@source-hash: c782b80a61fe942d
@generated: 2026-02-09T18:00:55Z

## Primary Purpose
Core HTTP request/response objects for the Requests library. Contains the foundational classes that handle HTTP request preparation, response processing, and data encoding/decoding.

## Key Classes and Functions

### RequestEncodingMixin (L84-204)
Provides encoding utilities for HTTP requests:
- `path_url` property (L86-104): Extracts path and query from URL
- `_encode_params()` (L107-134): URL-encodes form parameters, handles various input types
- `_encode_files()` (L137-203): Creates multipart/form-data bodies for file uploads

### RequestHooksMixin (L206-228)
Manages callback hooks for request/response processing:
- `register_hook()` (L207-216): Adds callable hooks for specific events
- `deregister_hook()` (L218-227): Removes previously registered hooks

### Request (L230-311)
User-facing request object for building HTTP requests:
- `__init__()` (L258-290): Accepts all standard HTTP parameters (method, URL, headers, etc.)
- `prepare()` (L295-310): Creates PreparedRequest instance ready for transmission

### PreparedRequest (L313-638)
Internal request object containing exact bytes to send to server:
- `prepare()` (L351-377): Master preparation method calling all prepare_* methods
- `prepare_method()` (L393-397): Normalizes HTTP method to uppercase
- `prepare_url()` (L409-481): Complex URL validation, IDNA encoding, parameter merging
- `prepare_headers()` (L483-492): Validates and normalizes headers
- `prepare_body()` (L494-570): Handles JSON, form data, files, and streaming bodies
- `prepare_auth()` (L588-608): Processes authentication, including URL-embedded auth
- `prepare_cookies()` (L610-628): Converts cookies to Cookie header
- `copy()` (L382-391): Creates deep copy of prepared request

### Response (L640-1037)
HTTP response object containing server's response:
- Core attributes (L658-703): status_code, headers, url, encoding, cookies, etc.
- `content` property (L891-907): Raw response bytes, cached after first access
- `text` property (L910-945): Unicode response text with encoding detection
- `json()` (L947-978): JSON decoding with UTF encoding detection
- `iter_content()` (L799-855): Streaming content iteration with chunk control
- `iter_lines()` (L857-888): Line-by-line iteration for streaming responses
- `raise_for_status()` (L997-1024): Raises HTTPError for 4xx/5xx status codes
- Boolean evaluation (L730-748): Returns True for status codes < 400

## Key Constants and Configuration
- `REDIRECT_STATI` (L71-77): HTTP status codes that trigger automatic redirects
- `DEFAULT_REDIRECT_LIMIT` (L79): Maximum redirect hops (30)
- `CONTENT_CHUNK_SIZE` (L80): Default chunk size for content reading (10KB)
- `ITER_CHUNK_SIZE` (L81): Default chunk size for line iteration (512 bytes)

## Important Dependencies
- urllib3: Core HTTP functionality, multipart encoding, URL parsing
- chardet/charset_normalizer: Character encoding detection
- cookielib: Cookie jar management
- Internal modules: authentication, exceptions, utilities

## Architectural Patterns
- **Mixin Pattern**: RequestEncodingMixin and RequestHooksMixin provide reusable functionality
- **Preparation Pattern**: Request â†’ PreparedRequest separation allows request modification before sending
- **Lazy Loading**: Response.content and Response.text properties cache results
- **Streaming Support**: iter_content/iter_lines enable memory-efficient large response handling
- **Encoding Abstraction**: Automatic handling of URL encoding, IDNA, character set detection

## Critical Invariants
- PreparedRequest objects should not be manually instantiated
- Response.content can only be consumed once unless cached
- Authentication preparation must occur after all other preparations
- Cookie headers are not regenerated if already present
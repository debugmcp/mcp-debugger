# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/models/search_scope.py
@source-hash: ebb3449ec618f38e
@generated: 2026-02-09T18:00:24Z

## Purpose
Encapsulates and manages pip package search locations, handling both index URLs (like PyPI) and find-links directories. This is a core configuration component that determines where pip looks for packages during installation or dependency resolution.

## Key Components

### SearchScope Class (L18-127)
Immutable dataclass that represents pip's search configuration with three main attributes:
- `find_links` (L26): List of URLs/paths to search for packages (typically directories or HTML pages)
- `index_urls` (L27): List of package index URLs (like PyPI simple API endpoints)  
- `no_index` (L28): Boolean flag to disable index searching entirely

Uses `__slots__` (L24) for memory optimization and `frozen=True` (L18) for immutability.

### Factory Method: create() (L30-70)
Static constructor that normalizes inputs before creating SearchScope instances:
- **Home directory expansion** (L46-51): Expands `~` prefixed paths in find_links and validates existence
- **TLS validation** (L55-64): Warns if HTTPS URLs are configured but SSL/TLS is unavailable
- Returns properly initialized SearchScope instance

### Display Methods

#### get_formatted_locations() (L72-105)
Generates human-readable summary of search locations:
- Filters out default PyPI URL to reduce noise (L75)
- **URL validation** (L87-91): Warns about malformed URLs missing scheme/netloc
- **Auth redaction** (L77, L102): Strips authentication credentials from URLs for safe display
- Returns formatted string with "Looking in indexes:" and "Looking in links:" sections

#### get_index_urls_locations() (L107-127)
Converts index URLs to project-specific package URLs:
- **Inner function mkurl_pypi_url()** (L114-125): Constructs PyPI-compatible URLs
- **Name canonicalization** (L116): Uses packaging standards for project name formatting
- **Trailing slash enforcement** (L123-124): Ensures compatibility with easy_install behavior
- Returns list of project-specific URLs for package discovery

## Dependencies
- `pip._vendor.packaging.utils.canonicalize_name` (L9): Package name standardization
- `pip._internal.models.index.PyPI` (L11): Default PyPI index configuration
- `pip._internal.utils.compat.has_tls` (L12): TLS availability detection
- `pip._internal.utils.misc` (L13): Path normalization and URL sanitization

## Architectural Notes
- **Immutable design**: Uses dataclass with frozen=True to prevent accidental modification
- **Security-conscious**: Consistently redacts authentication from URLs in user-facing output
- **Backward compatibility**: Maintains easy_install URL format conventions
- **Robust validation**: Handles malformed URLs and missing TLS gracefully with warnings
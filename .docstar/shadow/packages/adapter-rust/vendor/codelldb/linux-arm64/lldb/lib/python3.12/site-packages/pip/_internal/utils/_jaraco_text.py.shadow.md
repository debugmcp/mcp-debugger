# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/utils/_jaraco_text.py
@source-hash: 335e6e50f221e4da
@generated: 2026-02-09T18:00:27Z

## Purpose

Utility module containing text processing functions extracted from `jaraco.text` library to support pip's vendoring of `pkg_resources` without requiring the entire jaraco dependency tree. These functions handle line parsing and text manipulation for configuration file processing.

## Key Functions

### `_nonblank(str)` (L36-37)
Helper predicate that filters out empty strings and comment lines (starting with "#"). Returns True for non-empty strings that don't start with "#".

### `yield_lines(iterable)` (L40-61)
**Primary dispatcher function** using `@functools.singledispatch` pattern:
- **Base implementation (L41-56)**: Recursively processes iterables by mapping `yield_lines` over each element and flattening with `itertools.chain.from_iterable`
- **String specialization (L59-61)**: Registered for `str` type, splits text by lines, strips whitespace, and filters out blank/comment lines using `_nonblank`

Handles mixed input types (strings, lists, nested iterables) and normalizes them into clean text lines.

### `drop_comment(line)` (L64-76)
Removes trailing comments from configuration lines. Uses `line.partition(" #")[0]` to split on " #" (space + hash) and return only the content before the comment. Preserves URLs with hash fragments by requiring space before comment marker.

### `join_continuation(lines)` (L79-109)
Processes line continuation syntax where lines ending with backslash (`\`) are joined with the following line. Key behaviors:
- Strips the backslash and preceding character (L106: `item[:-2]`)
- Joins continuation with next line after stripping whitespace
- Suppresses incomplete continuations (lines ending with `\` but no following line)
- Uses iterator pattern with `next()` and `StopIteration` handling

## Dependencies

- `functools`: For `@singledispatch` decorator
- `itertools`: For `chain.from_iterable()` flattening operation

## Architecture Notes

- Uses single dispatch pattern for polymorphic `yield_lines` behavior
- Generator-based processing for memory efficiency
- Defensive programming with `StopIteration` handling in continuation logic
- No external pip dependencies - self-contained text utilities
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/requests/utils.py
@source-hash: 2fbf6f9c56f32774
@generated: 2026-02-09T18:01:11Z

**requests.utils - Core Utility Functions for HTTP Library**

Comprehensive utility module providing essential helper functions for the requests HTTP library. Contains utilities for URL handling, proxy management, authentication, content encoding, and network operations.

## Primary Categories

### Authentication & Credentials
- `get_netrc_auth(url, raise_errors=False)` (L204-259): Extracts authentication credentials from .netrc files, handling multiple file locations and parsing errors
- `get_auth_from_url(url)` (L1018-1031): Extracts username/password from URL authentication components

### URL & URI Processing
- `requote_uri(uri)` (L660-679): Normalizes URI encoding by unquoting unreserved characters and re-quoting illegal ones
- `unquote_unreserved(uri)` (L636-657): Un-escapes percent-encoded unreserved characters while preserving reserved/illegal bytes
- `prepend_scheme_if_needed(url, new_scheme)` (L989-1015): Adds scheme to URLs lacking one, handles netloc/path parsing edge cases
- `urldefragauth(url)` (L1064-1078): Removes fragments and authentication parts from URLs

### Network & Proxy Management
- `should_bypass_proxies(url, no_proxy)` (L765-823): Determines if URL should bypass proxy based on no_proxy patterns and environment variables
- `get_environ_proxies(url, no_proxy=None)` (L826-835): Returns environment proxy configuration dict
- `select_proxy(url, proxies)` (L838-861): Selects appropriate proxy for URL from proxy dictionary
- `resolve_proxies(request, proxies, trust_env=True)` (L864-888): Resolves final proxy configuration considering environment and NO_PROXY settings
- `address_in_network(ip, net)` (L682-694): Checks if IP address belongs to network subnet using CIDR notation
- `is_ipv4_address(string_ip)` (L708-716): Validates IPv4 address format
- `is_valid_cidr(string_network)` (L719-740): Validates CIDR network notation

### Content Processing & Encoding
- `super_len(o)` (L135-201): Calculates content length for various object types (strings, files, streams) with file mode warnings
- `get_encodings_from_content(content)` (L489-511): **DEPRECATED** - Extracts character encodings from HTML/XML content using regex patterns
- `get_encoding_from_headers(headers)` (L539-561): Determines encoding from HTTP Content-Type header with fallbacks for text and JSON
- `stream_decode_response_unicode(iterator, r)` (L564-578): Incrementally decodes response iterator using response encoding
- `get_unicode_from_response(r)` (L591-627): **DEPRECATED** - Converts response content to unicode with encoding fallbacks
- `guess_json_utf(data)` (L957-986): Detects JSON encoding by analyzing BOM markers and null byte patterns

### Data Structure Utilities
- `dict_to_sequence(d)` (L126-132): Converts dict-like objects to key-value sequence
- `from_key_val_list(value)` (L318-342): Creates OrderedDict from sequence of 2-tuples
- `to_key_val_list(value)` (L345-371): Converts mapping objects to list of 2-tuples
- `dict_from_cookiejar(cj)` (L467-475): Extracts cookies from CookieJar to dict
- `add_dict_to_cookiejar(cj, cookie_dict)` (L478-486): Adds dict cookies to CookieJar

### HTTP Header Processing
- `parse_list_header(value)` (L375-403): Parses RFC 2068 comma-separated lists with quoted string support
- `parse_dict_header(value)` (L407-438): Parses key=value header parameters into dict
- `unquote_header_value(value, is_filename=False)` (L442-464): Unquotes HTTP header values with filename handling
- `parse_header_links(value)` (L914-948): Parses HTTP Link header into list of link objects
- `check_header_validity(header)` (L1034-1042): Validates header names/values against RFC restrictions

### File & Archive Handling
- `guess_filename(obj)` (L261-265): Extracts filename from file-like object's name attribute
- `extract_zipped_paths(path)` (L268-302): Extracts files from zip archives to temp directory
- `atomic_open(filename)` (L305-315): Context manager for atomic file writes using temporary files

### Platform-Specific Features
- Windows proxy registry handling (L76-123): `proxy_bypass_registry()` and platform-specific `proxy_bypass()` override

### Utility Functions  
- `iter_slices(string, slice_length)` (L581-588): Iterates over string slices of specified length
- `set_environ(env_name, value)` (L743-762): Context manager for temporary environment variable changes
- `default_user_agent(name)` (L891-897): Generates default User-Agent string
- `default_headers()` (L900-911): Creates default HTTP headers dict
- `rewind_body(prepared_request)` (L1081-1095): Rewinds file-like request bodies for redirects

## Key Constants
- `DEFAULT_CA_BUNDLE_PATH` (L63): CA certificate bundle location
- `DEFAULT_PORTS` (L65): Standard HTTP/HTTPS port mappings  
- `DEFAULT_ACCEPT_ENCODING` (L68-70): Default Accept-Encoding header value
- `UNRESERVED_SET` (L631-633): RFC 3986 unreserved URI characters
- `NETRC_FILES` (L61): Standard netrc file names

## Dependencies
- External: urllib3.util, pip._vendor modules
- Internal: certs, compat, cookies, exceptions, structures modules
- Standard library: codecs, contextlib, io, os, re, socket, struct, sys, tempfile, warnings, zipfile
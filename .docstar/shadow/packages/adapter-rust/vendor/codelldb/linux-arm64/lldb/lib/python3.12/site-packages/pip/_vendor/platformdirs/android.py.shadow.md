# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/android.py
@source-hash: 06a22c027230fba6
@generated: 2026-02-09T18:00:42Z

**Android Platform Directory Provider**

Android-specific implementation of the platformdirs library for determining standard application directories on Android OS. Provides Android-specific paths following Android filesystem conventions.

**Key Classes:**

- **Android (L14-117)**: Main platform directory provider implementing PlatformDirsABC
  - Inherits from PlatformDirsABC to provide Android-specific directory paths
  - Uses `_android_folder()` helper for base app directory resolution
  - Supports opinion-based subdirectory creation for logs and runtime

**Core Directory Properties:**

- **user_data_dir (L24-26)**: Returns `/data/user/<userid>/<packagename>/files/<AppName>`
- **user_config_dir (L34-39)**: Returns `/data/user/<userid>/<packagename>/shared_prefs/<AppName>` 
- **user_cache_dir (L47-49)**: Returns `/data/user/<userid>/<packagename>/cache/<AppName>`
- **user_log_dir (L62-70)**: Cache dir + `/log` subdirectory when opinionated
- **user_runtime_dir (L103-111)**: Cache dir + `/tmp` subdirectory when opinionated

**Media Directory Properties:**

- **user_documents_dir (L73-75)**: Uses `_android_documents_folder()` helper
- **user_downloads_dir (L78-80)**: Uses `_android_downloads_folder()` helper  
- **user_pictures_dir (L83-85)**: Uses `_android_pictures_folder()` helper
- **user_videos_dir (L88-90)**: Uses `_android_videos_folder()` helper
- **user_music_dir (L93-95)**: Uses `_android_music_folder()` helper
- **user_desktop_dir (L98-100)**: Hardcoded to `/storage/emulated/0/Desktop`

**Helper Functions (All @lru_cache(maxsize=1)):**

- **_android_folder() (L120-137)**: Determines base Android app directory using pyjnius or sys.path fallback
- **_android_documents_folder() (L141-153)**: Gets documents directory via Android API or fallback
- **_android_downloads_folder() (L157-169)**: Gets downloads directory via Android API or fallback
- **_android_pictures_folder() (L173-185)**: Gets pictures directory via Android API or fallback
- **_android_videos_folder() (L189-201)**: Gets videos directory via Android API or fallback  
- **_android_music_folder() (L205-217)**: Gets music directory via Android API or fallback

**Architecture Patterns:**

- **Dual Resolution Strategy**: Each helper tries pyjnius Android API first, falls back to hardcoded paths
- **LRU Caching**: All helper functions cached to avoid repeated Android API calls
- **Site/User Aliasing**: Site directories alias to user directories (Android is single-user from app perspective)
- **Opinion-based Subdirectories**: Optional subdirectory creation based on `self.opinion` flag

**Dependencies:**

- `jnius`: Android API access via PyJNIus (optional, graceful degradation)
- `.api.PlatformDirsABC`: Base abstract class for platform directory providers
- Standard library: `os`, `re`, `sys`, `functools.lru_cache`

**Critical Behavior:**

- All site_* methods return same as user_* methods (single-user assumption)
- Broad exception catching ensures fallback paths always available
- Regex pattern `/data/(data|user/\d+)/(.+)/files` used for sys.path parsing fallback
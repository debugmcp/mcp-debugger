# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/msgpack/__init__.py
@source-hash: 82c30fec94c40993
@generated: 2026-02-09T18:00:33Z

**Primary Purpose**: Main entry point for the msgpack library, providing high-level serialization/deserialization API with automatic fallback between C extension and pure Python implementations.

**Key Components**:

- **Version Info (L7-8)**: Library version `1.0.8` exposed as both tuple and string
- **Dynamic Implementation Loading (L11-17)**: Conditionally imports core classes (`Packer`, `Unpacker`, `unpackb`) with priority: environment override → C extension → Python fallback
- **High-level API Functions**:
  - `pack(o, stream, **kwargs)` (L20-27): Serialize object to stream using temporary Packer instance  
  - `packb(o, **kwargs)` (L30-36): Serialize object to bytes using temporary Packer instance
  - `unpack(stream, **kwargs)` (L39-47): Deserialize from stream by reading all data and calling `unpackb`
  - **Compatibility Aliases (L51-55)**: JSON/pickle-style names (`load`, `loads`, `dump`, `dumps`)

**Dependencies**:
- `.exceptions` (L1): Exception types for error handling
- `.ext` (L2): `ExtType` and `Timestamp` extension types  
- Conditional imports from `._cmsgpack` or `.fallback` (L12, 15, 17)

**Architecture Patterns**:
- **Graceful Degradation**: C extension preferred but falls back to pure Python
- **Environment Override**: `MSGPACK_PUREPYTHON` forces pure Python implementation
- **Facade Pattern**: Simple functions wrap configurable Packer/Unpacker classes
- **API Compatibility**: Provides multiple naming conventions for broad ecosystem support

**Critical Behavior**:
- `unpack()` reads entire stream at once (L46), not suitable for streaming
- All functions create new Packer/Unpacker instances per call (no reuse)
- Implementation selection happens at import time, not runtime
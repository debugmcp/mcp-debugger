# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/constrain.py
@source-hash: d5520fb82f0082d2
@generated: 2026-02-09T18:00:53Z

## Primary Purpose
Width constraint wrapper for Rich library renderables. Limits the rendering width of any renderable object to a specified maximum character count while maintaining proper console rendering protocols.

## Key Components

### Constrain Class (L10-37)
- **Purpose**: Wrapper that constrains renderable width without modifying the original object
- **Inherits**: `JupyterMixin` for Jupyter notebook compatibility
- **Constructor** (L18-20): Takes `renderable` and optional `width` (defaults to 80 characters)

### Core Methods
- **`__rich_console__`** (L22-29): Main rendering method implementing Rich's console protocol
  - Returns unconstrained renderable if `width` is None
  - Otherwise creates child options with constrained width using `min(self.width, options.max_width)`
  - Delegates actual rendering to console with updated options
  
- **`__rich_measure__`** (L31-37): Measurement method for layout calculations
  - Updates options width if constraint exists
  - Uses `Measurement.get()` to calculate dimensions of wrapped renderable

## Dependencies
- **Rich ecosystem**: `Console`, `ConsoleOptions`, `RenderableType`, `RenderResult` (TYPE_CHECKING imports)
- **JupyterMixin** (L3): Provides Jupyter notebook integration
- **Measurement** (L4): Used for width/height calculations

## Architectural Patterns
- **Decorator Pattern**: Wraps renderables to add width constraint behavior
- **Rich Protocol Compliance**: Implements `__rich_console__` and `__rich_measure__` for seamless integration
- **Options Chain**: Uses `options.update_width()` to propagate constraints down the rendering chain

## Key Behaviors
- Width constraint applies the minimum of requested width and available console width
- Null width bypasses all constraints
- Measurement respects width constraints for proper layout calculations
- Maintains full compatibility with Rich's rendering pipeline
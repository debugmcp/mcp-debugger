# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/cli/cmdoptions.py
@source-hash: d17c87635090f6d1
@generated: 2026-02-09T18:00:22Z

**Primary Purpose:** Central command-line option definitions for pip CLI commands. Implements shared option definitions using factory pattern to avoid state persistence across parses.

**Core Architecture:**
- **Factory Pattern**: All options defined as `partial()` callables that create fresh `Option` instances (L121-1028)
- **Custom Option Types**: `PipOption` class extends standard `Option` with "path" and "package_name" types (L110-114)
- **Option Groups**: Pre-configured dictionaries grouping related options (L1035-1074)

**Key Classes:**
- `PipOption` (L110-114): Extended Option class with custom type checkers for paths and package names
  - Adds "path" type using `_path_option_check()` (L102-103) 
  - Adds "package_name" type using `_package_name_option_check()` (L106-107)

**Key Functions:**
- `raise_option_error()` (L36-47): Standardized option parsing error formatting
- `make_option_group()` (L50-59): Creates OptionGroup from dictionary specification
- `check_dist_restriction()` (L62-100): Validates platform/implementation constraint combinations
- `_convert_python_version()` (L548-574): Parses Python version strings into tuples
- `add_target_python_options()` (L646-651): Adds platform-specific options to command
- `make_target_python()` (L653-661): Creates TargetPython object from parsed options

**Critical Option Categories:**
- **General Options** (L121-232): help, debug, isolation, verbosity, logging
- **Network Options** (L268-296): proxy, retries, timeout configuration  
- **Index Options** (L339-403): PyPI index URLs, extra indexes, find-links
- **Package Selection** (L418-529): requirements files, editable installs, binary/source control
- **Platform Targeting** (L532-643): platform, Python version, ABI, implementation constraints
- **Build Control** (L744-871): PEP 517/518 options, build isolation, config settings
- **Security** (L934-957): hash verification, trusted hosts, certificates

**Complex Option Handlers:**
- Binary format control: `_handle_no_binary()` (L474-483) and `_handle_only_binary()` (L485-493)
- Cache directory: `_handle_no_cache_dir()` (L688-714) with backwards compatibility logic
- PEP 517: `_handle_no_use_pep517()` (L765-797) validates setuptools/wheel availability
- Config settings: `_handle_config_settings()` (L821-838) parses KEY=VAL format
- Hash verification: `_handle_merge_hash()` (L910-932) validates algorithms

**Dependencies:**
- `pip._vendor.packaging.utils` for package name canonicalization
- `pip._internal.models` for FormatControl, PyPI, TargetPython
- `pip._internal.utils.hashes` for STRONG_HASHES validation
- `pip._internal.locations` for default cache/source directories

**Design Patterns:**
- All options use `partial()` to create factory functions avoiding global state
- Consistent callback pattern for complex option processing
- Mutual exclusion validation for conflicting options
- Extensive help text with examples and cross-references
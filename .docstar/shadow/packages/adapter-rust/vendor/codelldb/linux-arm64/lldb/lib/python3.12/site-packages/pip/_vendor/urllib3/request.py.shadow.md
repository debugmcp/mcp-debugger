# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/urllib3/request.py
@source-hash: 61358536bed02308
@generated: 2026-02-09T18:01:06Z

## Primary Purpose
HTTP request method abstraction layer for urllib3. Provides a mixin class that adds high-level request methods to classes implementing `urlopen()`. Handles automatic field encoding based on HTTP method type.

## Key Components

### RequestMethods Class (L12-173)
Main mixin class providing convenience methods for HTTP requests:
- **Purpose**: Abstracts field encoding logic for different HTTP methods
- **Encoding Strategy**: URL encoding for GET/HEAD/DELETE/OPTIONS, body encoding for POST/PUT/PATCH
- **Key Attributes**:
  - `_encode_url_methods` (L41): Set of HTTP methods that encode fields in URL
  - `headers` (L44): Default headers for all requests

### Core Methods
- **`__init__()`** (L43-44): Initializes with optional default headers
- **`urlopen()`** (L46-59): Abstract method - must be implemented by inheriting classes
- **`request()`** (L61-83): Main entry point - automatically chooses encoding method based on HTTP verb
- **`request_encode_url()`** (L85-99): Encodes fields as URL query parameters using `urlencode()`
- **`request_encode_body()`** (L101-173): Encodes fields in request body with multipart or form-urlencoded

### Body Encoding Features
The `request_encode_body()` method supports:
- Multipart form data (default) for file uploads
- Standard form-urlencoded as fallback
- File tuple format: `(filename, data, MIME_type)`
- Automatic Content-Type header management
- Custom multipart boundaries

### Module Behavior Override (L176-191)
**RequestModule Class** (L178-189): Custom module class that prevents direct module calls in non-v2 urllib3, providing migration guidance.

## Dependencies
- `filepost.encode_multipart_formdata`: Multipart encoding
- `six.moves.urllib.parse.urlencode`: URL encoding  
- `packages.six`: Python 2/3 compatibility

## Architecture Pattern
Mixin design pattern - intended to be mixed into classes that implement `urlopen()` (e.g., HTTPConnectionPool, PoolManager). Provides a layered API from high-level `request()` to low-level `urlopen()`.

## Critical Invariants
- URL encoding methods: DELETE, GET, HEAD, OPTIONS
- Body encoding methods: All others (POST, PUT, PATCH, etc.)
- Cannot specify both 'fields' and 'body' parameters simultaneously
- Content-Type header automatically managed for body-encoded requests
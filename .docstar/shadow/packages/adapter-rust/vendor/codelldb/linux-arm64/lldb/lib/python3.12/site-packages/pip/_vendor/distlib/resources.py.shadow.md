# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/distlib/resources.py
@source-hash: 2f06cf92c7340352
@generated: 2026-02-09T18:00:40Z

**Primary Purpose**: Resource management system for Python packages that provides unified access to files and data within packages, whether they are stored in filesystem directories or zip archives.

## Core Classes

**ResourceCache (L27-69)**: Cache implementation for resource data with file system storage
- `__init__(base=None)` (L28-32): Initializes cache directory structure
- `is_stale(resource, path)` (L34-43): Always returns True, effectively disabling cache validation
- `get(resource)` (L45-68): Retrieves or caches resource content to filesystem

**ResourceBase (L71-74)**: Abstract base class for all resource objects
- Stores finder reference and resource name

**Resource (L77-108)**: Represents individual files/data within packages
- `as_stream()` (L85-92): Returns new stream for each call via finder
- `file_path` (L94-99): Cached property that ensures resource is cached to filesystem
- `bytes` (L101-103): Cached property for raw resource content
- `size` (L105-107): Cached property for resource size

**ResourceContainer (L110-116)**: Represents directories/containers within packages
- `resources` (L113-115): Cached property listing contained resources

**ResourceFinder (L118-206)**: Default finder for filesystem-based resources
- `skipped_extensions` (L123-126): Platform-specific file extensions to ignore
- `_make_path(resource_name)` (L136-146): Converts resource names to filesystem paths
- `find(resource_name)` (L154-164): Locates and creates appropriate Resource/ResourceContainer
- `get_stream/get_bytes/get_size` (L166-174): Resource content access methods
- `iterator(resource_name)` (L187-205): Recursive traversal of resource hierarchies

**ZipResourceFinder (L208-284)**: Specialized finder for zip archive resources
- Inherits from ResourceFinder but overrides path handling for zip internals
- `_files` (L217-221): Access to zip directory cache (handles PyPy compatibility)
- `_find(path)` (L226-242): Uses bisect search on sorted zip index for efficient lookups
- `_is_directory(path)` (L274-283): Determines if zip path represents directory by checking for children

## Module-Level Functions

**finder(package)** (L313-335): Factory function returning appropriate finder for given package
- Maintains `_finder_cache` for performance
- Uses `_finder_registry` to map loader types to finder classes

**finder_for_path(path)** (L341-358): Creates finder for arbitrary filesystem paths
- Uses pkgutil.get_importer() to determine appropriate loader type

## Key Dependencies
- Inherits from `util.Cache` for caching infrastructure
- Uses `zipimport` for zip file handling
- Integrates with Python import system via `sys.modules` and loader objects

## Architectural Patterns
- Factory pattern via finder registry mapping loader types to finder classes
- Template method pattern with ResourceFinder as base and ZipResourceFinder override
- Lazy loading with cached properties for expensive operations
- Global cache singleton pattern for resource caching

## Registry System
`_finder_registry` (L286-303): Maps Python loader types to appropriate finder classes
- Handles import system changes between Python versions
- Supports custom loader registration via `register_finder()`
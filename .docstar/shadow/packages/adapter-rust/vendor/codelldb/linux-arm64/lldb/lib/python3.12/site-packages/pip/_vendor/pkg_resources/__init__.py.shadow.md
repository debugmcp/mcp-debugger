# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pkg_resources/__init__.py
@source-hash: 8e0e1d4287d593ef
@generated: 2026-02-09T18:00:51Z

## Package Resource API - pkg_resources

**Primary Purpose**: Legacy package resource access system for Python distributions, superseded by `importlib.resources` and `importlib.metadata`. Provides runtime access to package metadata, resources, and entry points.

### Core Architecture

**Distribution Management**:
- `WorkingSet` (L569-978): Central registry managing active distributions on sys.path, handles dependency resolution and activation
- `Distribution` (L593-3027): Represents installed packages with metadata, version info, and dependencies
- `Environment` (L1000-141): Searchable snapshot of available distributions on search paths

**Resource Providers**:
- `IResourceProvider` (L541-567): Protocol defining resource access interface
- `NullProvider` (L1451-644): Base provider for PEP 302 loaders
- `DefaultProvider` (L1680-710): Filesystem-based resource access
- `ZipProvider` (L1781-943): ZIP/egg file resource access with extraction support
- `EggProvider` (L1660-678): Virtual filesystem provider for eggs

**Key Classes & Functions**:

**Entry Points & Requirements**:
- `EntryPoint` (L2446-576): Represents importable objects advertised by distributions
- `Requirement` (L3132-178): Wraps packaging.requirements with legacy compatibility
- `parse_requirements()` (L3119-125): Parse requirement specifications

**Exception Hierarchy**:
- `ResolutionError` (L276-281): Base for dependency resolution failures
- `VersionConflict` (L283-326): Version incompatibility errors
- `DistributionNotFound` (L328-355): Missing package errors

**Resource Management**:
- `ResourceManager` (L163-340): Handles resource extraction and caching
- `get_provider()` (L381-391): Returns resource provider for module/requirement

**Platform & Version Utilities**:
- `get_supported_platform()` (L166-187): Platform compatibility detection
- `compatible_platforms()` (L443-489): Cross-platform compatibility checks
- `safe_name()` (L353-358): Normalize distribution names
- `safe_version()` (L361-370): Normalize version strings

**Global State Management**:
- State persistence via `__getstate__()` (L131-136) and `__setstate__()` (L139-143)
- Global working set initialization via `_initialize_master_working_set()` (L3291-324)

**Namespace Package Support**:
- `declare_namespace()` (L2296-336): Register namespace packages (deprecated)
- `_handle_ns()` (L2225-259): Internal namespace handling

### Key Patterns

**Provider Factory Pattern**: Uses `_provider_factories` registry (L361) to map loader types to provider implementations via `register_loader_type()` (L371-378).

**Distribution Finders**: Registry-based system for discovering distributions via `register_finder()` (L2032-2039) with implementations like `find_eggs_in_zip()` (L2049-2073).

**Lazy Loading**: Distribution metadata loaded on-demand through property access patterns in Distribution class.

**Adapter Pattern**: `_find_adapter()` (L3190-3198) maps object types to appropriate handlers.

### Critical Constraints

- **Deprecation**: Entire module deprecated in favor of `importlib.resources`/`importlib.metadata` (L102-107)
- **Python 3.8+**: Hard requirement enforced at import (L22-23)
- **Write Support**: Conditional based on filesystem capabilities (L57-63)
- **Thread Safety**: Uses `_imp.acquire_lock()` for namespace package operations

### State Variables

Global state tracked via `_state_vars` (L123) including:
- `working_set`: Master working set instance
- `_distribution_finders`: Distribution discovery registry  
- `_namespace_handlers`: Namespace package handlers
- `_namespace_packages`: Registered namespace packages
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/retry.py
@source-hash: 8ebcc3fe6c40e664
@generated: 2026-02-09T18:01:02Z

## Retry Conditions Module for Tenacity

This module defines retry condition strategies that determine when a failed function call should be retried. Part of the Tenacity library's retry mechanism framework.

### Core Architecture

**Abstract Base Class:**
- `retry_base` (L25-37): ABC defining the retry condition interface with `__call__(retry_state)` method that returns bool. Supports logical composition via `__and__` and `__or__` operators.

**Type Definition:**
- `RetryBaseT` (L39): Union type allowing both retry_base instances and callable functions as retry conditions.

### Built-in Retry Strategies

**Always/Never Conditions:**
- `retry_never` (L42-49): Singleton instance that never retries (always returns False)
- `retry_always` (L52-59): Singleton instance that always retries (always returns True)

**Exception-Based Conditions:**
- `retry_if_exception` (L62-79): Base class for exception-based retry logic, accepts predicate function
- `retry_if_exception_type` (L81-93): Retries if exception is instance of specified types (defaults to Exception)
- `retry_if_not_exception_type` (L95-107): Inverse of above - retries except for specified exception types
- `retry_unless_exception_type` (L109-134): Retries until specific exception types occur, also retries on success
- `retry_if_exception_cause_type` (L136-164): Recursively checks exception cause chain for matching types

**Result-Based Conditions:**
- `retry_if_result` (L166-180): Retries if successful result satisfies predicate function
- `retry_if_not_result` (L182-196): Retries if successful result fails predicate function

**Message-Based Conditions:**
- `retry_if_exception_message` (L198-227): Retries based on exact message match or regex pattern
- `retry_if_not_exception_message` (L229-253): Inverse message matching, also retries on success

**Composite Conditions:**
- `retry_any` (L255-263): Logical OR - retries if any child condition returns True
- `retry_all` (L265-272): Logical AND - retries only if all child conditions return True

### Key Dependencies

- `abc` module for abstract base classes
- `re` module for regex pattern matching in message conditions
- `typing` module for type hints
- Forward reference to `RetryCallState` from parent tenacity module

### Critical Invariants

1. All retry conditions must check `retry_state.outcome is not None` before accessing outcome
2. Exception-based conditions must verify `retry_state.outcome.failed` before accessing exception
3. Result-based conditions must verify `not retry_state.outcome.failed` before accessing result
4. Exception cause checking walks the entire `__cause__` chain until None
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/cli/progress_bars.py
@source-hash: 35e75223c839fbaf
@generated: 2026-02-09T18:00:12Z

## Purpose
Provides progress bar implementations for pip's download operations, offering both rich visual progress bars and raw text-based progress indicators.

## Key Components

### Type Definitions
- **DownloadProgressRenderer** (L21): Type alias for callable that wraps iterables to provide progress tracking functionality

### Core Functions

#### _rich_progress_bar (L24-57)
Generator function that creates rich visual progress bars using the Rich library. Handles two display modes:
- **Indeterminate progress** (L32-40): For unknown file sizes - shows spinner, file size, transfer speed, elapsed time
- **Determinate progress** (L41-50): For known file sizes - shows progress bar, download percentage, transfer speed, ETA

Key behavior: Creates Progress instance with 30fps refresh rate, yields chunks while updating progress based on chunk size.

#### _raw_progress_bar (L60-79) 
Generator function for simple text-based progress display. Uses RateLimiter (0.25s intervals) to throttle output frequency. Outputs "Progress X of Y" format to stdout with manual flushing.

#### get_download_progress_renderer (L82-94)
Factory function that returns appropriate progress renderer based on bar_type parameter:
- "on" → rich progress bar (via functools.partial)
- "raw" → raw text progress bar  
- other → no-op iterator

## Dependencies
- **Rich library**: Comprehensive progress bar components (BarColumn, DownloadColumn, etc.)
- **pip._internal.cli.spinners.RateLimiter**: Rate limiting for raw progress updates
- **pip._internal.utils.logging.get_indentation**: Proper visual indentation alignment

## Architectural Notes
- Uses generator pattern for memory-efficient streaming of large downloads
- Progress tracking works by yielding chunks and advancing progress by chunk byte length
- Rich progress bars automatically handle terminal width and visual formatting
- Raw mode provides fallback for environments where rich formatting unavailable
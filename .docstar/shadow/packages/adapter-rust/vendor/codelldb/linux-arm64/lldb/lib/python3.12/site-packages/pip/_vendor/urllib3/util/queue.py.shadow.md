# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/urllib3/util/queue.py
@source-hash: 9d1817f3f797fbf5
@generated: 2026-02-09T17:57:49Z

## Purpose
Custom queue implementation providing LIFO (Last-In-First-Out) stack behavior within urllib3's connection pooling system. Extends Python's standard Queue class with deque-based storage for efficient stack operations.

## Key Components

### LifoQueue Class (L11-22)
- **Purpose**: Implements a thread-safe LIFO queue/stack data structure
- **Inheritance**: Extends `queue.Queue` from six.moves (Python 2/3 compatibility layer)
- **Storage**: Uses `collections.deque` for O(1) append/pop operations at both ends

### Core Methods
- **_init(self, _)** (L12-13): Initializes internal deque storage, ignores maxsize parameter
- **_qsize(self, len=len)** (L15-16): Returns current queue size using optimized len lookup
- **_put(self, item)** (L18-19): Adds item to end of deque (LIFO insertion point)
- **_get(self)** (L21-22): Removes and returns last item added (LIFO retrieval)

## Dependencies
- `collections.deque`: High-performance double-ended queue for internal storage
- `six.moves.queue`: Python 2/3 compatibility wrapper for queue module
- Conditional Python 2 import for Windows compatibility (L6-8)

## Architectural Patterns
- **Template Method Pattern**: Overrides protected methods (_init, _qsize, _put, _get) from base Queue class
- **Thread Safety**: Inherits locking mechanisms from parent Queue class
- **Performance Optimization**: Uses local `len` binding in _qsize for micro-optimization

## Usage Context
Designed for connection pooling where most recently added connections should be reused first, improving connection locality and reducing overhead in HTTP connection management.
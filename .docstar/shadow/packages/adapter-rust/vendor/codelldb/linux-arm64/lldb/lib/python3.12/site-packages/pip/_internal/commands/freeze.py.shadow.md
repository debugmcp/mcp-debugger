# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/commands/freeze.py
@source-hash: daa8d0ac7f4a5a2e
@generated: 2026-02-09T18:00:18Z

## Primary Purpose
Implements pip's `freeze` command that outputs installed packages in requirements.txt format. The command generates a list of installed packages with their versions, suitable for recreating environments.

## Key Components

### Helper Functions
- **`_should_suppress_build_backends()` (L12-13)**: Returns True for Python < 3.12, determining whether to suppress build backend packages from output
- **`_dev_pkgs()` (L16-22)**: Returns set of development packages ("pip", and conditionally "setuptools", "distribute", "wheel" for older Python) that are typically excluded from freeze output

### Main Command Class
- **`FreezeCommand` (L25-108)**: Inherits from `Command`, implements the freeze functionality
  - **`add_options()` (L36-86)**: Configures command-line options including:
    - `-r/--requirement`: Use order from requirements file (L37-49)
    - `-l/--local`: Exclude globally-installed packages in virtualenvs (L50-60)
    - `--user`: Only show user-site packages (L61-67)
    - `--all`: Include normally-skipped dev packages (L69-77)
    - `--exclude-editable`: Skip editable packages (L78-83)
  - **`run()` (L88-108)**: Core execution logic that:
    1. Builds skip set from stdlib packages and optionally dev packages (L89-91)
    2. Adds user-specified excludes (L93-94)
    3. Validates path options (L96)
    4. Calls `freeze()` operation with configured parameters (L98-106)
    5. Outputs each line to stdout (L107)

## Dependencies
- Uses `pip._internal.operations.freeze.freeze` for core freezing logic
- Integrates with pip's CLI infrastructure (`cmdoptions`, `base_command`)
- Leverages `stdlib_pkgs` utility for standard library package detection

## Architecture Notes
- Follows pip's command pattern with separate option configuration and execution phases
- Version-aware behavior for build backend suppression
- Supports multiple output filtering modes (local-only, user-only, exclude patterns)
- Outputs directly to stdout rather than returning data structures

## Key Invariants
- Always excludes standard library packages from output
- Development packages excluded by default unless `--all` specified
- Case-insensitive sorted output order (as documented in class docstring L29)
- Returns SUCCESS status code on completion
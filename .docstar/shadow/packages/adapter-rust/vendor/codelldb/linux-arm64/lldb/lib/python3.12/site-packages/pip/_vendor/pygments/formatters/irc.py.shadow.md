# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/formatters/irc.py
@source-hash: 129fa6f23777be81
@generated: 2026-02-09T17:57:49Z

**Primary Purpose:** IRC formatter for Pygments syntax highlighting that converts tokenized code into IRC-compatible color codes and formatting sequences.

**Core Components:**

- `IRC_COLORS` (L22-51): Static mapping of Pygments token types to color tuples for light/dark backgrounds. Maps tokens like `Keyword`, `String`, `Comment`, etc. to color names with background-specific variants.

- `IRC_COLOR_MAP` (L54-74): Translation table converting human-readable color names to IRC numeric color codes (0-15). Includes ANSI compatibility aliases (e.g., `green: 7`, `red: 11`).

- `ircformat()` (L76-94): Core formatting function that converts color names and text into IRC control sequences. Handles:
  - Bold formatting (`*` prefix/suffix → `\x02`)
  - Italic formatting (`_` prefix/suffix → `\x1D`) 
  - Color codes (`\x03` + zero-padded numeric code)
  - Proper sequence termination

- `IRCFormatter` (L97-154): Main formatter class extending Pygments' `Formatter` base class
  - Constructor (L122-128): Configures background mode, color scheme, and line numbering
  - `_write_lineno()` (L130-133): Helper for optional line number output
  - `format_unencoded()` (L135-154): Primary formatting method that processes token stream, performs token type resolution via parent type lookup, handles newline preservation, and applies IRC formatting

**Key Dependencies:**
- `pip._vendor.pygments.formatter.Formatter`: Base formatter class
- `pip._vendor.pygments.token.*`: Token type definitions  
- `pip._vendor.pygments.util.get_choice_opt`: Option validation utility

**Configuration Options:**
- `bg`: Light/dark background mode selection
- `colorscheme`: Custom token-to-color mapping override
- `linenos`: Enable/disable line numbering

**Token Resolution Strategy:** Uses hierarchical token type lookup by progressively truncating token type until match found in color scheme (L140-142).
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/style.py
@source-hash: 211d9f954977d487
@generated: 2026-02-09T18:00:45Z

## Purpose
Core styling system for Pygments syntax highlighter that defines base Style class and metaclass for token-based styling with color mapping and inheritance.

## Key Components

### Color Mapping & Constants (L14-55)
- `_ansimap` (L14-33): Maps ANSI color names to RGB hex values for 16 standard terminal colors
- `_deprecated_ansicolors` (L35-54): Migration mapping from old #ansixxx format to new color names
- `ansicolors` (L55): Set of valid ANSI color names for validation

### StyleMeta Metaclass (L58-168)
Primary metaclass that processes style definitions and builds runtime style data structures.

**Key Methods:**
- `__new__` (L60-124): Core style processing logic that:
  - Ensures all STANDARD_TYPES tokens have style entries (L62-64)
  - Defines `colorformat` validator for color syntax (L66-79)
  - Builds `_styles` dict with 9-element arrays per token (L81-123)
  - Processes style inheritance and "noinherit" directive (L87-95)
  - Parses style definitions: bold/italic/underline, bg:/border: prefixes, font families

- `style_for_token` (L126-154): Converts internal 9-element style arrays to user-friendly dicts with color resolution and ANSI mapping
- `list_styles`/`styles_token`/`__iter__`/`__len__` (L156-167): Collection interface methods

### Style Base Class (L170-203)
Template class using StyleMeta that defines default styling attributes:
- Background colors: `background_color`, `highlight_color` (L173-176)
- Line number styling: colors and backgrounds (L178-188)  
- `styles` dict for token-specific definitions (L191)
- Metadata: `name`, `aliases`, `web_style_gallery_exclude` (L195-203)

## Style Definition Format
Styles use space-separated string format: `"bold italic bg:#ff0000 #00ff00"`
- Style array format: `[color, bold, italic, underline, bgcolor, border, roman, sans, mono]`
- Supports inheritance via parent token lookup
- "noinherit" directive breaks inheritance chain

## Dependencies
- `pip._vendor.pygments.token`: Token types and STANDARD_TYPES constant

## Architecture Notes
- Metaclass-based approach automatically processes subclass style definitions
- Color validation ensures hex format or ANSI names only
- Inheritance system allows efficient style hierarchies
- ANSI color backward compatibility maintained through deprecation mapping
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/macos.py
@source-hash: c1fb6c6ecbeaea76
@generated: 2026-02-09T18:00:40Z

## Purpose
Implements macOS-specific directory path resolution for the platformdirs library, providing standard locations for application data, configuration, cache, and user files according to Apple's filesystem guidelines.

## Key Classes

### MacOS (L11-126)
Concrete implementation of `PlatformDirsABC` that follows Apple's directory structure conventions. Inherits base functionality for app name/version handling and path construction.

## Core Directory Properties

### Application Data & Config
- `user_data_dir` (L24-26): Returns `~/Library/Application Support/$appname/$version`
- `site_data_dir` (L29-43): Returns `/Library/Application Support/$appname/$version`, with Homebrew detection for `/opt/homebrew/share` prefix
- `user_config_dir` (L46-48): Aliases to `user_data_dir` (macOS convention)
- `site_config_dir` (L51-53): Aliases to `site_data_dir`

### Cache Directories
- `user_cache_dir` (L56-58): Returns `~/Library/Caches/$appname/$version`
- `site_cache_dir` (L61-75): Returns `/Library/Caches/$appname/$version`, with Homebrew support for `/opt/homebrew/var/cache`

### User Directories
- `user_state_dir` (L78-80): Aliases to `user_data_dir` (no separate state dir on macOS)
- `user_log_dir` (L83-85): Returns `~/Library/Logs/$appname/$version`
- Standard user folders (L88-115): Documents, Downloads, Pictures, Movies, Music, Desktop
- `user_runtime_dir` (L118-120): Returns `~/Library/Caches/TemporaryItems/$appname/$version`
- `site_runtime_dir` (L123-125): Aliases to `user_runtime_dir`

## Dependencies
- `os.path`: Path manipulation and user home expansion
- `sys`: Python installation prefix detection for Homebrew
- `.api.PlatformDirsABC`: Abstract base class providing common functionality

## Key Patterns

### Homebrew Detection
Uses `sys.prefix.startswith("/opt/homebrew")` (L38, L70) to detect Homebrew-managed Python installations and adjust paths accordingly.

### Multipath Support
For `site_data_dir` and `site_cache_dir`, when `self.multipath` is enabled, returns colon-separated multiple paths with Homebrew paths taking precedence.

### Path Construction
Leverages inherited `_append_app_name_and_version()` method to consistently append application identifiers to base paths.

### macOS Conventions
- Config directories alias to data directories (Apple's unified approach)
- State directory aliases to data directory (no separate state location)
- Runtime directories use TemporaryItems subfolder of Caches
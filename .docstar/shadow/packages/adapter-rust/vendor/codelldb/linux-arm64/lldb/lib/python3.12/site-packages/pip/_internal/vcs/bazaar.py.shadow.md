# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/vcs/bazaar.py
@source-hash: 10a4ad71068aa4db
@generated: 2026-02-09T18:00:34Z

## Purpose
Pip's Bazaar VCS adapter providing support for Bazaar (bzr) version control operations within pip's package installation system. Implements the VersionControl interface for bzr repositories.

## Key Components

### Bazaar Class (L18-110)
Primary VCS adapter class extending VersionControl base class.

**Configuration:**
- `name = "bzr"` (L19) - VCS identifier
- `dirname = ".bzr"` (L20) - Repository metadata directory
- `repo_name = "branch"` (L21) - Repository type designation
- `schemes` (L22-30) - Supported URL schemes: bzr+http, bzr+https, bzr+ssh, bzr+sftp, bzr+ftp, bzr+lp, bzr+file

**Core Methods:**
- `get_base_rev_args()` (L32-34) - Static method returning revision arguments `["-r", rev]`
- `fetch_new()` (L36-55) - Clones new repository with lightweight checkout, handles verbosity flags
- `switch()` (L57-58) - Switches branch using `bzr switch`
- `update()` (L60-71) - Updates existing checkout, converts standalone branches to bound checkouts
- `get_url_rev_and_auth()` (L73-79) - Class method with SSH URL hotfix, re-adds "bzr+" prefix to ssh:// URLs
- `get_remote_url()` (L81-94) - Extracts remote URL from bzr info, handles both "checkout of branch" and "parent branch" formats
- `get_revision()` (L96-104) - Gets current revision number using `bzr revno`
- `is_commit_id_equal()` (L106-109) - Always returns False (conservative version matching)

## Dependencies
- `pip._internal.utils.misc` - HiddenText, display_path utilities
- `pip._internal.utils.subprocess` - make_command for CLI construction
- `pip._internal.utils.urls` - path_to_url conversion
- `pip._internal.vcs.versioncontrol` - Base VersionControl class and supporting types

## Architecture Notes
- Uses lightweight checkouts by default for space efficiency
- Handles legacy standalone branch conversion in update()
- Conservative commit comparison (always assumes mismatch)
- Registered with global vcs registry (L112)
- SSH URL scheme requires special handling due to bzr+ prefix requirement

## Critical Behaviors
- Verbosity mapping: â‰¤0=quiet, 1=normal, >1=verbose with repeated 'v' flags
- Standalone branch detection via "Standalone " prefix in bzr info output
- Remote URL extraction prioritizes "checkout of branch" over "parent branch"
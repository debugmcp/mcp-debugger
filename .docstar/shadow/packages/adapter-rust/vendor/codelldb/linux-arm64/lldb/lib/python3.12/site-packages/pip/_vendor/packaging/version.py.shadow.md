# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/version.py
@source-hash: c04e2c495945f9dd
@generated: 2026-02-09T18:00:45Z

## Purpose
Implements PEP 440-compliant version parsing and comparison for Python packages. Core functionality for handling semantic versioning with support for epochs, pre/post releases, development releases, and local version identifiers.

## Key Components

### Public API
- `parse(version)` (L47-56): Convenience function that returns a Version object from a string
- `Version` class (L161-452): Main version handling class with full PEP 440 support
- `InvalidVersion` exception (L59-67): Raised when version string is malformed
- `VERSION_PATTERN` (L148): Regex pattern for version validation (exported for external use)

### Core Classes

**_BaseVersion** (L69-113): Abstract base providing comparison operators (`__lt__`, `__le__`, `__eq__`, `__ge__`, `__gt__`, `__ne__`) that delegate to `_key` attribute for ordering.

**Version** (L161-452): Full-featured version implementation extending `_BaseVersion`:
- `__init__(version)` (L188-224): Parses version string using regex, validates format, creates `_Version` namedtuple, generates comparison key
- String representations: `__str__` (L234-265), `__repr__` (L226-232)
- Component properties: `epoch` (L267-276), `release` (L278-292), `pre` (L294-307), `post` (L309-318), `dev` (L320-329), `local` (L331-343)
- Derived properties: `public` (L345-356), `base_version` (L358-381), convenience accessors `major`/`minor`/`micro` (L422-451)
- Classification properties: `is_prerelease` (L383-398), `is_postrelease` (L400-409), `is_devrelease` (L411-420)

### Internal Structure

**_Version** namedtuple (L38-45): Structured representation of parsed version components (epoch, release, dev, pre, post, local).

**Version Parsing Pipeline**:
1. Regex validation against `_VERSION_PATTERN` (L117-146)
2. Component extraction via `_parse_letter_version()` (L454-486) 
3. Local version parsing via `_parse_local_version()` (L492-501)
4. Comparison key generation via `_cmpkey()` (L504-563)

### Key Algorithms

**_cmpkey()** (L504-563): Generates tuple for version comparison implementing PEP 440 precedence rules:
- Strips trailing zeros from release segments
- Uses Infinity/NegativeInfinity sentinels for proper ordering of missing components
- Special handling for dev releases without pre/post to sort before prereleases
- Complex local version sorting with alphanumeric vs numeric segment precedence

### Type System
Complex type hierarchy using Union types for version component representation:
- `CmpKey` (L27-34): Tuple structure for comparison keys
- `LocalType`, `CmpPrePostDevType`, `CmpLocalType` (L20-26): Component-specific types
- Integration with `_structures` module for Infinity types

### Dependencies
- `_structures`: Provides Infinity and NegativeInfinity sentinel values for comparison
- Standard library: `re`, `itertools`, `typing` modules

## Architecture Notes
- Immutable design: Version objects don't change after creation
- Lazy evaluation: Properties access pre-computed `_version` namedtuple 
- Regex-based parsing with comprehensive pattern matching all PEP 440 syntax variations
- Comparison-key approach enables efficient sorting of version collections
- Extensive normalization (letter case, alternative spellings like "alpha"â†’"a")
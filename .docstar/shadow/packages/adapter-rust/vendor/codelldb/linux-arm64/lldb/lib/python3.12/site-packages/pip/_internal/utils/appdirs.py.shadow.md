# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/utils/appdirs.py
@source-hash: b3081c4ca3a6ddd6
@generated: 2026-02-09T18:00:26Z

## Purpose and Responsibility

Wrapper module for pip's internal application directory utilities, providing platform-specific directory paths for cache, configuration, and data storage. Acts as a compatibility layer around the vendored `platformdirs` library, maintaining backward compatibility while allowing gradual migration to the newer API.

## Key Functions

### `user_cache_dir(appname: str) -> str` (L16-17)
Returns user cache directory path by delegating to platformdirs with `appauthor=False`.

### `_macos_user_config_dir(appname: str, roaming: bool = True) -> str` (L20-31)
macOS-specific configuration directory resolver with fallback logic:
- First tries `~/Application Support/{appname}` if directory exists (L22-24)
- Falls back to Linux-style `~/.config/{appname}` path (L26-31)

### `user_config_dir(appname: str, roaming: bool = True) -> str` (L34-38)
Cross-platform user configuration directory resolver:
- Uses custom macOS logic via `_macos_user_config_dir` on Darwin (L35-36)
- Delegates to platformdirs for other platforms (L38)

### `site_config_dirs(appname: str) -> List[str]` (L43-52)
Platform-specific system configuration directories:
- macOS: Returns single-item list with site data directory (L44-45)
- Windows: Returns single-item list with site config directory (L47-49)
- Unix-like: Returns platformdirs result split by path separator plus `/etc` (L51-52)

## Dependencies

- **platformdirs** (via `pip._vendor`): Core directory path resolution
- **os**: Path manipulation and directory existence checking
- **sys**: Platform detection

## Architectural Patterns

- **Adapter Pattern**: Wraps platformdirs API with pip-specific behavior
- **Platform Abstraction**: Provides unified interface across operating systems
- **Gradual Migration Strategy**: Maintains compatibility during transition period

## Critical Behavior

- All functions set `appauthor=False` when calling platformdirs
- macOS config directory has unique fallback behavior to Linux-style paths
- Unix systems always include `/etc` in site config directories
- Path expansion and joining handled consistently across platforms
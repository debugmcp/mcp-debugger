# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/scanner.py
@source-hash: 6ff9eee7f7f71c28
@generated: 2026-02-09T18:00:39Z

**Purpose**: Regex-based text scanner for context-dependent lexical analysis in languages that cannot be parsed with simple regex lexers (like Pascal/Delphi).

**Core Classes**:
- `EndOfText` (L20-24): Exception raised when attempting to match patterns beyond text boundaries
- `Scanner` (L27-104): Main scanning engine with regex caching and position tracking

**Key Methods**:
- `__init__(text, flags=0)` (L35-47): Initializes scanner with text, regex flags, position tracking (pos, start_pos), and regex cache
- `eos` (L49-52): Property indicating end-of-stream status
- `check(pattern)` (L54-64): Non-consuming lookahead match - returns match object without advancing position
- `test(pattern)` (L66-70): Boolean version of check() - returns True/False for pattern existence
- `scan(pattern)` (L72-93): Main scanning method - advances position, updates match/last state, returns success boolean
- `get_char()` (L95-97): Convenience method to consume exactly one character

**State Management**:
- `pos`: Current scanner position
- `start_pos`: Position before last successful match
- `match`: Text of last successful match
- `last`: Previous match text
- `_re_cache`: Performance optimization - caches compiled regex objects

**Architecture**:
- Regex patterns provided as strings, compiled and cached on first use
- Position-based scanning with explicit state tracking
- Lookahead capabilities via non-consuming check operations
- Designed for integration with Pygments lexing framework

**Dependencies**: 
- `re` module for regex compilation and matching

**Usage Pattern**: Intended for lexers requiring contextual keyword recognition where simple regex tokenization is insufficient.
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_compat.py
@source-hash: 6f2e9ebeb627aa48
@generated: 2026-02-09T18:00:38Z

**Primary Purpose:** Compatibility shim that provides a unified `tomllib` interface across Python versions, handling the transition from the third-party `tomli` library to the standard library `tomllib` introduced in Python 3.11.

**Architecture:**
- Simple version-based conditional import (L5-8)
- Exports single `tomllib` module through `__all__` (L1)
- Uses pip's vendored `tomli` as fallback for Python < 3.11 (L8)

**Key Components:**
- **Version check (L5):** Uses `sys.version_info >= (3, 11)` to determine import strategy
- **Standard library import (L6):** Direct import of `tomllib` for Python 3.11+
- **Fallback import (L8):** Maps `pip._vendor.tomli` to `tomllib` alias for older Python versions

**Dependencies:**
- `sys` module for version detection
- `tomllib` (Python 3.11+ standard library)
- `pip._vendor.tomli` (vendored third-party library for older Python)

**Usage Pattern:**
This module allows consuming code to simply `from pip._vendor.pyproject_hooks._compat import tomllib` and use TOML parsing functionality regardless of Python version, abstracting away the underlying implementation differences between `tomli` and `tomllib`.
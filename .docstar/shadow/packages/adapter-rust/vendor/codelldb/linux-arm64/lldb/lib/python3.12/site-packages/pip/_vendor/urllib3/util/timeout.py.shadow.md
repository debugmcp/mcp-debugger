# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/urllib3/util/timeout.py
@source-hash: 730ab874c93cee62
@generated: 2026-02-09T17:57:54Z

## Purpose
HTTP timeout configuration utility for urllib3, providing precise control over connection and read timeouts with support for total timeout constraints and legacy timeout compatibility.

## Key Components

### Core Classes
- **Timeout (L19-271)**: Main timeout configuration class supporting connect, read, and total timeout parameters
  - `__init__(L101-105)`: Initializes timeout values with validation
  - `__repr__(L107-113)`: String representation for debugging

### Class Methods & Validation
- **resolve_default_timeout (L118-120)**: Resolves system default timeout values
- **_validate_timeout (L123-166)**: Validates timeout values, ensuring numeric types > 0 or None
- **from_float (L169-182)**: Creates Timeout from legacy single timeout value (sets both connect and read)

### Instance Methods
- **clone (L184-196)**: Creates deep copy while preserving sentinel objects for socket compatibility
- **start_connect (L198-207)**: Begins timing connection phase, stores timestamp in `_start_connect`
- **get_connect_duration (L209-221)**: Calculates elapsed connection time

### Timeout Resolution Properties
- **connect_timeout (L224-239)**: Computes effective connect timeout considering total timeout constraints
- **read_timeout (L242-271)**: Computes remaining read timeout after connection time, with complex logic for total timeout interaction

### Constants & Utilities
- **_Default (L12)**: Sentinel object distinguishing unset parameters from None
- **DEFAULT_TIMEOUT (L99)**: Maps to socket's `_GLOBAL_DEFAULT_TIMEOUT`
- **current_time (L16)**: Time function preferring monotonic clock when available

## Key Dependencies
- `socket` module: For system default timeout values
- `time` module: For timing operations (monotonic preferred)
- `..exceptions.TimeoutStateError`: For timeout state validation errors

## Architecture Patterns
- **Sentinel Pattern**: Uses `_Default` object to distinguish unset vs explicit None values
- **State Tracking**: Maintains connection start time to calculate remaining timeout budgets
- **Validation Layer**: Comprehensive timeout value validation with descriptive error messages
- **Legacy Compatibility**: Supports both new granular timeouts and legacy single timeout values

## Critical Invariants
- Timeout values must be positive numbers, None (infinite), or DEFAULT_TIMEOUT sentinel
- Connection timer must be started before read timeout calculations when total timeout is set
- Total timeout acts as upper bound for individual connect/read timeouts
- Cloning preserves socket sentinel objects to maintain system integration
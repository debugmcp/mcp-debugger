# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/_manylinux.py
@source-hash: 5e8e15d0f673f2c6
@generated: 2026-02-09T18:00:39Z

**Purpose:** Linux platform compatibility detection for Python packaging, specifically determining manylinux tag compatibility based on glibc versions and system architecture analysis.

## Key Components

**ELF Analysis (L22-69):**
- `_parse_elf()` (L22-27): Context manager for safely parsing ELF binaries, yielding ELFFile or None
- `_is_linux_armhf()` (L30-42): Detects ARM hard-float ABI by examining ELF headers with ARM-specific flags
- `_is_linux_i686()` (L45-52): Identifies 32-bit x86 architecture from ELF machine type
- `_have_compatible_abi()` (L55-69): Main ABI compatibility checker supporting armv7l, i686, and standard 64-bit architectures

**glibc Version Detection (L85-178):**
- `_glibc_version_string_confstr()` (L85-101): Primary method using `os.confstr()` for performance
- `_glibc_version_string_ctypes()` (L104-145): Fallback using ctypes to call `gnu_get_libc_version()`
- `_glibc_version_string()` (L148-150): Orchestrator trying confstr first, then ctypes
- `_parse_glibc_version()` (L153-169): Regex-based parser handling patched glibc versions
- `_get_glibc_version()` (L172-177): Cached version detector returning tuple or (-1, -1)

**Compatibility Logic (L181-204):**
- `_is_compatible()` (L181-204): Core compatibility function checking glibc version requirements and optional `_manylinux` module overrides for specific manylinux standards

**Tag Generation (L217-262):**
- `platform_tags()` (L217-262): Main public API generating iterator of compatible manylinux tags from newest to oldest supported versions
- Uses `_LEGACY_MANYLINUX_MAP` (L207-214) for historical tag mapping (manylinux1/2010/2014)

## Architecture

**Dependencies:**
- `._elffile`: ELF binary parsing (EIClass, EIData, ELFFile, EMachine)
- Standard library: os, sys, ctypes, re, functools, warnings
- Optional runtime: `_manylinux` module for platform-specific overrides

**Key Constants:**
- ARM ABI flags (L14-16): `EF_ARM_ABIMASK`, `EF_ARM_ABI_VER5`, `EF_ARM_ABI_FLOAT_HARD`
- `_LAST_GLIBC_MINOR` (L77): Default minor version assumptions for future glibc majors
- `_GLibCVersion` (L80-82): NamedTuple for version representation

**Flow:** ABI detection → glibc version detection → compatibility checking → tag generation with legacy mapping

## Critical Behavior

The module generates manylinux tags in descending compatibility order, ensuring newer/stricter requirements come first. Architecture-specific glibc minimums apply (2.4 for x86/i686, 2.16 for others). The `_manylinux` module can override default compatibility decisions for platform-specific requirements.
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/utils/entrypoints.py
@source-hash: 62584b4d1976a070
@generated: 2026-02-09T18:00:29Z

## Purpose
Utility module for pip entrypoint management and invocation discovery. Provides mechanisms for backwards compatibility with deprecated entrypoints and intelligent Python/pip invocation detection.

## Key Components

### Constants
- **_EXECUTABLE_NAMES (L10-14)**: List of pip executable names including versioned variants (`pip`, `pip3`, `pip3.12`). On Windows (L15-20), extends with `.exe` variants using itertools.product.

### Core Functions

- **_wrapper(args) (L23-43)**: Central entrypoint wrapper for deprecated pip scripts. Issues deprecation warning directing users to use `python -m pip` instead of direct pip invocation. Returns result of `main(args)` call. Critical for backwards compatibility.

- **get_best_invocation_for_this_pip() (L46-70)**: Intelligent pip invocation discovery algorithm. First attempts to find suitable pip executable in PATH that matches current environment's binary directory. Falls back to `python -m pip` pattern if no direct executable match found. Uses `shutil.which()` and `os.path.samefile()` for reliable executable matching.

- **get_best_invocation_for_this_python() (L73-84)**: Determines optimal Python interpreter invocation. Prefers basename if it resolves to same executable via PATH, otherwise returns full `sys.executable` path.

## Dependencies
- Standard library: `itertools`, `os`, `shutil`, `sys`
- Internal: `pip._internal.cli.main.main`, `pip._internal.utils.compat.WINDOWS`

## Architecture Notes
- Cross-platform compatibility through `WINDOWS` constant usage
- PATH-aware executable resolution prevents invoking wrong pip/Python versions
- Deprecation strategy maintains user experience while encouraging migration
- Robust file system operations using `os.path.samefile()` for reliable executable identity checking

## Key Behaviors
- Windows-specific executable extension handling (.exe variants)
- Environment-aware binary directory detection (Scripts vs bin)
- Fallback chain: direct executable → versioned executable → module invocation
- Case-insensitive path handling via `os.path.normcase()`
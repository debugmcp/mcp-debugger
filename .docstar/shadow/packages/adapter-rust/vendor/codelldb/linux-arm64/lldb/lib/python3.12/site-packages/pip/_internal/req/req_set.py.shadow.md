# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/req/req_set.py
@source-hash: 8f77ac1b4b3a4b3a
@generated: 2026-02-09T18:00:24Z

## Primary Purpose
Container class for managing pip package installation requirements during the dependency resolution and installation process. Maintains both named and unnamed requirements with efficient lookup capabilities.

## Key Components

### RequirementSet Class (L12-82)
Main container class that stores and manages InstallRequirement objects.

**Constructor (L13-19):**
- `check_supported_wheels: bool` - Controls wheel compatibility validation
- `requirements: Dict[str, InstallRequirement]` - OrderedDict mapping canonicalized package names to requirements
- `unnamed_requirements: List[InstallRequirement]` - Requirements without package names (e.g., URLs, local paths)

**String Representations (L21-39):**
- `__str__()` - Returns space-separated requirement strings, excludes transitive dependencies (`comes_from` filter)
- `__repr__()` - Detailed object representation with requirement count and list

**Requirement Management (L41-66):**
- `add_unnamed_requirement()` - Adds requirements without names (assertions enforce no name)
- `add_named_requirement()` - Adds named requirements using canonicalized names as keys
- `has_requirement()` - Checks existence, excludes constraint-only requirements
- `get_requirement()` - Retrieves by canonicalized name, raises KeyError if not found

**Query Properties (L67-82):**
- `all_requirements` - Combined list of all named and unnamed requirements
- `requirements_to_install` - Filters out constraints and already-satisfied requirements

## Key Dependencies
- `pip._vendor.packaging.utils.canonicalize_name` - Package name normalization
- `pip._internal.req.req_install.InstallRequirement` - Core requirement objects
- `collections.OrderedDict` - Maintains insertion order for requirements

## Architectural Patterns
- **Separation of Concerns**: Named vs unnamed requirements handled separately
- **Canonicalization**: All named lookups use normalized package names for consistency
- **Filtering Logic**: Multiple views of requirements based on installation status and constraint type
- **Assertion-based Validation**: Enforces invariants about requirement naming

## Critical Invariants
- Named requirements must have non-None names
- Unnamed requirements must have None names  
- All named requirements stored with canonicalized keys
- OrderedDict preserves requirement addition order
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/commands/wheel.py
@source-hash: 789461affaa834dc
@generated: 2026-02-09T18:00:20Z

## Primary Purpose
Implements pip's `wheel` command for building wheel archives from requirements and dependencies. Creates distributable wheel packages that can be installed without recompilation.

## Key Components

### WheelCommand Class (L24-182)
Main command class inheriting from `RequirementCommand`. Coordinates the wheel building process through dependency resolution, requirement preparation, and wheel construction.

**Key Methods:**
- `add_options()` (L44-101): Configures command-line options including wheel directory (`--wheel-dir`), build isolation, PEP 517 settings, binary preferences, and verification options
- `run()` (L104-182): Core execution logic that orchestrates the wheel building workflow

### Core Workflow (L104-182)
1. **Setup Phase** (L105-134): Initializes session, package finder, normalizes wheel directory, creates build tracker and temporary directory
2. **Resolution Phase** (L120-147): Gets requirements, validates legacy setup.py options, creates wheel cache, preparer, and resolver
3. **Building Phase** (L149-181): Filters requirements into wheels vs. buildable packages, builds wheels using `build()` function, copies successful builds to target directory

## Dependencies
- **Internal pip modules**: Cache management (`WheelCache`), CLI options (`cmdoptions`), requirement handling (`RequirementCommand`, `InstallRequirement`)
- **Build system**: Uses `wheel_builder.build()` and `should_build_for_wheel_command()` for actual wheel construction
- **File operations**: `shutil` for copying wheels, path utilities for directory management

## Architecture Patterns
- **Command pattern**: Extends `RequirementCommand` base class
- **Context management**: Uses `@with_cleanup` decorator and `enter_context()` for resource cleanup
- **Factory pattern**: Creates preparer and resolver instances through inherited factory methods
- **Error aggregation**: Collects build failures and reports them collectively

## Critical Invariants
- Wheel directory must exist and be writable (ensured by `ensure_dir()` at L110)
- Built wheels are verified unless `--no-verify` is specified (L162)
- Failed builds prevent successful command completion (L179-180)
- Successful builds are copied from cache to target directory (L171)

## Command Options
Supports comprehensive pip options including dependency management (`--no-deps`), build configuration (`--no-build-isolation`, PEP 517 options), index settings, and wheel-specific options like verification control.
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/rule.py
@source-hash: d1f35a4bf68445ad
@generated: 2026-02-09T18:01:04Z

## Rule - Horizontal Rule Renderable

Implements a console-renderable horizontal rule (divider line) component with optional title text. Part of the Rich text rendering library, designed for drawing styled horizontal separators in terminal output.

### Primary Class

**Rule (L12-114)** - Main renderable class inheriting from JupyterMixin
- Renders horizontal lines with optional centered, left, or right-aligned titles
- Handles ASCII fallback for non-ASCII characters when required
- Supports customizable line characters, styling, and alignment

### Key Methods

**`__init__` (L23-44)** - Constructor with validation
- Parameters: title (str/Text), characters (str), style, end character, align method
- Validates character cell width ≥ 1 and alignment values
- Default: horizontal line character "─", center alignment

**`__rich_console__` (L49-103)** - Core rendering logic
- Handles width constraints and ASCII-only mode fallback (L54-58)
- No title: renders simple rule line (L61-63)  
- With title: implements three alignment strategies:
  - Center (L80-90): splits available width, adds padding spaces
  - Left (L91-95): title first, then fill remaining width
  - Right (L96-100): fill width first, then title
- Uses cell-aware text truncation and width calculations

**`_rule_line` (L105-109)** - Helper for title-less rules
- Generates repeated characters to fill specified width
- Applies cell size constraints

**`__rich_measure__` (L111-114)** - Measurement interface
- Returns minimum/maximum width of 1 (flexible width)

### Dependencies

- `.cells`: cell_len, set_cell_size for Unicode-aware width handling
- `.console`: Console, ConsoleOptions, RenderResult for rendering interface  
- `.text`: Text class for styled text manipulation
- `.align`: AlignMethod type for alignment validation
- `.style`: Style for text styling
- `.jupyter`: JupyterMixin for Jupyter notebook compatibility

### Key Patterns

- **Cell-aware rendering**: Uses cell_len() throughout for proper Unicode/emoji width handling
- **ASCII fallback**: Automatically substitutes "-" for non-ASCII characters in ASCII-only mode
- **Width-responsive**: Adapts rendering strategy based on available terminal width
- **Rich protocol**: Implements `__rich_console__` and `__rich_measure__` for Rich integration

### Test/Demo Code (L117-130)
Command-line interface for testing Rule rendering with custom text input.
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/formatter.py
@source-hash: 27d38bf615cb24a6
@generated: 2026-02-09T18:00:39Z

## Primary Purpose
Base formatter class for the Pygments syntax highlighting library. Defines the abstract interface and common functionality for converting token streams into formatted text output.

## Key Classes and Functions

### `Formatter` (L25-124)
Abstract base class for all Pygments formatters. Provides:
- **Constructor** (L83-97): Processes common options (style, full, title, encoding, outencoding)
- **`get_style_defs()`** (L99-112): Returns style definitions (CSS, etc.) - must be overridden by subclasses
- **`format()`** (L114-124): Main formatting method that handles encoding wrapper and delegates to `format_unencoded()`

### `_lookup_style()` (L19-22)
Utility function that resolves style names to Style objects using `get_style_by_name()`.

## Class Attributes
- `name` (L68): Human-readable formatter name
- `aliases` (L72): List of short identifiers for formatter lookup
- `filenames` (L77): Fnmatch patterns for supported file extensions
- `unicodeoutput` (L81): Boolean indicating Unicode string output capability

## Dependencies
- `codecs`: For encoding wrapper creation
- `pip._vendor.pygments.util.get_bool_opt`: Boolean option parsing
- `pip._vendor.pygments.styles.get_style_by_name`: Style resolution

## Architecture Patterns
- **Template Method Pattern**: `format()` handles encoding, delegates actual formatting to `format_unencoded()` (not implemented in base class)
- **Option Processing**: Standardized constructor pattern with keyword arguments and fallback defaults
- **Style Resolution**: Flexible style specification (string name or Style object)

## Critical Invariants
- Encoding handling: "guess"/"chardet" values are normalized to "utf-8"
- `outencoding` option overrides `encoding` if provided
- All formatters must implement `format_unencoded()` method (implied interface)
- Base `get_style_defs()` returns empty string - subclasses should override
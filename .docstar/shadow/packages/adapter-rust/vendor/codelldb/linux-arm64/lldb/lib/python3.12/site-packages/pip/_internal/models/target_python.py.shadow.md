# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/models/target_python.py
@source-hash: d97687dab679645f
@generated: 2026-02-09T18:00:22Z

## Purpose
Defines the `TargetPython` class that encapsulates properties of a Python interpreter for package installation, download, and compatibility checking. Acts as a configuration object for determining which Python packages are compatible with a target environment.

## Key Components

### TargetPython Class (L10-121)
Central class representing a target Python interpreter configuration with the following responsibilities:
- Stores interpreter properties: platforms, Python version, ABIs, implementation
- Generates and caches compatibility tags for package selection
- Provides formatted display of configuration

**Key Attributes (L16-25):**
- `_given_py_version_info`: Original version info as provided by user
- `abis`, `implementation`, `platforms`: Compatibility constraints 
- `py_version`, `py_version_info`: Normalized version information
- `_valid_tags`, `_valid_tags_set`: Cached compatibility tags (list and set forms)

**Constructor (L27-66):**
- Accepts optional platforms, py_version_info, abis, implementation
- Defaults to current system's `sys.version_info[:3]` if no version specified
- Normalizes version info and derives string representation
- Initializes tag caches to None

**Key Methods:**
- `format_given()` (L68-86): Creates human-readable string of non-None configuration attributes
- `get_sorted_tags()` (L88-111): Returns PEP 425 compatibility tags in preference order, with lazy caching
- `get_unsorted_tags()` (L113-121): Returns same tags as set for performance-optimized lookups

## Dependencies
- `pip._vendor.packaging.tags.Tag`: Standard packaging tag representation
- `pip._internal.utils.compatibility_tags.get_supported()`: Core tag generation logic
- `pip._internal.utils.misc.normalize_version_info()`: Version normalization utility

## Architecture Patterns
- **Lazy Loading**: Tags are computed and cached only when first requested
- **Dual Caching**: Maintains both list (ordered) and set (fast lookup) versions of tags
- **Configuration Object**: Encapsulates all parameters needed for compatibility determination
- **Slots Optimization**: Uses `__slots__` for memory efficiency

## Critical Behavior
- When no py_version_info provided, uses current interpreter's version but passes None to get_supported() for special default logic (L95-101)
- Tag caching ensures expensive compatibility computation happens only once per instance
- Version string format is always "major.minor" regardless of input tuple length (L56)
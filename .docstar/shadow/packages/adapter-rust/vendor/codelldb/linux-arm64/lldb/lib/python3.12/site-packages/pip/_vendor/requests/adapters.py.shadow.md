# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/requests/adapters.py
@source-hash: 27b55e571281bdac
@generated: 2026-02-09T18:00:53Z

## Purpose
Transport adapter module for the Requests library, providing HTTP/HTTPS connection management and request sending functionality via urllib3. Core component implementing the adapter pattern for pluggable transport backends.

## Key Classes

### BaseAdapter (L137-165)
Abstract base class defining the transport adapter interface. Contains two abstract methods:
- `send()` (L143-160): Core method for sending PreparedRequest objects, returns Response
- `close()` (L162-164): Cleanup method for adapter resources

### HTTPAdapter (L167-719)
Main HTTP/HTTPS transport adapter implementation built on urllib3. Manages connection pooling, SSL/TLS verification, proxy handling, and request lifecycle.

**Key Attributes:**
- `__attrs__` (L194-200): Serialization attributes list
- Connection pool settings: `_pool_connections`, `_pool_maxsize`, `_pool_block`
- `max_retries`: Retry configuration using urllib3.Retry
- `poolmanager`: urllib3.PoolManager instance for connection management
- `proxy_manager`: Dict caching proxy managers by URL

**Core Methods:**
- `__init__()` (L202-222): Initializes with pool settings and retry configuration
- `init_poolmanager()` (L240-264): Creates urllib3 PoolManager with specified parameters
- `proxy_manager_for()` (L266-302): Returns cached or new ProxyManager, handles SOCKS proxies
- `get_connection_with_tls_context()` (L446-493): Modern connection retrieval with TLS context
- `get_connection()` (L495-534): **DEPRECATED** - Legacy connection method, issues warnings
- `send()` (L613-719): Main request sending method with comprehensive error handling
- `build_response()` (L359-394): Converts urllib3 response to Requests Response object

**SSL/TLS Handling:**
- `cert_verify()` (L304-357): Configures SSL certificate verification
- `build_connection_pool_key_attributes()` (L396-444): Builds pool key for connection reuse

## Key Functions

### _urllib3_request_context() (L90-134)
Builds urllib3 connection context from request parameters. Handles SSL context optimization, certificate verification settings, and client certificate configuration.

## Configuration Constants
- `DEFAULT_POOLBLOCK = False` (L71)
- `DEFAULT_POOLSIZE = 10` (L72) 
- `DEFAULT_RETRIES = 0` (L73)
- `DEFAULT_POOL_TIMEOUT = None` (L74)

## SSL Context Management
Module creates a preloaded SSL context (`_preloaded_ssl_context`, L80-87) for performance optimization, falling back to None if SSL module unavailable.

## Dependencies
- urllib3: Core HTTP client functionality, connection pooling, proxy support
- requests.models: Response object construction
- requests.exceptions: Exception mapping from urllib3 to requests
- requests.utils: URL processing, authentication, certificate handling

## Error Handling Pattern
Comprehensive exception mapping from urllib3 exceptions to requests exceptions in `send()` method (L681-717), preserving request context and providing consistent error interface.

## Proxy Support
Full proxy support including HTTP, HTTPS, and SOCKS proxies via urllib3. Handles proxy authentication, URL validation, and manager caching.
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/urllib3/packages/six.py
@source-hash: 6fd2ccd30057bfb1
@generated: 2026-02-09T17:58:01Z

## Purpose
Python 2/3 compatibility library providing unified interfaces for code that runs on both Python versions. The core abstraction is lazy loading of moved/renamed modules and attributes between Python versions through descriptor-based proxies.

## Key Components

### Version Detection & Type Aliases (L36-78)
- `PY2`, `PY3`, `PY34`: Version flags for conditional logic
- `string_types`, `integer_types`, `class_types`, `text_type`, `binary_type`: Unified type references
- `MAXSIZE`: Platform-specific maximum size detection with Jython handling

### Lazy Loading Infrastructure (L91-238)
- `_LazyDescr` (L91-105): Base descriptor that resolves and caches attributes on first access
- `MovedModule` (L107-125): Lazy loader for entire modules with version-specific names
- `MovedAttribute` (L141-163): Lazy loader for individual attributes/functions
- `_LazyModule` (L127-140): Base class for lazy module proxies
- `_SixMetaPathImporter` (L165-238): PEP302 meta path importer implementing module loading protocol

### Moves System (L240-542)
- `_MovedItems` (L243-349): Central registry of all moved objects
- Extensive attribute mappings (L250-333): Maps Python 2 names to Python 3 equivalents
- Specialized urllib modules (L352-541): Complete urllib restructuring between versions
- `add_move`/`remove_move` (L544-558): Runtime modification of moves registry

### Function/Method Compatibility (L560-635)
- Method attribute name mappings (`_meth_func`, `_func_code`, etc.)
- `advance_iterator`/`next` (L578-586): Iterator protocol unification
- `callable` (L589-595): Restored callable function for Python 3.0-3.1
- Method creation utilities (L597-635): Cross-version bound/unbound method handling

### Dictionary Iteration (L637-682)
- `iterkeys`, `itervalues`, `iteritems`, `iterlists`: Unified iteration interface
- `viewkeys`, `viewvalues`, `viewitems`: Dictionary view compatibility

### String/Bytes Handling (L684-743)
- `b()`, `u()` (L686-722): Byte/unicode literal functions
- `unichr`, `int2byte`, `byte2int`: Character/byte conversion utilities
- `StringIO`, `BytesIO`: Unified IO classes
- Test assertion method name mapping

### Exception Handling (L764-812)
- `reraise` (L764-796): Cross-version exception re-raising with traceback preservation
- `raise_from` (L799-812): Exception chaining for Python 3+ (no-op in Python 2)

### Advanced Utilities (L814-1050)
- `print_` (L814-884): Python 2/3 compatible print function with flush support
- `exec_` (L777-787): Cross-version code execution
- `wraps` (L894-927): functools.wraps backport for Python < 3.4
- `with_metaclass` (L929-951): Metaclass creation utility
- `add_metaclass` (L953-971): Class decorator for metaclass application
- String coercion functions (L973-1031): `ensure_binary`, `ensure_str`, `ensure_text`
- `python_2_unicode_compatible` (L1033-1050): Decorator for Unicode string handling

### Module Initialization (L1052-1076)
- Package setup and meta path importer installation
- Cleanup of conflicting six importers
- PEP 302/451 compliance setup

## Architecture Patterns
- **Lazy Loading**: Descriptors defer expensive imports until first access
- **Version Branching**: Conditional logic based on `PY2`/`PY3` flags
- **Proxy Pattern**: `_LazyModule` and `MovedModule` provide transparent access
- **Meta Path Import Hook**: Custom importer enables `six.moves` namespace

## Dependencies
- Standard library modules: `sys`, `types`, `functools`, `itertools`, `operator`
- Conditional imports: `importlib.util` (Python 3.4+), `io`, `struct`

## Critical Invariants
- All moved attributes must be registered in `_moved_attributes` before module initialization
- Meta path importer must be installed for `six.moves` imports to work
- Lazy descriptors remove themselves after first resolution to avoid repeated lookups
# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/commands/hash.py
@source-hash: 11554ebaf1ada0f1
@generated: 2026-02-09T18:00:11Z

**Primary Purpose**: Implements pip's `hash` command for computing cryptographic hashes of local package archives, enabling repeatable installations with hash verification in requirements files.

**Core Architecture**:
- **HashCommand (L15-50)**: Main command class inheriting from pip's base Command class
  - Computes hashes for one or more local files using configurable algorithms
  - Outputs results in `--hash=algorithm:digest` format suitable for requirements files
  - Supports all algorithms from `STRONG_HASHES` with `FAVORITE_HASH` as default

**Key Methods**:
- **add_options() (L26-38)**: Configures CLI argument parser with `-a/--algorithm` option
  - Restricts choices to cryptographically strong hash algorithms
  - Uses `FAVORITE_HASH` constant as sensible default
- **run() (L40-50)**: Main execution logic
  - Validates at least one file path provided (returns ERROR if none)
  - Processes each file path, computing and outputting hash
  - Returns SUCCESS on completion

**Utility Functions**:
- **_hash_of_file() (L53-59)**: Core hashing implementation
  - Opens file in binary mode for accurate hash computation
  - Uses chunked reading via `read_chunks()` for memory efficiency on large files
  - Returns hexadecimal digest string

**Dependencies**:
- `pip._internal.utils.hashes`: Provides `FAVORITE_HASH` and `STRONG_HASHES` constants
- `pip._internal.utils.misc`: Supplies `read_chunks()` and `write_output()` utilities
- `pip._internal.cli.base_command`: Base command infrastructure

**Usage Pattern**: Command outputs hash strings in format compatible with pip's `--hash` requirement syntax, enabling deterministic package verification during installation.

**Configuration**: `ignore_require_venv = True` allows execution outside virtual environments, appropriate for a read-only hash computation utility.
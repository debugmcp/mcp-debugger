# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/unix.py
@source-hash: 09c8bd5aab77e5d0
@generated: 2026-02-09T18:00:43Z

## Purpose
Unix/Linux platform implementation of the PlatformDirs API, providing XDG Base Directory Specification compliant paths for application data, configuration, cache, and user media directories.

## Key Components

### Unix Class (L23-236)
Main class implementing `PlatformDirsABC` for Unix/Linux systems. Follows XDG Base Directory Specification with environment variable overrides.

**Core Directory Properties:**
- `user_data_dir` (L37-45): Returns `$XDG_DATA_HOME/$appname/$version` or `~/.local/share/$appname/$version`
- `site_data_dir` (L55-65): Returns system-wide data directories from `$XDG_DATA_DIRS` (default: `/usr/local/share`, `/usr/share`)
- `user_config_dir` (L68-76): Returns `$XDG_CONFIG_HOME/$appname/$version` or `~/.config/$appname/$version`
- `site_config_dir` (L86-96): Returns system config directories from `$XDG_CONFIG_DIRS` (default: `/etc/xdg`)
- `user_cache_dir` (L99-107): Returns `$XDG_CACHE_HOME/$appname/$version` or `~/.cache/$appname/$version`
- `site_cache_dir` (L110-112): Returns `/var/cache/$appname/$version`
- `user_state_dir` (L115-123): Returns `$XDG_STATE_HOME/$appname/$version` or `~/.local/state/$appname/$version`

**User Media Directories:**
- `user_documents_dir` (L135-137): `~/Documents` (XDG_DOCUMENTS_DIR override)
- `user_downloads_dir` (L140-142): `~/Downloads` (XDG_DOWNLOAD_DIR override) 
- `user_pictures_dir` (L145-147): `~/Pictures` (XDG_PICTURES_DIR override)
- `user_videos_dir` (L150-152): `~/Videos` (XDG_VIDEOS_DIR override)
- `user_music_dir` (L155-157): `~/Music` (XDG_MUSIC_DIR override)
- `user_desktop_dir` (L160-162): `~/Desktop` (XDG_DESKTOP_DIR override)

**Runtime Directories:**
- `user_runtime_dir` (L165-182): Platform-specific runtime dirs with BSD variants
- `site_runtime_dir` (L185-204): System runtime directories with BSD support

**Path Utilities:**
- `site_data_path`, `site_config_path`, `site_cache_path` (L207-219): Path objects for site directories
- `_first_item_as_path_if_multipath` (L221-225): Extracts first path from multipath strings
- `iter_config_dirs`, `iter_data_dirs` (L227-235): Iterators for all config/data directories

### Platform Detection (L13-21)
Conditionally imports `getuid()` function based on platform, with Windows fallback that raises RuntimeError.

### Helper Functions
- `_get_user_media_dir` (L238-245): Resolves user media directories with XDG and fallback support
- `_get_user_dirs_folder` (L248-270): Parses `user-dirs.dirs` config file for XDG user directory mappings

## Dependencies
- Standard library: `os`, `sys`, `configparser`, `pathlib`
- Local: `.api.PlatformDirsABC` (parent abstract class)

## Key Patterns
- XDG Base Directory Specification compliance with environment variable overrides
- Multipath support for site directories (colon-separated paths)
- BSD platform detection for runtime directory variations
- ConfigParser usage for XDG user-dirs configuration parsing
- Consistent app name/version path appending via inherited `_append_app_name_and_version`

## Architectural Notes
- Inherits from `PlatformDirsABC` providing cross-platform directory interface
- Properties use lazy evaluation with environment variable checks
- Site directories support both single and multipath modes via `self.multipath` flag
- Runtime directories have special BSD handling for `/var/run` vs `/run` paths
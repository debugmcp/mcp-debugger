# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_internal/models/index.py
@source-hash: b589cbf28c468b86
@generated: 2026-02-09T18:00:18Z

## Purpose
Defines a model for Python package index endpoints, providing standardized access to package repository URLs and their API endpoints.

## Key Components

### PackageIndex Class (L4-22)
Core model representing a package index with pre-computed endpoint URLs:
- **`__init__(url, file_storage_domain)`** (L9-19): Initializes index with base URL and computes derived endpoints
- **`_url_for_path(path)`** (L21-22): Helper method for constructing URLs relative to base URL
- **Attributes**: 
  - `url`: Base index URL
  - `netloc`: Network location extracted from URL
  - `simple_url`: Simple API endpoint (`/simple`)
  - `pypi_url`: PyPI API endpoint (`/pypi`) 
  - `file_storage_domain`: Domain for file downloads (security feature)

### Pre-configured Instances (L25-28)
- **`PyPI`** (L25): Production PyPI index instance
- **`TestPyPI`** (L26-28): Test PyPI index instance

## Dependencies
- `urllib.parse`: URL manipulation and parsing

## Architecture Notes
- Uses `__slots__` for memory efficiency
- Implements temporary security hack via `file_storage_domain` to block external dependency attacks
- Pre-computes common endpoint URLs for performance
- Follows immutable data pattern once initialized

## Usage Context
Part of pip's internal package resolution system, used to standardize access to different package indexes and their API endpoints.
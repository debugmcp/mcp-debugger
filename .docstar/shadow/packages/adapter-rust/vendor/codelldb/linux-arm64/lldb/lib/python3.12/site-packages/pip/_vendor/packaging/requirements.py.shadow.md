# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/requirements.py
@source-hash: 818c9148075bac8c
@generated: 2026-02-09T18:00:37Z

## Purpose
PEP 508 requirement string parser and representation for Python package dependencies. Provides structured parsing and manipulation of requirement strings like "requests>=2.0[security]; python_version>='3.6'".

## Core Classes

### InvalidRequirement (L15-18)
Exception raised for malformed requirement strings. Inherits from ValueError and references PEP 508 for specification compliance.

### Requirement (L21-91)
Main class for parsing and representing package requirements. Parses requirement strings into structured components.

**Constructor (L34-47):**
- Takes requirement string, delegates to `_parse_requirement()`
- Converts `ParserSyntaxError` to `InvalidRequirement`
- Initializes structured attributes from parsed result

**Key Attributes:**
- `name` (L40): Package name
- `url` (L41): Optional direct URL 
- `extras` (L42): Set of optional features
- `specifier` (L43): Version constraints as SpecifierSet
- `marker` (L44-47): Environment markers with special initialization pattern

**String Representation (L49-68):**
- `_iter_parts()` (L49-65): Yields requirement components in canonical order
- `__str__()` (L67-68): Reconstructs requirement string from parts
- `__repr__()` (L70-71): Debug representation

**Equality & Hashing (L73-91):**
- `__hash__()` uses canonicalized name and all parts
- `__eq__()` compares all attributes with name canonicalization

## Dependencies
- `_parser.parse_requirement`: Core parsing logic
- `_tokenizer.ParserSyntaxError`: Parse error handling  
- `markers.Marker, _normalize_extra_values`: Environment marker processing
- `specifiers.SpecifierSet`: Version constraint handling
- `utils.canonicalize_name`: Name normalization

## Key Patterns
- Error conversion pattern: catching parser errors and re-raising as domain exceptions
- Lazy marker initialization with `__new__()` and direct attribute assignment
- Canonical string reconstruction for consistent hashing/equality
- Name canonicalization for case-insensitive comparison
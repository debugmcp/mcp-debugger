# packages/adapter-rust/vendor/codelldb/linux-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/plugin.py
@source-hash: 8f5161df5d116d5d
@generated: 2026-02-09T18:00:39Z

**Primary Purpose:** Pygments plugin discovery and loading system that provides a unified interface for finding external lexers, formatters, styles, and filters through Python's entry point mechanism.

**Architecture:** The module implements a graceful fallback strategy for entry point discovery:
1. First attempts `importlib.metadata` (Python 3.8+)
2. Falls back to `importlib_metadata` backport
3. Finally tries `pip._vendor.pkg_resources`
4. Returns empty list if all imports fail

**Key Constants (L41-44):**
- `LEXER_ENTRY_POINT`: 'pygments.lexers'
- `FORMATTER_ENTRY_POINT`: 'pygments.formatters' 
- `STYLE_ENTRY_POINT`: 'pygments.styles'
- `FILTER_ENTRY_POINT`: 'pygments.filters'

**Core Function:**
- `iter_entry_points(group_name)` (L47-68): Central plugin discovery function with graceful import fallback and API compatibility handling for both new (Python 3.10+) and legacy entry point interfaces

**Plugin Discovery Functions:**
- `find_plugin_lexers()` (L71-73): Yields loaded lexer classes
- `find_plugin_formatters()` (L76-78): Yields (name, formatter_class) tuples
- `find_plugin_styles()` (L81-83): Yields (name, style_class) tuples  
- `find_plugin_filters()` (L86-88): Yields (name, filter_class) tuples

**Entry Point Configuration Examples:**
The module documents the expected setup.py/pyproject.toml entry point format for each plugin type, including special formatter extension syntax with leading slash (L21).

**Dependencies:** 
- Standard library: `importlib.metadata` (Python 3.8+)
- Backport: `importlib_metadata` 
- Fallback: `pip._vendor.pkg_resources`

**Key Patterns:**
- Defensive programming with nested try/except for import compatibility
- Generator-based lazy loading of plugins
- Consistent naming convention for entry point groups
- Version-aware API handling for entry_points() method calls
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/__init__.py
@source-hash: 4d5193c67cb8d13a
@generated: 2026-02-09T17:58:51Z

## Primary Purpose
Main entry point module for Pygments syntax highlighting package, providing high-level API functions for lexing and formatting code. Version 2.17.2 (L29).

## Key Functions

### `lex(code, lexer)` (L35-49)
- Tokenizes source code using provided lexer instance
- Returns iterable of tokens via `lexer.get_tokens(code)`
- Error handling: Catches TypeError and provides helpful message if user passes lexer class instead of instance
- Dependencies: `pip._vendor.pygments.lexer.RegexLexer` for type checking

### `format(tokens, formatter, outfile=None)` (L52-74)
- Formats token stream using provided formatter instance
- If no outfile specified, returns formatted string using StringIO/BytesIO based on formatter encoding
- If outfile provided, writes directly to file object
- Error handling: Similar TypeError protection for formatter class vs instance confusion
- Dependencies: `pip._vendor.pygments.formatter.Formatter`, `io.StringIO`, `io.BytesIO`

### `highlight(code, lexer, formatter, outfile=None)` (L77-82)
- High-level convenience function combining lex + format operations
- Simple composition: `format(lex(code, lexer), formatter, outfile)`

## Module Structure
- **Exports**: Only `lex`, `format`, `highlight` functions (L32)
- **Dependencies**: Internal Pygments modules via pip vendor namespace
- **Version**: Fixed at '2.17.2' for this vendored copy

## Architectural Patterns
- **Error handling pattern**: Both `lex()` and `format()` use identical TypeError catching to detect common user mistake of passing classes instead of instances
- **IO abstraction**: Smart handling of string vs binary output based on formatter encoding
- **Functional composition**: `highlight()` as simple composition of lower-level functions

## Key Invariants
- Lexer and formatter parameters must be instantiated objects, not classes
- Token stream from `lex()` is compatible input for `format()`
- Output file objects must implement `write()` method
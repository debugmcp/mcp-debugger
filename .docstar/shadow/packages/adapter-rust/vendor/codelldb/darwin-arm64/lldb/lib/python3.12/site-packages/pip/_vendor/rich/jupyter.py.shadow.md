# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/jupyter.py
@source-hash: 432a0aa04ffc21d0
@generated: 2026-02-09T17:59:08Z

## Purpose

Jupyter notebook integration module for Rich console output, enabling Rich renderables to display properly in Jupyter environments with HTML formatting and MIME bundle support.

## Key Components

**JupyterRenderable (L18-34)**: Simple container class that wraps HTML and plain text representations for Jupyter display. Implements `_repr_mimebundle_()` method (L25-33) to provide both `text/html` and `text/plain` MIME types with optional include/exclude filtering.

**JupyterMixin (L36-57)**: Mixin class that adds Jupyter rendering capability to Rich renderables. The core `_repr_mimebundle_()` method (L41-56) renders the object using Rich console, converts segments to HTML via `_render_segments()`, and returns proper MIME bundle format.

**_render_segments() (L59-81)**: Core HTML rendering function that converts Rich Segment objects to HTML. Processes styling, escapes HTML entities (L60-62), applies CSS styling via `style.get_html_style()`, handles links, and wraps output in the `JUPYTER_HTML_FORMAT` template.

**display() (L84-96)**: Public function to render segments directly in Jupyter, creating a JupyterRenderable and attempting to use IPython's display system. Gracefully handles missing IPython dependency.

**print() (L98-101)**: Convenience proxy function that delegates to Rich console's print method.

## Dependencies

- Rich console system (`.get_console()`, `.segment`, `.terminal_theme`)
- IPython.display (optional, for Jupyter integration)
- TYPE_CHECKING imports for `ConsoleRenderable`

## Architecture Notes

- Uses MIME bundle protocol (`_repr_mimebundle_`) for Jupyter integration
- HTML template (`JUPYTER_HTML_FORMAT`, L13-15) provides consistent monospace styling
- Segment processing preserves Rich styling through CSS conversion
- Graceful degradation when IPython not available
- Mixin pattern allows any Rich renderable to gain Jupyter support
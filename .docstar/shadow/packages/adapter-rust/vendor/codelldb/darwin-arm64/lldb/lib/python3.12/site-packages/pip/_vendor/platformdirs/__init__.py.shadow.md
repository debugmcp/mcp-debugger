# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/__init__.py
@source-hash: 15303a2c6366e341
@generated: 2026-02-09T17:59:07Z

## Purpose
Main entry point for the platformdirs library providing cross-platform application-specific directory paths. Serves as a facade over platform-specific implementations (Windows, macOS, Unix/Linux, Android) with automatic platform detection and selection.

## Key Components

**Platform Detection & Selection:**
- `_set_platform_dir_class()` (L23-42): Core platform detection logic that returns appropriate platform-specific class based on `sys.platform` and Android environment variables
- `PlatformDirs` (L45): Active platform implementation instance, dynamically set at module load
- `AppDirs` (L46): Backward compatibility alias for appdirs library migration

**Directory Access Functions (String Returns):**
- `user_data_dir()` (L49-70): User-specific data storage directory
- `site_data_dir()` (L73-94): System-wide data directory 
- `user_config_dir()` (L97-118): User configuration directory
- `site_config_dir()` (L121-142): System configuration directory
- `user_cache_dir()` (L145-166): User cache directory
- `site_cache_dir()` (L169-190): System cache directory
- `user_state_dir()` (L193-214): User state/session data directory
- `user_log_dir()` (L217-238): User log files directory
- `user_runtime_dir()` (L271-292): Runtime files directory (sockets, PIDs)
- `site_runtime_dir()` (L295-316): System runtime directory

**Standard User Directories (String Returns):**
- `user_documents_dir()` (L241-243): User documents folder
- `user_downloads_dir()` (L246-248): Downloads folder
- `user_pictures_dir()` (L251-253): Pictures folder  
- `user_videos_dir()` (L256-258): Videos folder
- `user_music_dir()` (L261-263): Music folder
- `user_desktop_dir()` (L266-268): Desktop folder

**Path Object Equivalents:**
- `user_data_path()` (L319-340) through `site_runtime_path()` (L565-586): Identical functionality to string versions but return `pathlib.Path` objects

## Architecture Patterns

**Platform Abstraction**: Uses strategy pattern with `PlatformDirsABC` base class and platform-specific implementations loaded dynamically based on runtime environment detection.

**Android Detection**: Special handling for Android environment through environment variable checks (`ANDROID_DATA`, `ANDROID_ROOT`) and shell/prefix detection to distinguish between Termux and native Android contexts.

**Consistent API**: All functions follow identical parameter patterns:
- `appname`: Application name for directory naming
- `appauthor`: Application author/organization  
- `version`: Application version for directory versioning
- `roaming`/`multipath`/`opinion`: Platform-specific behavior flags
- `ensure_exists`: Auto-create directories if missing

**Dual Return Types**: Provides both string (`*_dir`) and `Path` object (`*_path`) versions of each function for compatibility and modern usage patterns.

## Dependencies
- `PlatformDirsABC` from `.api`: Base abstract class
- `__version__` from `.version`: Version information
- Platform modules: `.windows`, `.macos`, `.unix`, `.android`

## Critical Invariants
- Platform detection occurs once at module import time
- All functions are stateless and thread-safe
- Android detection must check environment variables in specific order
- Path/directory functions maintain parameter compatibility across platforms
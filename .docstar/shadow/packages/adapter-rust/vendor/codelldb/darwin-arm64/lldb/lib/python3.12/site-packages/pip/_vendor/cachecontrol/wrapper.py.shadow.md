# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/cachecontrol/wrapper.py
@source-hash: 86c19cee0f101904
@generated: 2026-02-09T17:58:43Z

## Primary Purpose
Factory function module that provides HTTP request caching capabilities by configuring requests.Session objects with cache adapters.

## Key Function
**CacheControl (L20-43)**: Factory function that enhances a requests.Session with HTTP caching functionality. Takes a session object and optional caching parameters, then mounts cache adapters to handle HTTP/HTTPS requests with configurable cache behavior.

### Parameters:
- `sess`: requests.Session to be enhanced
- `cache`: Cache storage backend (defaults to DictCache if None)
- `cache_etags`: Enable ETag-based cache validation
- `serializer`: Custom response serialization handler
- `heuristic`: Cache decision-making strategy
- `controller_class`: Custom cache controller implementation
- `adapter_class`: Custom adapter class (defaults to CacheControlAdapter)
- `cacheable_methods`: HTTP methods eligible for caching

### Implementation Details:
- Instantiates DictCache as default cache backend (L30)
- Creates adapter instance with all configuration parameters (L32-39)
- Mounts adapter to both HTTP and HTTPS schemes (L40-41)
- Returns the enhanced session object

## Dependencies
- **CacheControlAdapter (L8)**: Core adapter that intercepts HTTP requests
- **DictCache (L9)**: Default in-memory cache implementation
- **TYPE_CHECKING imports (L11-17)**: Type hints for requests, cache components, controllers, heuristics, and serializers

## Architectural Pattern
Implements the decorator pattern by wrapping requests.Session objects with caching behavior through adapter mounting. The function serves as a convenient factory that eliminates boilerplate setup for HTTP caching.

## Usage Context
Part of pip's vendored cachecontrol library, enabling HTTP response caching for package installation requests to improve performance and reduce bandwidth usage.
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_internal/cli/cmdoptions.py
@source-hash: d17c87635090f6d1
@generated: 2026-02-09T17:58:43Z

## Purpose
Central command-line options definition module for pip CLI commands. Implements a factory pattern for option creation to avoid state sharing between parses, particularly for append-type actions.

## Architecture Pattern
Uses `functools.partial` to create reusable option factories rather than global instances, preventing state leakage when pip performs multiple internal parsing rounds.

## Key Components

### Core Utilities
- `raise_option_error(parser, option, msg)` (L36-47): Standardized option error formatting and raising
- `make_option_group(group, parser)` (L50-59): Creates OptionGroup from dict specification
- `check_dist_restriction(options, check_target=False)` (L62-100): Validates platform/interpreter constraint compatibility

### Custom Option Types
- `PipOption` (L110-114): Extends optparse.Option with "path" and "package_name" types
- `_path_option_check(option, opt, value)` (L102-103): Expands user paths with os.path.expanduser
- `_package_name_option_check(option, opt, value)` (L106-107): Canonicalizes package names

### Option Factories (L121+)
All options defined as `partial()` functions returning Option instances:

**Global Options:**
- `help_` (L121-128): Standard help option
- `debug_mode` (L130-140): Propagate exceptions instead of logging
- `isolated_mode` (L142-152): Ignore environment/user config
- `verbose/quiet` (L182-222): Output verbosity controls
- `no_color` (L192-199): Disable colored output

**Network/Security:**
- `proxy` (L268-275): HTTP proxy configuration
- `retries/timeout` (L277-296): Connection parameters
- `cert/client_cert` (L314-337): SSL certificate options
- `trusted_host()` (L393-402): Skip HTTPS verification for hosts

**Package Index:**
- `index_url` (L339-351): Base PyPI URL
- `extra_index_url()` (L354-364): Additional package indexes
- `no_index` (L367-374): Disable package index lookup
- `find_links()` (L377-390): Local/URL package sources

**Installation Control:**
- `requirements()` (L418-428): Install from requirements file
- `editable()` (L431-443): Editable installs
- `constraints()` (L405-415): Version constraints file
- `no_deps` (L726-734): Skip dependency installation

### Binary/Source Package Control
- `no_binary()` (L496-511): Force source packages
- `only_binary()` (L514-529): Force binary packages
- Format control handlers: `_handle_no_binary()` (L474-482), `_handle_only_binary()` (L485-493)

### Target Platform Options
- `platforms` (L532-544): Target platform specification
- `python_version` (L591-609): Python version targeting with validation
- `_convert_python_version()` (L548-574): Version string parsing
- `implementation` (L612-625): Python implementation (CPython, PyPy, etc.)
- `abis` (L628-643): ABI compatibility tags
- `add_target_python_options()` (L646-650): Adds all platform options to group
- `make_target_python()` (L653-661): Creates TargetPython instance from options

### Build System Control
- PEP 517 options: `use_pep517/no_use_pep517` (L800-818) with validation handler `_handle_no_use_pep517()` (L765-798)
- `config_settings` (L840-852): PEP 517 build backend configuration with parser `_handle_config_settings()` (L821-837)
- `build_options/global_options` (L854-871): Legacy setup.py arguments

### Caching
- `cache_dir` (L677-685): Cache directory location
- `no_cache` (L717-724): Disable caching with handler `_handle_no_cache_dir()` (L688-714)

### Security/Verification
- `hash` (L934-945): Package hash verification with handler `_handle_merge_hash()` (L910-931)
- `require_hashes` (L948-957): Enforce hash checking

### Feature Flags
- `use_new_feature` (L1002-1015): Enable experimental features (fast-deps, truststore)
- `use_deprecated_feature` (L1017-1028): Enable deprecated functionality
- `ALWAYS_ENABLED_FEATURES` (L998-1000): Features that are now permanently on

### Option Groups
- `general_group` (L1035-1064): Collection of general-purpose options
- `index_group` (L1066-1074): Package index related options

## Notable Patterns
- Extensive use of callback-based option handling for complex validation
- State management through parser.values attribute manipulation
- Mutual exclusion logic for format control options
- Environment variable integration (e.g., PIP_NO_CACHE_DIR handling)
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/filters/__init__.py
@source-hash: 87f928624505a3e1
@generated: 2026-02-09T17:57:36Z

## Primary Purpose
Filter lookup and management module for Pygments syntax highlighting. Provides a registry of text transformation filters and factory functions for instantiating them. Filters modify token streams from lexers (e.g., highlight code tags, convert symbols to Unicode, change keyword casing).

## Key Functions

**find_filter_class(filtername)** (L22-29): Looks up filter class by name, checking built-in FILTERS registry first, then plugin system via `find_plugin_filters()`. Returns None if not found.

**get_filter_by_name(filtername, \*\*options)** (L32-42): Factory function that instantiates a filter by name with given options. Raises ClassNotFound if filter doesn't exist. Primary entry point for filter creation.

**get_all_filters()** (L45-49): Generator yielding all available filter names from both built-in registry and plugins.

**_replace_special(ttype, value, regex, specialttype, replacefunc)** (L52-62): Utility function for regex-based token value replacement. Yields original token type for non-matching segments and special token type for matches.

## Filter Classes

**CodeTagFilter** (L65-94): Highlights code tags (TODO, FIXME, etc.) in comments and docstrings. Configurable tag list via 'codetags' option. Uses regex matching to identify tags and marks them as Comment.Special tokens.

**SymbolFilter** (L97-684): Converts mathematical symbols to Unicode characters. Supports 'isabelle' and 'latex' symbol sets via 'lang' option. Contains extensive symbol mapping dictionaries (latex_symbols L111-308, isabelle_symbols L310-669).

**KeywordCaseFilter** (L687-712): Transforms keyword token casing. Supports 'lower', 'upper', 'capitalize' via 'case' option. Uses str methods for conversion.

**NameHighlightFilter** (L715-753): Changes token type for specified names. Takes 'names' list and 'tokentype' options. Useful for highlighting specific identifiers as functions, etc.

**RaiseOnErrorTokenFilter** (L760-786): Raises exceptions when lexer generates Error tokens. Configurable exception class via 'excclass' option.

**VisibleWhitespaceFilter** (L789-865): Replaces whitespace with visible Unicode characters. Options for 'spaces', 'tabs', 'newlines', 'tabsize', 'wstokentype'. Handles both simple replacement and regex-based special token creation.

**GobbleFilter** (L868-904): Removes leading characters from code lines. Takes 'n' parameter for character count. Processes line-by-line with state tracking.

**TokenMergeFilter** (L907-928): Merges consecutive tokens of same type to reduce output verbosity.

## Registry & Dependencies
- **FILTERS** (L931-940): Master registry mapping filter names to classes
- Imports from `pygments.token`, `pygments.filter`, `pygments.util`, `pygments.plugin`
- Uses utility functions like `get_list_opt`, `get_choice_opt` for option parsing
- **ErrorToken** (L756): Custom exception class for error handling

## Architectural Patterns
- Factory pattern via `get_filter_by_name()`
- Plugin architecture support via `find_plugin_filters()`
- Stream processing pattern - all filters consume and yield (ttype, value) tuples
- Options-based configuration with validation helpers
- Registry pattern for filter discovery
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_internal/locations/_distutils.py
@source-hash: 1fd6472bfdf9add0
@generated: 2026-02-09T17:58:33Z

**Purpose**: Provides distutils-based file system location resolution for pip package installations, handling various installation schemes (user, home, prefix, root).

## Key Functions

**`distutils_scheme()` (L35-112)**: Core function that creates distutils installation scheme dictionaries. Takes distribution name and installation parameters (user, home, root, isolated, prefix) and returns scheme paths. Handles special cases:
- Setuptools shim removal (L12-15) to avoid conflicts
- Unicode decode errors in config files (L56-63)  
- Virtual environment header path customization (L93-111)
- Install lib precedence over purelib/platlib (L85-91)

**`get_scheme()` (L115-147)**: Public API wrapper that converts distutils scheme dict to pip's `Scheme` object. Well-documented with parameter descriptions.

**`get_bin_prefix()` (L150-164)**: Platform-specific binary directory resolution:
- Windows: `Scripts/` or fallback to `bin/`
- macOS system installs: Forces `/usr/local/bin`
- Others: `{prefix}/bin`

**`get_purelib()` (L167-168)** / **`get_platlib()` (L171-172)**: Simple wrappers around distutils' `get_python_lib()`.

## Dependencies
- `distutils`: Core installation path logic
- `pip._internal.models.scheme.Scheme`: Target scheme object
- `pip._internal.utils.{compat, virtualenv}`: Platform and environment detection
- `.base.get_major_minor_version`: Version string formatting

## Architecture Notes
- Defensive programming against setuptools injection conflicts
- Graceful handling of encoding issues in distutils config files
- Virtual environment awareness with custom header path logic
- Platform-specific path resolution patterns
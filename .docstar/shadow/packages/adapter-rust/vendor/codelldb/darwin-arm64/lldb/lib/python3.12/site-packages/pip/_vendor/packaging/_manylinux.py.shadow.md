# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/_manylinux.py
@source-hash: 5e8e15d0f673f2c6
@generated: 2026-02-09T17:58:52Z

## Manylinux Platform Tag Generator

Core module for determining manylinux compatibility and generating appropriate platform tags for Python package distribution on Linux systems. Implements PEP 513, PEP 571, PEP 599, and PEP 600 specifications for manylinux wheel compatibility.

### Primary Purpose
- Detect glibc version and architecture compatibility 
- Generate manylinux platform tags for wheel distribution
- Ensure binary compatibility across Linux distributions

### Key Functions

**ELF Analysis Functions:**
- `_parse_elf(path)` (L22-27): Context manager for safe ELF file parsing
- `_is_linux_armhf(executable)` (L30-42): Detects ARM hard-float ABI from ELF headers using ARM ABI flags
- `_is_linux_i686(executable)` (L45-52): Identifies 32-bit x86 architecture
- `_have_compatible_abi(executable, archs)` (L55-69): Architecture compatibility checker for supported platforms

**Glibc Detection:**
- `_glibc_version_string_confstr()` (L85-101): Primary glibc detection using `os.confstr`
- `_glibc_version_string_ctypes()` (L104-145): Fallback glibc detection using ctypes/dlopen
- `_glibc_version_string()` (L148-150): Unified glibc version detection interface
- `_parse_glibc_version(version_str)` (L153-169): Regex-based version parsing with error handling
- `_get_glibc_version()` (L172-177): Cached glibc version retrieval

**Compatibility & Tag Generation:**
- `_is_compatible(arch, version)` (L181-204): Checks manylinux compatibility using optional `_manylinux` module
- `platform_tags(archs)` (L217-262): Main entry point generating compatible manylinux tags in priority order

### Key Data Structures

**Constants:**
- ARM ABI flags (L14-16): `EF_ARM_ABIMASK`, `EF_ARM_ABI_VER5`, `EF_ARM_ABI_FLOAT_HARD`
- `_LAST_GLIBC_MINOR` (L77): Default minor version mapping for future glibc majors
- `_LEGACY_MANYLINUX_MAP` (L207-214): Maps glibc versions to legacy manylinux tag names

**Classes:**
- `_GLibCVersion` (L80-82): NamedTuple for structured glibc version representation

### Dependencies
- `._elffile`: ELF parsing utilities (`EIClass`, `EIData`, `ELFFile`, `EMachine`)
- Standard library: `os`, `ctypes`, `re`, `sys`, `warnings`, `functools`, `collections`
- Optional: `_manylinux` module for platform-specific compatibility checks

### Architecture Support
Supports x86_64, aarch64, ppc64, ppc64le, s390x, loongarch64, riscv64, with special handling for armv7l (hard-float) and i686.

### Compatibility Strategy
- Generates tags from current glibc version down to minimum supported versions
- Uses legacy tag mapping for backward compatibility (manylinux1/2010/2014)
- Respects platform-specific `_manylinux` module overrides
- Implements glibc major version compatibility assumptions
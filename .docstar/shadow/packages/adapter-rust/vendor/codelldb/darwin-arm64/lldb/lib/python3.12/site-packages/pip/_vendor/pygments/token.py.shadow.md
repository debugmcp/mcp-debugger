# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/token.py
@source-hash: 0d755070b50b567d
@generated: 2026-02-09T17:58:59Z

**Primary Purpose:** Core token type system for Pygments syntax highlighting library. Defines a hierarchical token classification system using a custom tuple-based type that supports dynamic attribute creation and parent-child relationships.

**Key Components:**

- **_TokenType class (L12-53)**: Custom tuple subclass that forms the foundation of the token hierarchy
  - `split()` (L15-22): Returns ancestry chain from root to current token
  - `__init__()` (L24-26): Initializes subtypes set for tracking child tokens
  - `__contains__()` (L28-32): Implements subtype checking via tuple prefix matching
  - `__getattr__()` (L34-41): Dynamic token creation - converts uppercase attribute access into new token subtypes
  - `__repr__()` (L43-44): String representation as dot-notation (e.g., "Token.Keyword.Type")
  - `__copy__/__deepcopy__()` (L46-52): Preserve singleton pattern by returning self

- **Root Token Instance (L55)**: Global `Token = _TokenType()` serves as base for all token types

- **Standard Token Definitions (L58-76)**: Pre-defined token types for common syntax elements:
  - Text/Whitespace/Escape/Error/Other for basic text classification
  - Keyword/Name/Literal/String/Number/Punctuation/Operator/Comment for source code
  - Generic for non-source content (markup, diffs, etc.)

- **Token Aliases (L80-82)**: Convenience mappings for commonly used tokens

- **Utility Functions:**
  - `is_token_subtype()` (L85-91): Legacy compatibility function for subtype checking
  - `string_to_tokentype()` (L94-117): Converts dot-notation strings to token objects

- **STANDARD_TYPES Dictionary (L123-214)**: Maps token types to CSS class suffixes for HTML output generation. Comprehensive mapping covering 90+ predefined token types.

**Architectural Patterns:**
- **Singleton Pattern**: Token types are meant to be unique instances
- **Flyweight Pattern**: Dynamic attribute creation with caching via `setattr()`
- **Hierarchical Classification**: Parent-child relationships enable subtype checking
- **Lazy Initialization**: Token subtypes created on first access

**Critical Invariants:**
- Token hierarchy is immutable once created (singleton behavior)
- Uppercase attribute names trigger token creation, lowercase access tuple methods
- Parent references maintain tree structure integrity
- STANDARD_TYPES must have unique values for CSS class generation

**Dependencies:**
- Pure Python implementation using only built-in types
- No external dependencies beyond standard library
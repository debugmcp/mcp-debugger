# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/before.py
@source-hash: 748644f609814df7
@generated: 2026-02-09T17:59:13Z

## Purpose
Provides "before" callback strategies for the tenacity retry library, executed before each retry attempt to perform logging or other pre-attempt actions.

## Key Functions

### `before_nothing(retry_state: "RetryCallState") -> None` (L27-28)
No-op strategy that performs no action before retry attempts. Used as default or placeholder.

### `before_log(logger: "logging.Logger", log_level: int) -> Callable[["RetryCallState"], None]` (L31-45)
Factory function that creates a logging strategy for retry attempts.
- Returns closure `log_it` (L34-44) that logs attempt information
- Extracts function name using `_utils.get_callback_name()` (L39)
- Logs ordinal attempt number (e.g., "1st time", "2nd time") using `_utils.to_ordinal()` (L43)
- Handles edge case where `retry_state.fn` is None with fallback name (L35-37)

## Dependencies
- `pip._vendor.tenacity._utils`: Utility functions for name extraction and ordinal formatting
- `typing`: Type hints and TYPE_CHECKING guard
- `logging` (TYPE_CHECKING only): Logger interface
- `RetryCallState` (TYPE_CHECKING only): Retry state container

## Architecture Notes
- Uses factory pattern for `before_log` to capture logger and log level in closure
- TYPE_CHECKING imports prevent runtime dependency cycles
- Designed as pluggable strategy components for tenacity's retry mechanism
- Functions return callables matching the expected `(RetryCallState) -> None` signature
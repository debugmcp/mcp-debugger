# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/scope.py
@source-hash: 4cc514f2aa35eed8
@generated: 2026-02-09T17:59:18Z

## Purpose
Provides functionality for rendering Python variable scopes as formatted console output using Rich's rendering system. Primary use case is debugging and introspection by displaying variable names, values, and types in a structured table format.

## Key Components

**render_scope() function (L14-67)**
- Main entry point that transforms a mapping of variables into a console-renderable table
- Parameters control sorting, styling, truncation, and formatting options
- Returns a Panel-wrapped Table for consistent visual presentation
- Uses ReprHighlighter for syntax highlighting of variable values

**sort_items() helper (L41-44)**
- Internal sorting function that prioritizes special variables (dunder methods) first
- Secondary sort by alphabetical key order (case-insensitive)
- Returns tuple for stable sorting: `(not key.startswith("__"), key.lower())`

**Test/Example code (L70-85)**
- Demonstrates usage with sample data structures including lists, dicts, and function locals
- Shows integration with Rich's print system for immediate output

## Dependencies
- **Rich components**: Panel, Table, Pretty, Text, ReprHighlighter
- **Standard library**: collections.abc.Mapping for type hints
- **Internal imports**: All from Rich ecosystem for consistent theming and rendering

## Key Patterns
- **Table.grid()**: Creates borderless table with custom padding for clean variable display
- **Text.assemble()**: Builds styled text with semantic style classes (`scope.key`, `scope.key.special`, `scope.equals`)
- **Pretty wrapper**: Handles complex object representation with configurable truncation and indentation
- **Panel.fit()**: Provides bordered container with title support and consistent spacing

## Style Classes Used
- `scope.key` - Regular variable names
- `scope.key.special` - Dunder variables (e.g., `__name__`)
- `scope.equals` - Assignment operator styling
- `scope.border` - Panel border styling

## Configuration Options
- `sort_keys`: Toggle alphabetical sorting vs. original order
- `indent_guides`: Enable visual indentation markers for nested structures
- `max_length`/`max_string`: Control truncation of large containers and strings
- `title`: Optional panel title for context
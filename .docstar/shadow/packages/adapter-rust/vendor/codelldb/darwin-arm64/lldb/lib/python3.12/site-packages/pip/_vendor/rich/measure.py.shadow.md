# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/measure.py
@source-hash: 1e6ac8257f2c5914
@generated: 2026-02-09T17:59:19Z

**Core Purpose**: Layout measurement system for Rich console rendering, determining minimum and maximum character widths required to render objects.

**Key Components**:

- **Measurement class (L11-122)**: NamedTuple storing minimum/maximum width requirements
  - `minimum` (L14): Minimum cells needed for rendering
  - `maximum` (L16): Maximum cells needed for rendering
  - `span` property (L19-22): Returns width range (max - min)
  - `normalize()` (L24-32): Ensures min ≤ max and min ≥ 0
  - `with_maximum()` (L34-44): Constrains both values to not exceed given width
  - `with_minimum()` (L46-57): Ensures both values are at least given width
  - `clamp()` (L59-76): Applies both min/max constraints sequentially
  - `get()` classmethod (L78-122): Core measurement calculation for renderables

**Key Dependencies**:
- `rich.protocol`: Uses `is_renderable()` and `rich_cast()` for type checking/conversion
- `rich.errors`: Raises `NotRenderableError` for invalid objects
- Console system: Integrates with Console and ConsoleOptions for rendering context

**Measurement Algorithm (L78-122)**:
1. Returns (0,0) for zero-width constraints
2. Converts strings via `console.render_str()`
3. Checks for `__rich_measure__` method on renderable objects
4. Falls back to (0, max_width) for objects without measurement capability
5. Normalizes and clamps results to max_width

**Utility Functions**:
- `measure_renderables()` (L125-151): Aggregates measurements for multiple objects, taking maximum of minimums and maximum of maximums

**Architecture Notes**:
- Immutable measurement objects enable safe width calculation chains
- Protocol-based design allows any object with `__rich_measure__` to participate
- Graceful fallbacks for unmeasurable content
- Width constraints properly propagated through measurement chain
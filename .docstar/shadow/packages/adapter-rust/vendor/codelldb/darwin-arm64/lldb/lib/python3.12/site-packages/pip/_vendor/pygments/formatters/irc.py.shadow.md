# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/formatters/irc.py
@source-hash: 129fa6f23777be81
@generated: 2026-02-09T17:57:28Z

## Purpose
IRC syntax highlighter for the Pygments library that formats source code tokens with IRC color control codes for display in IRC clients.

## Core Components

### Color Mapping System
- **IRC_COLORS** (L22-51): Maps Pygments token types to color tuples `(light_bg_color, dark_bg_color)`. Contains comprehensive mappings for keywords, strings, comments, names, operators, and generic tokens.
- **IRC_COLOR_MAP** (L54-74): Maps color names to IRC numeric color codes (0-15). Includes ANSI compatibility mappings (e.g., 'green': 7, 'red': 11).

### Core Functions
- **ircformat()** (L76-94): Converts color names and text to IRC control sequences. Handles formatting modifiers:
  - Underscores (`_color_`) → italic (`\x1D`)
  - Asterisks (`*color*`) → bold (`\x02`) 
  - Color codes → `\x03` + zero-padded numeric code
  - Returns formatted text with proper opening/closing control sequences

### Main Formatter Class
- **IRCFormatter** (L97-154): Extends Pygments `Formatter` base class
  - **Configuration** (L122-128): Accepts `bg` (light/dark), `colorscheme` (custom color mapping), `linenos` (line numbering) options
  - **format_unencoded()** (L135-154): Main formatting method that processes token streams:
    - Walks token hierarchy to find color mappings (L140-142)
    - Handles newlines by splitting text and re-adding line numbers (L145-152)
    - Applies IRC formatting via `ircformat()` function

## Key Dependencies
- **Pygments core**: `Formatter` base class, token types, utility functions
- **Token types**: Comprehensive imports for syntax highlighting categories

## Architecture Notes
- Uses hierarchical token type lookup with fallback to parent types
- Separates color logic from formatting logic for maintainability  
- Handles IRC client limitations (no underline/background support noted in L88-89)
- Line number tracking with proper reset behavior
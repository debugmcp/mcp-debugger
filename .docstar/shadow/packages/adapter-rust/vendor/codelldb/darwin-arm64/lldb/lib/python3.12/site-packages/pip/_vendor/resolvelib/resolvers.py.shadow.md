# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/resolvelib/resolvers.py
@source-hash: 1bcaec2d94aaeb88
@generated: 2026-02-09T17:59:01Z

**Purpose**: Core resolution engine for resolvelib - a generic dependency resolver that performs backtracking constraint satisfaction to find compatible versions of dependencies.

**Key Data Structures**:
- `RequirementInformation` (L8-10): Named tuple linking requirement to its parent package
- `Criterion` (L45-83): Immutable container holding candidate packages, requirement information, and incompatibilities for a specific package identifier
- `State` (L102): Named tuple representing resolution state with mapping, criteria, and backtrack_causes
- `Result` (L479): Named tuple with final resolution mapping, dependency graph, and criteria

**Exception Hierarchy**:
- `ResolverException` (L13-18): Base exception for all resolver errors
- `RequirementsConflicted` (L21-29): Raised when requirements cannot be satisfied together
- `InconsistentCandidate` (L32-42): Provider returned candidate that doesn't satisfy requirements
- `ResolutionError` (L84-85): Base for resolution failure exceptions
- `ResolutionImpossible` (L88-93): No valid resolution exists
- `ResolutionTooDeep` (L95-99): Exceeded maximum resolution rounds (likely circular dependency)

**Core Resolution Engine**:
- `Resolution` (L105-457): Stateful resolution object implementing backtracking algorithm
  - `resolve()` (L381-457): Main resolution loop with round-based approach
  - `_attempt_to_pin_criterion()` (L233-268): Try candidates for a package until one works
  - `_backjump()` (L270-379): Complex backtracking mechanism when pinning fails
  - `_add_to_criteria()` (L138-175): Add requirement to resolution criteria
  - `_get_updated_criteria()` (L227-231): Generate new criteria after candidate selection

**Public Interface**:
- `Resolver` (L512-547): Main resolver class inheriting from AbstractResolver
  - `resolve()` (L517-547): Public API taking requirements and max_rounds, returns Result

**Dependencies**: 
- Inherits from `.providers.AbstractResolver`
- Uses `.structs.DirectedGraph`, `IteratorMapping`, `build_iter_view`
- Relies on provider interface for `identify()`, `find_matches()`, `get_dependencies()`, `is_satisfied_by()`

**Algorithm**: 
1. Initialize root state with input requirements
2. Iteratively select unsatisfied criteria by preference
3. Try candidates until one satisfies all requirements
4. On failure, backtrack to previous compatible state
5. Build final dependency graph from successful resolution

**Key Patterns**:
- State-based backtracking with history stack
- Immutable Criterion objects prevent accidental mutation
- Provider pattern abstracts package-specific logic
- Reporter pattern for resolution progress callbacks
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/wait.py
@source-hash: dc57012680838329
@generated: 2026-02-09T17:59:18Z

## Wait Strategies for Retry Operations

This module implements various wait strategies for the tenacity retry library, providing different algorithms to determine delays between retry attempts.

### Core Architecture

**wait_base (L27-42)**: Abstract base class defining the wait strategy interface. All strategies implement `__call__(retry_state) -> float` to return wait time in seconds. Supports combination via `__add__` and `__radd__` operators for use with built-in `sum()`.

**WaitBaseT (L44)**: Type alias for wait strategies, accepting either `wait_base` instances or callable functions.

### Strategy Implementations

**Fixed Strategies:**
- `wait_fixed (L47-55)`: Returns constant wait time, converts input via `_utils.to_seconds()`
- `wait_none (L57-62)`: Inherits from `wait_fixed` with 0 seconds delay

**Random Strategies:**
- `wait_random (L64-73)`: Uniform random wait between min/max bounds using `random.random()`
- `wait_random_exponential (L166-194)`: Inherits from `wait_exponential`, applies uniform random jitter to exponential backoff for contention resolution

**Exponential Strategies:**
- `wait_exponential (L132-164)`: Fixed exponential backoff using formula `multiplier * exp_base^(attempt-1)`, handles overflow gracefully
- `wait_exponential_jitter (L197-228)`: Google Cloud-style exponential backoff with additive jitter: `initial * 2^n + random(0, jitter)`

**Combining Strategies:**
- `wait_combine (L75-83)`: Sums multiple wait strategies by calling each and summing results
- `wait_chain (L85-108)`: Sequences through strategies by attempt number, using last strategy when exhausted

**Progressive Strategies:**
- `wait_incrementing (L110-130)`: Linear increase: `start + increment * (attempt-1)`, clamped to max

### Dependencies
- `_utils`: Provides `to_seconds()` for time unit conversion and `MAX_WAIT` constant
- `RetryCallState`: Forward reference for retry state information (attempt number, etc.)
- Standard libraries: `abc`, `random`, `typing`

### Key Patterns
- All strategies accept `retry_state` parameter containing attempt metadata
- Time values are normalized to seconds via `_utils.to_seconds()`
- Overflow protection in exponential calculations
- Min/max bounds enforcement across strategies
- Composability through operator overloading and combination classes
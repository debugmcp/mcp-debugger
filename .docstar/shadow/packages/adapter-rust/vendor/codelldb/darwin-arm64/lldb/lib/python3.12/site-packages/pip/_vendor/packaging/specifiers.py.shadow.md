# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/specifiers.py
@source-hash: 1df1a07cd251bebc
@generated: 2026-02-09T17:58:54Z

This module implements PEP 440 version specifier parsing and matching for Python package dependency resolution. It provides classes to handle individual version specifiers and sets of specifiers, enabling version constraint validation against package versions.

## Core Classes

**BaseSpecifier (L44-97)**: Abstract base class defining the interface for version specifier objects. Provides abstract methods for string representation, equality comparison, and version matching operations. Includes a prereleases property that controls whether pre-release versions should be accepted.

**Specifier (L99-625)**: Concrete implementation of a single version specifier (e.g., ">=1.2.3", "~=2.0"). Key components:
- Complex regex patterns (L109-204) for parsing various specifier formats including compatible release, equality/inequality, and arbitrary operators
- Operator mapping (L211-220) from symbols to method names
- Version comparison methods (L368-498) implementing PEP 440 semantics for each operator type
- Smart filtering (L565-624) that follows PEP 440 prerelease handling rules

**SpecifierSet (L690-1009)**: Manages collections of Specifier objects, handling comma-separated specifier strings. Implements logical AND operations across multiple specifiers and provides set-like operations including combination (&) and iteration.

## Key Functions

**_coerce_version (L26-29)**: Normalizes string versions to Version objects for consistent processing.

**Version splitting/joining utilities (L630-687)**:
- _version_split: Breaks version strings into comparable components
- _version_join: Reconstructs version strings from components  
- _pad_version: Pads version component lists for comparison
- _is_not_suffix: Identifies non-suffix version segments

## Dependencies

- `packaging.version.Version`: Core version representation and comparison
- `packaging.utils.canonicalize_version`: Version normalization utilities
- Standard library: `abc`, `itertools`, `re`, `typing`

## Architecture Notes

The module follows a hierarchical design where SpecifierSet contains multiple Specifier instances. Each Specifier uses operator-specific comparison methods accessed via reflection. The regex-based parsing handles complex PEP 440 version syntax including epochs, pre-releases, post-releases, dev releases, and local versions.

Version matching implements PEP 440's prerelease handling rules: prereleases are excluded by default but included if no stable versions match. The compatible release operator (~=) is implemented by combining >= and == prefix matching operations.

## Type System

Uses Union types for unparsed versions (strings or Version objects) and TypeVar for generic version filtering operations. CallableOperator type alias represents version comparison functions.
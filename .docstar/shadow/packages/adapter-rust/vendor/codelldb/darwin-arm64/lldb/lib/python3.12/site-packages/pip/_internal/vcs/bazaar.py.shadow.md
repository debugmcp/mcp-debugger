# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_internal/vcs/bazaar.py
@source-hash: 10a4ad71068aa4db
@generated: 2026-02-09T17:58:44Z

## Purpose
VCS adapter implementation for Bazaar (bzr) version control system within pip's internal VCS framework. Handles checkout, update, switch operations and URL/revision parsing for bzr repositories.

## Core Implementation
**Bazaar class (L18-110)**: Main VCS adapter extending `VersionControl` base class
- **name**: "bzr" - VCS identifier
- **dirname**: ".bzr" - Repository directory marker  
- **repo_name**: "branch" - Repository type designation
- **schemes** (L22-30): Supported URL schemes (bzr+http, bzr+https, bzr+ssh, bzr+sftp, bzr+ftp, bzr+lp, bzr+file)

## Key Methods
**get_base_rev_args() (L32-34)**: Static method returning bzr revision arguments `["-r", rev]`

**fetch_new() (L36-55)**: Initial repository checkout
- Handles verbosity levels with different flag combinations
- Uses lightweight checkout with `--lightweight` flag
- Logs checkout operations with URL and destination

**switch() (L57-58)**: Changes branch/URL for existing repository using `bzr switch`

**update() (L60-71)**: Updates existing repository
- Detects standalone branches (legacy pip behavior) and converts to checkouts via `bzr bind`
- Performs quiet updates with revision options

**get_url_rev_and_auth() (L73-79)**: URL parsing with bzr-specific handling
- Applies hotfix to re-add "bzr+" prefix to ssh:// URLs after parent processing
- Returns tuple of (url, revision, auth_info)

**get_remote_url() (L82-94)**: Extracts remote URL from local repository
- Parses `bzr info` output for "checkout of branch:" or "parent branch:" lines
- Converts local paths to file:// URLs via `path_to_url()`
- Raises `RemoteNotFoundError` if no remote found

**get_revision() (L97-104)**: Gets current revision number using `bzr revno`

**is_commit_id_equal() (L107-109)**: Always returns `False` - assumes versions never match

## Dependencies
- `pip._internal.utils.misc`: HiddenText, display_path utilities
- `pip._internal.utils.subprocess`: make_command for bzr invocation
- `pip._internal.utils.urls`: path_to_url conversion
- `pip._internal.vcs.versioncontrol`: Base VCS framework classes

## Registration
Registers Bazaar adapter with VCS registry via `vcs.register(Bazaar)` (L112)
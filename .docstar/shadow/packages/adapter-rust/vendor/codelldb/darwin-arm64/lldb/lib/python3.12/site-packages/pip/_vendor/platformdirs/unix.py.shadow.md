# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/unix.py
@source-hash: 09c8bd5aab77e5d0
@generated: 2026-02-09T17:58:57Z

## Primary Purpose
Implements Unix/Linux platform-specific directory resolution following the XDG Base Directory Specification for the platformdirs library.

## Core Class
**Unix (L23-236)**: Concrete implementation of `PlatformDirsABC` that provides XDG-compliant directory paths for Unix-like systems. Handles environment variable overrides and multipath configurations.

### Key Properties - User Directories
- `user_data_dir` (L37-45): Returns `$XDG_DATA_HOME` or `~/.local/share`, appended with app name/version
- `user_config_dir` (L68-76): Returns `$XDG_CONFIG_HOME` or `~/.config`, appended with app name/version  
- `user_cache_dir` (L99-107): Returns `$XDG_CACHE_HOME` or `~/.cache`, appended with app name/version
- `user_state_dir` (L115-123): Returns `$XDG_STATE_HOME` or `~/.local/state`, appended with app name/version
- `user_log_dir` (L126-132): Returns state dir or state dir + "log" if opinionated
- `user_runtime_dir` (L165-182): Returns `$XDG_RUNTIME_DIR` or `/run/user/{uid}` (with BSD variants), appended with app name/version

### Key Properties - Site Directories
- `site_data_dir` (L55-65): Returns `$XDG_DATA_DIRS` or `/usr/local/share:/usr/share`, handles multipath
- `site_config_dir` (L86-96): Returns `$XDG_CONFIG_DIRS` or `/etc/xdg`, handles multipath
- `site_cache_dir` (L110-112): Returns `/var/cache`, appended with app name/version
- `site_runtime_dir` (L185-204): Returns runtime dir for system-wide use (root paths)

### Key Properties - User Media Directories
User media directories (L135-162) delegate to `_get_user_media_dir()` for:
- documents, downloads, pictures, videos, music, desktop

### Path Utilities
- `site_data_path`, `site_config_path`, `site_cache_path` (L207-219): Return Path objects, handling multipath by taking first item
- `_first_item_as_path_if_multipath` (L221-225): Helper to extract first path from multipath strings
- `iter_config_dirs`, `iter_data_dirs` (L227-235): Yield all user and site directories in order

## Utility Functions
- **`_get_user_media_dir` (L238-245)**: Resolves user media directories via user-dirs.dirs config or environment variables
- **`_get_user_dirs_folder` (L248-270)**: Parses XDG user-dirs.dirs config file to get custom user directory paths

## Platform Compatibility
- **getuid import (L13-20)**: Cross-platform uid resolution - raises error on Windows, imports from os on Unix
- **BSD handling (L176-179, L200-201)**: Special runtime directory logic for FreeBSD/OpenBSD/NetBSD

## Key Dependencies
- Inherits from `PlatformDirsABC` for base functionality and app name/version handling
- Uses `ConfigParser` for parsing user-dirs.dirs configuration
- Relies on environment variables for XDG specification compliance

## Architectural Patterns
- Property-based API for lazy evaluation of directory paths
- Consistent pattern: check environment variable → fallback to XDG default → append app info
- Multipath support via `os.pathsep` joining/splitting
- Opinion-based behavior modification (affects log directory placement)
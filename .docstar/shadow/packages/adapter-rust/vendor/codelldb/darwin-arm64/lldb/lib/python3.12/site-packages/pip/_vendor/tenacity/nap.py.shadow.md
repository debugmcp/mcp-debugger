# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/nap.py
@source-hash: 7d15af9f3d5a2336
@generated: 2026-02-09T17:59:13Z

## Purpose
Sleep/delay strategies module for the tenacity retry library. Provides pluggable sleep mechanisms that can be used between retry attempts, including standard time-based delays and event-based waiting.

## Key Components

### Functions
- **`sleep(seconds: float)`** (L25-31): Default sleep strategy using `time.sleep()`. Simple wrapper that blocks execution for specified duration. Designed to be mockable for testing.

### Classes
- **`sleep_using_event`** (L34-43): Alternative sleep strategy that uses threading events for interruptible delays
  - `__init__(event: threading.Event)` (L37-38): Stores reference to threading event
  - `__call__(timeout: Optional[float])` (L40-43): Waits on event with optional timeout, may return early if event is set

## Dependencies
- `time`: Standard library for basic sleep functionality
- `typing`: Type hints and conditional imports
- `threading`: Imported conditionally for type checking only (L21-22)

## Architectural Patterns
- **Strategy Pattern**: Multiple sleep implementations with consistent interfaces
- **Callable Objects**: `sleep_using_event` implements `__call__` to act as function
- **Type Safety**: Conditional import pattern for typing-only dependencies
- **Mockability**: Simple `sleep` function wrapper enables easy unit testing

## Usage Context
Part of tenacity's retry mechanism - these sleep strategies control delays between retry attempts. The event-based strategy allows external interruption of sleep periods, useful for graceful shutdown scenarios.
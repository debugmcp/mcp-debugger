# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/tenacity/_utils.py
@source-hash: b9bb3a6bbb318f72
@generated: 2026-02-09T17:59:09Z

## Purpose
Utility module for the tenacity retry library providing helper functions for ordinal number formatting, callback introspection, and time unit conversion.

## Key Constants
- `MAX_WAIT` (L24): Maximum wait time constant set to `sys.maxsize / 2` to prevent overflow in retry calculations

## Core Functions

### Ordinal Number Utilities
- `find_ordinal(pos_num: int) -> str` (L27-40): Determines ordinal suffix ("st", "nd", "rd", "th") for English numbers using recursive logic for numbers > 20
- `to_ordinal(pos_num: int) -> str` (L43-44): Combines number with ordinal suffix (e.g., "1st", "22nd")

### Callback Introspection
- `get_callback_name(cb: Callable) -> str` (L47-69): Extracts fully-qualified name from callable objects by attempting `__qualname__`, falling back to `__name__`, then `repr()`. Handles module qualification when available.

### Time Conversion
- `to_seconds(time_unit: time_unit_type) -> float` (L75-76): Converts timedelta objects or numeric values to seconds as float

## Type Definitions
- `time_unit_type` (L72): Union type alias for `int | float | timedelta` used in time conversion functions

## Dependencies
- Standard library: `sys`, `typing`, `datetime.timedelta`

## Architectural Notes
- Defensive programming pattern in `get_callback_name()` with multiple fallback attempts
- Recursive implementation in `find_ordinal()` for handling large numbers efficiently
- Type hints throughout for better IDE support and static analysis
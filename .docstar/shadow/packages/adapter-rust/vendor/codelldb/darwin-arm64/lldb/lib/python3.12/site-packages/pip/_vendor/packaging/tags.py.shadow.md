# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/packaging/tags.py
@source-hash: cbc11b85e3aef564
@generated: 2026-02-09T17:58:56Z

**Primary Purpose**: Python wheel packaging tag generation and parsing module that creates platform-specific compatibility tags for Python packages. Handles interpreter, ABI, and platform compatibility identification for wheel distribution.

**Core Architecture**:
- **Tag Class (L42-94)**: Immutable representation of wheel tag triples (interpreter-abi-platform). Uses pre-computed hash for performance optimization in set operations.
- **Parser Functions**: `parse_tag()` (L96-109) decompresses tag strings into Tag frozensets
- **Tag Generators**: Multiple functions generating tag sequences in priority order for different Python implementations

**Key Tag Generation Functions**:
- **`cpython_tags()` (L184-241)**: Primary CPython tag generator. Produces cp<version>-<abi>-<platform>, abi3, and none tags with backward compatibility for older Python versions
- **`generic_tags()` (L285-313)**: Fallback for non-CPython interpreters (PyPy, IronPython, etc.)
- **`compatible_tags()` (L331-353)**: Generates py*-none-<platform> compatibility tags for cross-version support
- **`sys_tags()` (L548-567)**: Main entry point returning prioritized tag sequence for current interpreter

**Platform Detection**:
- **`platform_tags()` (L509-518)**: Platform-specific dispatcher to macOS, Linux, or generic platforms
- **`mac_platforms()` (L398-483)**: Complex macOS version/architecture compatibility with universal binary support
- **`_linux_platforms()` (L486-502)**: Linux platform tags with manylinux/musllinux support via imported modules

**ABI Detection**:
- **`_cpython_abis()` (L151-181)**: CPython ABI flag detection (debug, threading, pymalloc, UCS-4) based on build configuration
- **`_generic_abi()` (L244-282)**: ABI extraction from EXT_SUFFIX for various Python implementations
- **Threading Support**: `_is_threaded_cpython()` (L125-138) and `_abi3_applies()` (L141-148) handle --disable-gil builds

**Utility Functions**:
- **`_normalize_string()` (L121-122)**: Standardizes platform strings by replacing punctuation with underscores
- **`_version_nodot()` (L544-545)**: Converts version tuples to concatenated strings
- **`interpreter_name()` (L521-529)**: Maps implementation names to standard abbreviations via INTERPRETER_SHORT_NAMES

**Dependencies**:
- `_manylinux`, `_musllinux` modules for Linux compatibility tags
- Heavy reliance on `sysconfig`, `platform`, `sys` for runtime introspection
- `subprocess` for macOS version detection workarounds

**Critical Invariants**:
- Tag ordering represents installation priority (most specific first)
- All tags are lowercase normalized for consistency
- Hash pre-computation in Tag class for performance in set operations
- ABI3 compatibility only applies to Python 3.2+ non-threaded builds
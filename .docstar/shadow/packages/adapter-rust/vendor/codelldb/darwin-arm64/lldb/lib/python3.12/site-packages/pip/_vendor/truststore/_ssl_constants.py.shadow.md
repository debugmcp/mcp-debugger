# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/truststore/_ssl_constants.py
@source-hash: 3540f87d529d483d
@generated: 2026-02-09T17:59:15Z

## Purpose
SSL constants and utilities module for the truststore library. Handles Python implementation differences for SSL context subclassing and provides safe access to original SSL functionality even when truststore injects its own SSLContext.

## Key Components

### Original SSL References (L7-8)
- `_original_SSLContext`: Preserved reference to `ssl.SSLContext` class before potential injection
- `_original_super_SSLContext`: Super class reference for the original SSLContext

### Implementation-Specific Configuration (L15-25)
- `_truststore_SSLContext_dunder_class`: Type annotation for `__class__` return value (L15)
- `_truststore_SSLContext_super_class`: Superclass for truststore's SSLContext implementation (L18)

**CPython Path (L20-22):**
- Inherits directly from `_original_SSLContext`
- Sets `_truststore_SSLContext_dunder_class` to `None`

**Non-CPython Path (L23-25):**
- Uses `object` as superclass to avoid implementation differences
- Sets `_truststore_SSLContext_dunder_class` to `_original_SSLContext`

### Utility Functions

#### `_set_ssl_context_verify_mode()` (L28-31)
Sets SSL context verify mode using the original SSLContext's descriptor, bypassing any potential truststore overrides.

**Parameters:**
- `ssl_context`: Target SSL context
- `verify_mode`: SSL verification mode to set

## Architecture Patterns
- **Defensive Programming**: Preserves original SSL classes before modification
- **Implementation Abstraction**: Handles CPython vs non-CPython SSL differences
- **Bypass Mechanism**: Provides direct access to original SSL functionality via descriptors

## Dependencies
- `ssl`: Core SSL module
- `sys`: For Python implementation detection
- `typing`: Type annotations

## Critical Invariants
- Original SSL references must be captured before any truststore injection
- Non-CPython implementations require object-based inheritance due to potential SSLContext implementation differences
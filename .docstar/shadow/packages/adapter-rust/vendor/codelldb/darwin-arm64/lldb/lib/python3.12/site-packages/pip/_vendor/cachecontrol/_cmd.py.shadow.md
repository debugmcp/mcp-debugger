# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/cachecontrol/_cmd.py
@source-hash: 8a2b2dd84a7326f0
@generated: 2026-02-09T17:58:37Z

## Purpose
Command-line utility for testing and demonstrating cachecontrol functionality. Provides a standalone tool to verify HTTP caching behavior with a given URL.

## Key Functions

**setup_logging() (L22-25)**
- Configures debug-level logging for the cachecontrol logger
- Adds StreamHandler for console output
- Used to observe cache operations during testing

**get_session() (L28-37)**
- Creates a requests.Session with CacheControlAdapter mounted on both HTTP and HTTPS
- Uses DictCache (in-memory) with ETags enabled
- Monkey-patches `cache_controller` attribute onto session for direct access
- Returns configured session ready for cached requests

**get_args() (L40-43)**
- Simple ArgumentParser setup accepting a single URL argument
- Returns parsed command-line arguments

**main() (L46-66)**
- Entry point that orchestrates the caching test workflow:
  1. Fetches URL using cached session
  2. Enables logging (notably after the first request)
  3. Manually caches the response via cache_controller
  4. Tests if request would be served from cache
  5. Prints result to console

## Dependencies
- `requests` for HTTP operations
- `pip._vendor.cachecontrol` components (adapter, cache, controller)
- Standard argparse and logging modules

## Architecture Notes
- Demonstrates programmatic cache manipulation separate from normal request flow
- Uses type ignore comments for dynamically added session attributes
- Logging is enabled after initial request, showing cache operations for subsequent tests
- Memory-based caching (DictCache) suitable for demonstration purposes only
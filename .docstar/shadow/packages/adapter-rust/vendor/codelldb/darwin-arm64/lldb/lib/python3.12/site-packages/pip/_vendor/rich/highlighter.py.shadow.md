# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/highlighter.py
@source-hash: e9902351c3610516
@generated: 2026-02-09T17:59:10Z

## Rich Highlighter Module

A text highlighting system for the Rich library that applies syntax highlighting to text using regular expressions and style definitions.

### Core Architecture

**Highlighter (L17-48)**: Abstract base class defining the highlighting interface. The `__call__` method (L20-39) handles input validation and creates Text instances, while the abstract `highlight` method (L41-47) must be implemented by subclasses to apply highlighting in-place.

**NullHighlighter (L50-58)**: No-op implementation that applies no highlighting. Used to disable highlighting entirely.

**RegexHighlighter (L61-77)**: Base class for regex-based highlighting. Maintains `highlights` list of regex patterns and `base_style` prefix. The `highlight` method (L67-77) iterates through regex patterns and applies them using `text.highlight_regex`.

### Specialized Highlighters

**ReprHighlighter (L80-103)**: Highlights Python `__repr__` output with comprehensive patterns for:
- HTML-like tags, attributes, and braces
- Network addresses (IPv4, IPv6, EUI-64, EUI-48, UUIDs)
- Python literals (booleans, None, numbers, strings, paths, URLs)
- Function calls and complex numbers

**JSONHighlighter (L106-141)**: JSON syntax highlighter with additional key detection logic. Extends regex highlighting (L123-124) with custom logic (L126-140) to identify JSON keys by scanning for colons after string matches.

**ISO8601Highlighter (L143-198)**: Comprehensive datetime format highlighter supporting various ISO8601 patterns including dates, times, weeks, timezones, and XML Schema formats.

### Utilities

**_combine_regex (L8-14)**: Helper function that joins multiple regex patterns with OR operator (`|`).

### Key Dependencies

- `abc.ABC` and `abstractmethod` for abstract base class pattern
- `re` module for regex operations
- `.text` module for `Span` and `Text` classes
- Pattern relies on `Text.highlight_regex` method for applying styles

### Notable Patterns

- Template method pattern: base classes define structure, subclasses provide specific regex patterns
- Composition over inheritance: highlighters compose regex patterns rather than extending complex hierarchies
- In-place modification: all highlighting operations modify Text objects directly
- Style namespacing: each highlighter uses prefixed styles (e.g., "repr.", "json.", "iso8601.")

The module includes a comprehensive test section (L201-232) demonstrating various highlighting scenarios including paths, URLs, numbers, and JSON data.
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/platformdirs/
@generated: 2026-02-09T18:16:15Z

## Overview
This directory contains the `platformdirs` library - a cross-platform Python library that provides standardized access to platform-specific application directories (data, config, cache, logs, etc.). It serves as a modern replacement for the `appdirs` library with improved cross-platform compatibility and adherence to operating system conventions.

## Architecture & Design

### Core Abstraction Layer
The library uses a **strategy pattern** with platform abstraction:
- `api.py`: Defines `PlatformDirsABC` abstract base class establishing the complete API contract
- Platform-specific implementations: `windows.py`, `macos.py`, `unix.py`, `android.py`
- `__init__.py`: Provides automatic platform detection and acts as the main API facade

### Platform Detection & Selection
The library automatically detects the runtime platform and selects the appropriate implementation:
- **Windows**: Uses CSIDL constants with Shell32 API via ctypes, registry fallback
- **macOS**: Follows Apple guidelines with Homebrew integration for site directories  
- **Unix/Linux**: Implements XDG Base Directory Specification with environment variable support
- **Android**: Uses pyjnius for Android API access with hardcoded fallbacks

## Public API Surface

### Main Entry Points (`__init__.py`)
**Directory Functions (String Returns):**
- `user_data_dir()`, `site_data_dir()` - Application data storage
- `user_config_dir()`, `site_config_dir()` - Configuration files
- `user_cache_dir()`, `site_cache_dir()` - Cache storage
- `user_state_dir()` - Session/state data
- `user_log_dir()` - Log files
- `user_runtime_dir()`, `site_runtime_dir()` - Runtime files (PIDs, sockets)

**Standard User Directories:**
- `user_documents_dir()`, `user_downloads_dir()`, `user_pictures_dir()`
- `user_videos_dir()`, `user_music_dir()`, `user_desktop_dir()`

**Path Object Equivalents:**
- All functions have `*_path()` variants returning `pathlib.Path` objects

**Core Classes:**
- `PlatformDirs`: Active platform implementation instance
- `AppDirs`: Backward compatibility alias

### Common Parameters
All functions accept consistent parameters:
- `appname`: Application name for directory naming
- `appauthor`: Application author/organization
- `version`: Application version for versioning directories
- `roaming`/`multipath`/`opinion`: Platform-specific behavior flags
- `ensure_exists`: Auto-create directories if missing

## Internal Organization

### Platform Implementations
Each platform module provides a concrete class inheriting from `PlatformDirsABC`:
- **Windows**: CSIDL-based with roaming profile support, graceful API fallbacks
- **macOS**: Library/Application Support structure with Homebrew detection
- **Unix**: XDG-compliant with environment variable overrides and multipath support  
- **Android**: Java API integration via pyjnius with filesystem fallbacks

### Key Design Patterns
- **Template Method**: Abstract base defines interface, platforms implement specifics
- **Strategy Selection**: Runtime platform detection with single implementation loading
- **Dual API**: Both string and Path object interfaces for compatibility
- **Caching**: Extensive use of `@lru_cache` for performance optimization
- **Graceful Degradation**: Multiple fallback mechanisms for robust cross-platform operation

## Data Flow
1. Module import triggers platform detection in `__init__.py`
2. Appropriate platform class instantiated as `PlatformDirs`
3. Function calls delegate to platform-specific implementations
4. Platform classes use OS-specific APIs/conventions to resolve paths
5. Results passed through common formatting/validation in base class
6. Optional directory creation if `ensure_exists=True`

## Development & Testing
- `__main__.py`: Command-line demonstration tool showing all directory types
- `version.py`: Auto-generated version metadata via setuptools_scm

## Key Conventions
- Thread-safe, stateless operation
- Consistent parameter interfaces across all functions
- Platform-specific optimizations while maintaining API uniformity
- Opinion-based subdirectory organization (logs, runtime) when enabled
- Multipath support for systems with multiple standard locations
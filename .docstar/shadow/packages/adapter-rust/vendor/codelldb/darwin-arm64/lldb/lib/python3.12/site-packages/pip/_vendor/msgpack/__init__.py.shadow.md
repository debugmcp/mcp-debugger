# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/msgpack/__init__.py
@source-hash: 82c30fec94c40993
@generated: 2026-02-09T17:58:46Z

**Primary Purpose**: Main entry point and public API module for the msgpack library, providing MessagePack serialization/deserialization functionality with automatic fallback from optimized C extension to pure Python implementation.

**Version Information**:
- Version: 1.0.8 (L7-8)
- Supports version tuple format for programmatic access

**Core Import Strategy** (L11-17):
- Environment-controlled implementation selection via `MSGPACK_PUREPYTHON` env var
- Automatic fallback: C extension (`_cmsgpack`) → Pure Python (`fallback`) on ImportError
- Imports: `Packer`, `unpackb`, `Unpacker` classes from selected implementation

**Key Functions**:
- `pack(o, stream, **kwargs)` (L20-27): Serializes object to stream using Packer instance
- `packb(o, **kwargs)` (L30-36): Serializes object to bytes, returns packed data directly  
- `unpack(stream, **kwargs)` (L39-47): Deserializes from stream, reads entire stream content
- `unpackb`: Imported function for deserializing from bytes

**API Compatibility Aliases** (L50-55):
- `load`/`loads` → `unpack`/`unpackb` (JSON-style API)
- `dump`/`dumps` → `pack`/`packb` (pickle/marshal-style API)

**Dependencies**:
- `.exceptions` module (wildcard import for error handling)
- `.ext` module for `ExtType` and `Timestamp` extension types
- Conditional imports from `._cmsgpack` or `.fallback` modules

**Architectural Pattern**: 
- Facade pattern providing unified interface over multiple implementations
- Performance optimization through C extension with graceful fallback
- Consistency with standard library serialization APIs (json, pickle, marshal)
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/panel.py
@source-hash: d8577557b7b5907c
@generated: 2026-02-09T17:59:15Z

## Primary Purpose
Rich terminal library component that renders bordered panels around content with optional titles, subtitles, and various styling options.

## Key Classes and Functions

### Panel (L17-293)
Main class inheriting from JupyterMixin that creates bordered console renderables.

**Constructor (L38-69):**
- `renderable`: Content to wrap in border
- `box`: Border style (defaults to ROUNDED)
- `title/subtitle`: Optional header/footer text with alignment
- `expand`: Whether to stretch to console width (default True)
- `style/border_style`: Styling for content and border
- `width/height`: Optional fixed dimensions
- `padding`: Content padding (default (0,1))
- `safe_box`: Windows compatibility mode
- `highlight`: Enable title highlighting

**Key Methods:**
- `fit()` (L72-105): Alternative constructor with expand=False
- `_title` property (L108-121): Processes title text, strips newlines, adds padding
- `_subtitle` property (L124-137): Processes subtitle text similarly to title
- `__rich_console__()` (L139-270): Core rendering method that generates border segments
- `__rich_measure__()` (L272-292): Calculates panel dimensions

## Core Dependencies
- `.box`: Border character sets and styling
- `.text.Text`: Rich text handling and markup processing  
- `.segment.Segment`: Terminal output primitives
- `.padding.Padding`: Content spacing management
- `.style.Style`: Color and formatting
- `.measure`: Renderable dimension calculation

## Architecture Patterns
- **Rich Protocol**: Implements `__rich_console__` and `__rich_measure__` for console rendering
- **Generator Pattern**: Yields Segment objects for efficient terminal output
- **Builder Pattern**: Extensive parameter customization with sensible defaults
- **Property Pattern**: Lazy text processing in `_title` and `_subtitle`

## Critical Implementation Details
- Border rendering uses box characters with proper corner/edge alignment
- Text truncation and alignment handled by internal `align_text()` function (L157-199)
- Width calculation accounts for 2-character border overhead
- Title/subtitle embedding directly into top/bottom border lines
- Safe box mode substitutes Unicode characters for Windows compatibility

## Key Invariants
- Panel width always includes 2 characters for left/right borders
- Content area is always panel width - 2
- Title/subtitle text is normalized (no newlines, tab-expanded, padded)
- Expand mode stretches to console width, fit mode sizes to content
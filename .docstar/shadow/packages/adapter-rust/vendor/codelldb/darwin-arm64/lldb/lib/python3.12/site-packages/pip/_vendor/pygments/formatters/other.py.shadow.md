# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pygments/formatters/other.py
@source-hash: 80fc6493905d0335
@generated: 2026-02-09T17:57:29Z

## Purpose and Responsibility
Provides three utility formatters for Pygments syntax highlighting: NullFormatter for plain text output, RawTokenFormatter for serializing token streams, and TestcaseFormatter for generating test cases.

## Key Classes and Functions

### NullFormatter (L19-34)
- **Purpose**: Outputs text unchanged without any formatting
- **Aliases**: 'text', 'null' 
- **Key method**: `format(tokensource, outfile)` (L27-33) - writes tokens directly to output with optional encoding

### RawTokenFormatter (L36-117)  
- **Purpose**: Serializes tokens as tab-delimited format for storage/reconstruction
- **Aliases**: 'raw', 'tokens'
- **Output format**: `tokentype<TAB>repr(tokenstring)\n`
- **Key features**:
  - `__init__(**options)` (L62-78) - configures compression and error highlighting
  - `format(tokensource, outfile)` (L80-116) - handles binary output with optional compression
  - Compression support: gzip (L86-91) and bz2 (L92-101)
  - Error token highlighting via `error_color` option (L106-112)
- **Constraints**: Requires binary output file, forces ASCII encoding

### TestcaseFormatter (L130-161)
- **Purpose**: Generates Python test case code from token streams
- **Alias**: 'testcase'
- **Key method**: `format(tokensource, outfile)` (L144-161) - creates formatted test with token assertions
- **Template constants**: `TESTCASE_BEFORE` (L119-123), `TESTCASE_AFTER` (L124-127)
- **Constraint**: Only accepts None or 'utf-8' encoding

## Dependencies
- `pip._vendor.pygments.formatter.Formatter` (L11) - base class
- `pip._vendor.pygments.util.get_choice_opt` (L12) - option validation  
- `pip._vendor.pygments.token.Token` (L13) - token type constants
- `pip._vendor.pygments.console.colorize` (L14) - error highlighting

## Architectural Patterns
- All formatters inherit from base `Formatter` class
- Common pattern of `format(tokensource, outfile)` method for token processing
- Option-based configuration in constructors
- Binary vs text output handling distinction in RawTokenFormatter

## Critical Invariants
- RawTokenFormatter enforces ASCII encoding and binary output
- TestcaseFormatter restricts encoding to None or 'utf-8'
- Error color validation in RawTokenFormatter prevents invalid color names
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/requests/sessions.py
@source-hash: ca44c8f145864a5b
@generated: 2026-02-09T17:59:00Z

**Primary Purpose:**
Core HTTP session management for the requests library, providing cookie persistence, connection pooling, and configuration reuse across multiple requests.

**Key Classes & Functions:**

- `Session` (L356-817): Main session class that maintains state across requests
  - Inherits from `SessionRedirectMixin` for redirect handling
  - Manages cookies, auth, proxies, headers, hooks, SSL settings
  - Provides HTTP method wrappers: `get()` (L593), `post()` (L626), `put()` (L639), `patch()` (L651), `delete()` (L663), `options()` (L604), `head()` (L615)
  - Core methods: `request()` (L500), `send()` (L673), `prepare_request()` (L457)

- `SessionRedirectMixin` (L106-354): Handles HTTP redirects with security considerations
  - `resolve_redirects()` (L159): Generator that follows redirect chains
  - `should_strip_auth()` (L127): Determines when to remove auth headers during redirects
  - `rebuild_auth()` (L282), `rebuild_proxies()` (L302), `rebuild_method()` (L333): Update request components during redirects

- `merge_setting()` (L61): Merges request-level and session-level configurations
- `merge_hooks()` (L91): Specialized merger for hook dictionaries
- `session()` (L819): Deprecated factory function for Session instances

**Key Dependencies:**
- `HTTPAdapter` for protocol handling
- Cookie management from `.cookies` module
- Authentication utilities from `.auth`
- Various utilities from `.utils` for proxies, headers, etc.

**Critical Patterns:**
- Session acts as a context manager (L451-455)
- Adapter pattern for different protocols via `mount()` (L799)
- Request preparation pipeline merges session defaults with request-specific values
- Redirect handling preserves security by stripping auth on host changes
- Platform-specific clock selection for timing (L55-58)

**Security Considerations:**
- Auth header stripping during cross-host redirects
- SSL verification defaults to True
- Proxy auth handling for TLS tunneling
- Cookie extraction and merging during redirects

**State Management:**
Session maintains persistent state in `__attrs__` (L375-388): headers, cookies, auth, proxies, hooks, params, verify, cert, adapters, stream, trust_env, max_redirects.
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_internal/models/index.py
@source-hash: b589cbf28c468b86
@generated: 2026-02-09T17:58:29Z

**Primary Purpose:** Defines a model for Python Package Index endpoints with pre-configured instances for PyPI and TestPyPI.

**Core Class:**
- `PackageIndex` (L4-23): Represents a package index with URL management and endpoint generation
  - Uses `__slots__` for memory optimization with 5 attributes: url, netloc, simple_url, pypi_url, file_storage_domain
  - `__init__` (L9-19): Initializes from base URL and file storage domain, auto-generates simple/pypi endpoints
  - `_url_for_path` (L21-22): Private helper for URL path joining using urllib.parse.urljoin

**Key Attributes:**
- `url`: Base package index URL
- `netloc`: Network location extracted from URL for domain identification
- `simple_url`: Auto-generated endpoint for simple API (`/simple`)
- `pypi_url`: Auto-generated endpoint for PyPI API (`/pypi`) 
- `file_storage_domain`: Domain for file storage (security/blocking mechanism)

**Pre-configured Instances:**
- `PyPI` (L25): Production PyPI instance with files.pythonhosted.org storage
- `TestPyPI` (L26-28): Test PyPI instance with test-files.pythonhosted.org storage

**Dependencies:**
- `urllib.parse`: For URL manipulation (urlsplit, urljoin)

**Architectural Notes:**
- Memory-efficient design using `__slots__`
- Follows composition pattern for URL endpoint generation
- Includes temporary security mechanism via file_storage_domain for blocking external dependencies
- Provides convenient singleton instances for common package indexes
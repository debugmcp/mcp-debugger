# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_compat.py
@source-hash: 6f2e9ebeb627aa48
@generated: 2026-02-09T17:58:50Z

**Primary Purpose**: Compatibility shim for TOML parsing functionality across Python versions.

**Core Functionality**:
- Provides unified access to TOML parsing library regardless of Python version (L5-8)
- Uses native `tomllib` for Python 3.11+ (L6)
- Falls back to vendored `tomli` library for older Python versions (L8)

**Key Components**:
- `tomllib` - The exported TOML parsing module, conditionally imported based on Python version
- Version detection logic using `sys.version_info` (L5)

**Dependencies**:
- `sys` - Standard library for version detection (L3)
- `tomllib` - Native TOML library in Python 3.11+ (L6)
- `pip._vendor.tomli` - Vendored TOML parser for backwards compatibility (L8)

**Architectural Pattern**:
- Classic compatibility layer pattern ensuring consistent API across Python versions
- Single export (`__all__`) maintains clean public interface (L1)
- Conditional import strategy based on runtime version detection

**Usage Context**:
Part of pip's vendored pyproject-hooks package, enabling TOML parsing for project metadata regardless of Python version. Critical for PEP 517/518 build system integration.
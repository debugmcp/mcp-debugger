# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/live.py
@source-hash: bd4727255d8b3122
@generated: 2026-02-09T17:59:20Z

## Rich Live Display Module

**Primary Purpose**: Provides auto-updating live display functionality for renderables in terminal applications, with support for threaded refresh cycles, I/O redirection, and alternate screen modes.

**Core Classes**:

### _RefreshThread (L16-33)
Background daemon thread that calls `Live.refresh()` at configurable intervals. Uses threading.Event for clean shutdown coordination and RLock synchronization with the main Live instance.

### Live (L35-268) 
Main class implementing auto-updating live display functionality. Inherits from JupyterMixin and RenderHook for Jupyter notebook and console rendering integration.

**Key Methods**:
- `__init__` (L51-90): Configures display parameters including refresh rate, screen mode, I/O redirection, and vertical overflow handling
- `start()` (L104-132): Initializes live display with console setup, optional alternate screen mode, I/O redirection, and refresh thread startup
- `stop()` (L134-164): Cleanly shuts down live display, restores I/O streams, and handles transient cleanup
- `refresh()` (L220-247): Core update method that renders current content, with special handling for Jupyter vs terminal environments
- `update()` (L206-218): Updates the renderable content with optional immediate refresh
- `process_renderables()` (L249-268): RenderHook implementation that positions cursor and manages display state

**Key Properties**:
- `renderable` (L196-204): Returns current display content, wrapping in Screen for alternate screen mode
- `is_started` (L91-94): Thread-safe status check
- `get_renderable()` (L96-102): Resolves content from either callable or direct renderable

**Architecture Patterns**:
- **Context Manager**: Supports `with` statement for automatic start/stop lifecycle
- **Thread Safety**: Uses RLock (`_lock`) throughout for concurrent access protection  
- **I/O Redirection**: Intercepts stdout/stderr via FileProxy when enabled
- **Dual Mode Operation**: Handles both alternate screen and inline display modes
- **Jupyter Integration**: Specialized rendering path using ipywidgets Output for notebook environments

**Critical Dependencies**:
- `LiveRender` (L87-89): Handles actual rendering and cursor positioning
- `Console`: Core Rich console for output management and terminal control
- `FileProxy`: Enables stdout/stderr redirection during live display
- `Screen`: Wraps renderables for alternate screen mode

**Key Constraints**:
- `refresh_per_second > 0` enforced (L65)
- Thread synchronization required for all state changes
- Transient mode forced when using alternate screen (L80)
- I/O redirection only active for terminal/Jupyter environments (L179)

**Demo Code** (L271-375): Complete example showing live updating exchange rate table with random data generation and periodic console logging.
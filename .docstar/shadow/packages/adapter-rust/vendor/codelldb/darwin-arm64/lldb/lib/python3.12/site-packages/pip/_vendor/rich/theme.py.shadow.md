# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/rich/theme.py
@source-hash: 6de9452688330345
@generated: 2026-02-09T17:59:15Z

## Purpose
Rich library theme management system providing configurable styling for console output. Implements theme composition through inheritance and stack-based layering for dynamic style application.

## Key Components

### Theme Class (L8-73)
Main theme container that manages style mappings for console rendering.

**Constructor (L18-28):**
- `styles`: Optional mapping of style names to StyleType objects
- `inherit`: Boolean flag to include DEFAULT_STYLES (defaults True)
- Normalizes input styles to Style objects via Style.parse()

**Key Methods:**
- `config` property (L30-36): Generates INI-format config string representation
- `from_file()` classmethod (L38-56): Loads theme from ConfigParser-compatible file
- `read()` classmethod (L58-73): Convenience method for loading from file path

### ThemeStack Class (L80-110)
Stack-based theme management for layered style application.

**Core Functionality:**
- `__init__` (L87-89): Initializes with base theme, sets up dynamic `get` method binding
- `push_theme()` (L91-103): Adds theme layer with optional inheritance from current top
- `pop_theme()` (L105-110): Removes top theme layer, prevents popping base theme

**Architecture Pattern:**
Uses method binding (`self.get = self._entries[-1].get`) for O(1) style lookups without method call overhead.

### Exception Handling
- `ThemeStackError` (L76-77): Custom exception for theme stack operations

## Dependencies
- `configparser`: For INI file parsing in theme loading
- `.default_styles.DEFAULT_STYLES`: Base style definitions
- `.style.Style, StyleType`: Style parsing and type definitions

## Key Invariants
- ThemeStack always maintains at least one theme (base theme cannot be popped)
- Style objects are normalized during Theme construction
- Dynamic method binding maintains performance for frequent style lookups
# packages/adapter-rust/vendor/codelldb/darwin-arm64/lldb/lib/python3.12/site-packages/pip/_vendor/requests/models.py
@source-hash: c782b80a61fe942d
@generated: 2026-02-09T17:59:09Z

## Primary Purpose
Core HTTP request/response models for the Requests library, providing the primary objects that power HTTP communication. Contains request preparation, response handling, and data encoding/decoding functionality.

## Key Classes and Functions

### RequestEncodingMixin (L84-204)
Utility mixin providing encoding methods for HTTP requests:
- `path_url` property (L86-104): Constructs path portion of URL from parsed components
- `_encode_params()` static method (L107-134): Encodes form parameters, handling dict/list formats with UTF-8 encoding
- `_encode_files()` static method (L137-203): Builds multipart/form-data body from files and data, supporting 2-4 tuple formats for file specification

### RequestHooksMixin (L206-228)
Hook management mixin for request lifecycle callbacks:
- `register_hook()` (L207-216): Adds callable hooks for specific events
- `deregister_hook()` (L218-227): Removes previously registered hooks

### Request (L230-311)
User-facing request object for creating HTTP requests:
- `__init__()` (L258-290): Accepts method, URL, headers, files, data, params, auth, cookies, hooks, json
- `prepare()` (L295-310): Converts to PreparedRequest for actual transmission

### PreparedRequest (L313-638)
Fully prepared HTTP request ready for transmission, inheriting from both encoding and hooks mixins:
- `__init__()` (L334-349): Initializes empty request with None values
- `prepare()` (L351-377): Main preparation orchestrator calling individual prepare methods
- `copy()` (L382-391): Deep copy with proper cookie jar handling
- `prepare_method()` (L393-397): Normalizes HTTP method to uppercase
- `prepare_url()` (L409-481): Complex URL validation, IDNA encoding, parameter merging
- `prepare_headers()` (L483-492): Header validation and normalization
- `prepare_body()` (L494-570): Body preparation with JSON/form-data/streaming support
- `prepare_content_length()` (L572-586): Sets Content-Length header based on body
- `prepare_auth()` (L588-608): Authentication handling including URL-based auth extraction
- `prepare_cookies()` (L610-628): Cookie jar processing and header generation
- `prepare_hooks()` (L630-637): Hook registration from provided dict

### Response (L640-1037)
HTTP response object containing server response data and metadata:
- `__init__()` (L658-703): Initializes response with default values and attributes
- Context manager support (L705-709): `__enter__`/`__exit__` for automatic cleanup
- Pickle support (L711-725): `__getstate__`/`__setstate__` for serialization
- Boolean evaluation (L730-748): Returns True for status codes < 400
- Iterator support (L750-752): Allows iteration over content chunks
- `ok` property (L755-767): Status code validation using raise_for_status
- `is_redirect` property (L770-774): Checks for redirect status and Location header
- `is_permanent_redirect` property (L777-782): Identifies permanent redirects (301, 308)
- `apparent_encoding` property (L790-797): Encoding detection using chardet/charset_normalizer
- `iter_content()` (L799-855): Streaming content iteration with chunk size control
- `iter_lines()` (L857-888): Line-by-line content iteration with delimiter support
- `content` property (L891-907): Lazy-loaded response body as bytes
- `text` property (L910-945): Unicode content with automatic encoding detection
- `json()` (L947-978): JSON parsing with UTF encoding detection and custom kwargs
- `links` property (L981-995): Parses Link header into dictionary
- `raise_for_status()` (L997-1024): Raises HTTPError for 4xx/5xx status codes
- `close()` (L1026-1036): Connection cleanup and resource release

## Key Constants
- `REDIRECT_STATI` (L71-77): Tuple of redirect status codes (301, 302, 303, 307, 308)
- `DEFAULT_REDIRECT_LIMIT` (L79): Maximum redirects (30)
- `CONTENT_CHUNK_SIZE` (L80): Default chunk size for content reading (10KB)
- `ITER_CHUNK_SIZE` (L81): Default chunk size for line iteration (512 bytes)

## Dependencies
- urllib3: Core HTTP functionality, multipart encoding, URL parsing
- Internal modules: auth, compat, cookies, exceptions, hooks, status_codes, structures, utils
- Standard library: datetime, encodings.idna

## Architecture Patterns
- Mixin pattern for shared functionality (encoding, hooks)
- Lazy evaluation for response content and encoding
- Comprehensive error handling with custom exception wrapping
- Stream-aware processing for large responses
- Hook system for request/response lifecycle customization
- IDNA encoding support for internationalized domain names
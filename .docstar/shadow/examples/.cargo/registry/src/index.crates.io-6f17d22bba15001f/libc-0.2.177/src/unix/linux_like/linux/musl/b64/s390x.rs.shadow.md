# examples/.cargo/registry/src/index.crates.io-6f17d22bba15001f/libc-0.2.177/src/unix/linux_like/linux/musl/b64/s390x.rs
@source-hash: 30f9ac1527e49a57
@generated: 2026-02-09T17:58:28Z

## Primary Purpose
Platform-specific type definitions and constants for s390x architecture on Linux with musl libc. This file provides the low-level C ABI interface layer for system programming on IBM s390x systems.

## Architecture Context
- **Target**: s390x (IBM System z) 64-bit architecture
- **C Library**: musl libc
- **OS**: Linux
- **Path hierarchy**: unix/linux_like/linux/musl/b64/s390x.rs indicates 64-bit musl Linux specifics

## Key Type Definitions (L1-11)
- **Primitive types**: `blksize_t` (L4), `nlink_t` (L5), `wchar_t` (L6), `greg_t` (L7)
- **Sized integers**: `__u64` (L8), `__s64` (L9) - kernel-style type aliases
- **File system alias**: `statfs64` = `statfs` (L10) - indicates 64-bit default

## Core Structures

### IPC Permissions (L12-32)
`ipc_perm` struct with musl version compatibility:
- **Version-dependent field**: `__key`/`__ipc_perm_key` (L14-22) with deprecation handling
- **Standard fields**: uid/gid ownership, mode, sequence number

### File System Metadata (L33-87)
- **`stat` struct (L33-51)**: Standard POSIX file metadata with nanosecond timestamps
- **`stat64` struct (L53-71)**: 64-bit variant using `ino64_t` and `blkcnt64_t`
- **`statfs` struct (L73-86)**: File system statistics with s390x-specific layout

### Floating-Point Register Union (L89-112)
`fpreg_t` union (L90-93) with conditional trait implementations:
- **Union fields**: `d` (double), `f` (float)
- **Trait implementations**: PartialEq, Eq, Hash with `unimplemented!` placeholders (L98-110)

## Constants Categories

### Terminal I/O (L114, L266-358)
- **Control characters**: `VEOF` (L114), `VEOL`/`VEOL2` (L266-267), `VMIN` (L268)
- **Terminal flags**: Input (`IXON`/`IXOFF`), Output (`OLCUC`/`ONLCR`), Control (`CBAUD`/`CSIZE`)
- **Baud rates**: Extended rates from 57600 to 4000000 (L324-338)

### Error Codes (L116-241)
Linux-specific errno values for s390x:
- **Extended errors**: `EUCLEAN` (117), `ENOTNAM` (118), `ENAVAIL` (119)
- **Network errors**: `EADDRINUSE` (98) through `ERFKILL` (132)
- **Key management**: `ENOKEY` through `EKEYREJECTED` (L233-236)

### File Operations (L130-165)
- **Open flags**: `O_LARGEFILE` (0x8000), `O_DIRECTORY` (0x10000), `O_NOFOLLOW` (0x20000)
- **Memory mapping**: `MAP_HUGETLB` (0x040000), `MAP_SYNC` (0x080000), `MADV_SOFT_OFFLINE` (101)

### Signals (L135-263)
- **Stack management**: `SIGSTKSZ` (0x2000), `MINSIGSTKSZ` (2048)
- **Signal actions**: `SA_ONSTACK` (0x08000000), `SA_SIGINFO` (4)
- **Standard signals**: Complete POSIX signal set with s390x-specific values

### System Calls (L359-732)
Comprehensive s390x system call number definitions:
- **Basic operations**: `SYS_read` (3), `SYS_write` (4), `SYS_open` (5)
- **Process management**: `SYS_fork` (2), `SYS_clone` (120), `SYS_clone3` (435)
- **s390x-specific**: `SYS_s390_runtime_instr` (342), `SYS_s390_pci_mmio_write` (352)
- **Modern additions**: `SYS_io_uring_*` (425-427), `SYS_landlock_*` (444-446)

## Architecture-Specific Features
- **s390x syscalls**: Runtime instrumentation, PCI MMIO, guarded storage
- **64-bit defaults**: Most types use 64-bit variants by default
- **IBM Z optimizations**: Memory management and I/O constants tuned for mainframe architecture

## Dependencies
- **Core imports**: `crate::off_t` (L1), `crate::prelude::*` (L2)
- **Cross-references**: Extensive use of `crate::` prefixed types for platform abstraction
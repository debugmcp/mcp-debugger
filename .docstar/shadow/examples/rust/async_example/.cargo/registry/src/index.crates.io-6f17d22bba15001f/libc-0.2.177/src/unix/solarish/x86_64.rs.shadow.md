# examples/rust/async_example/.cargo/registry/src/index.crates.io-6f17d22bba15001f/libc-0.2.177/src/unix/solarish/x86_64.rs
@source-hash: d888cd12da647f54
@generated: 2026-02-09T18:02:37Z

## Purpose
Platform-specific type definitions and constants for x86_64 Solarish systems (Solaris/illumos) in the libc crate. Provides low-level system interface bindings for 64-bit architectures.

## Key Type Definitions

### Primitive Type Aliases (L9-19)
- `greg_t` (L9): General register type, aliased to `c_long`
- ELF64 types (L11-18): Standard 64-bit ELF format type mappings for Solaris
- `Elf64_Phdr` (L19): Program header type aliased to custom struct

### Core Structures (L21-62)

#### FPU State Structure (L22-37)
- `__c_anonymous_fpchip_state`: x86_64 floating-point processor state
  - Contains x87 FPU registers (`cw`, `sw`, `fctw`)
  - SSE state (`mxcsr`, `mxcsr_mask`, `xmm` array)
  - x87 stack registers (`st` array) and status fields

#### ELF Program Header (L39-48)
- `__c_anonymous_Elf64_Phdr`: ELF64 program header structure
- Standard ELF fields for segment loading and memory mapping

#### Dynamic Linker Info (L50-61)
- `dl_phdr_info`: Dynamic linker program header information
- Solaris-specific TLS fields conditionally compiled (L57-60)

### Context Structures (L64-98)

#### Floating-Point Register Set (L65-72)
- `__c_anonymous_fp_reg_set`: Union for different FPU representations
- `fpregset_t`: Wrapper for floating-point register set

#### Machine Context (L74-77)
- `mcontext_t`: Complete machine context with general and FP registers

#### User Context (L79-97)
- `ucontext_t`: Full user context for signal handling and threading
- Platform-specific fields for illumos (L85-90) and Solaris (L91-96)

## Equality Implementations (L100-139)
Conditional `PartialEq`/`Eq` trait implementations when `extra_traits` feature is enabled. Handles unsafe union comparisons for `__c_anonymous_fp_reg_set` (L102-113).

## Register Constants (L141-170)
x86_64 register index constants from sys/regset.h for accessing `mcontext_t.gregs` array:
- General purpose registers (RAX-R15): indices 0-14
- Special registers (RIP, RSP, etc.): indices 15-27
- Segment registers and system state: indices 22-27

## Dependencies
- Uses `crate::prelude::*` for common libc types
- Conditional import of Solaris-specific definitions (L4-6)
- References `crate::upad128_t` for 128-bit padding types

## Architectural Notes
- x86_64-specific register layout and FPU state representation
- Supports both Solaris and illumos variants through conditional compilation
- Union types require unsafe access patterns for equality comparisons